{"ast":null,"code":"import{date_dmy_func}from\"../../components/Common/CommonFunction\";import{numberWithCommas}from\"../Report_common_function\";export var columns=[\"Date \",\"Doc No\",\"Customer Name\",\"Item Name\",\"MRP \",\"Return Quantity\",\"Approve Quantity\",\"Rate Without GST\",\"Discount Amount\",\"Taxable Amount\",\"GST %\",\"GST Amount\",\"Amount\"];export var Footercolumn=[\"\"];export var Return=[\"Return\"];export var BilledBy=[\"Billed by\"];export var BilledTo=[\"Billed by\"];export var DetailsOfTransport=[\"Billed by\"];export var Bankcolumn=[\"\",\"\",\"\"];export var Rows=function Rows(data){var _data$ClaimSummaryIte=data.ClaimSummaryItemDetails,ClaimSummaryItemDetails=_data$ClaimSummaryIte===void 0?[]:_data$ClaimSummaryIte;function extractNumber(fullReturnNumber){var match=fullReturnNumber.match(/\\d+/);return match?parseInt(match[0]):0;}ClaimSummaryItemDetails.sort(function(a,b){return extractNumber(a.FullReturnNumber)-extractNumber(b.FullReturnNumber);});var returnArr=[];var Gst=0;var totalTaxableAmount=0;var totalGst=0;var totalAmount=0;var totalQuantity=0;var totalApprovedQuantity=0;var GSTPercentage=0;ClaimSummaryItemDetails.forEach(function(element,key){var TotalGST=Number(element.CGST)+Number(element.SGST);var tableitemRow=[\"\".concat(date_dmy_func(element.ReturnDate)),\"\".concat(element.FullReturnNumber),\"\".concat(element.CustomerName),\"\".concat(element.ItemName),\"\".concat(numberWithCommas(Number(element.MRP).toFixed(2))),\"\".concat(numberWithCommas(Number(element.Quantity).toFixed(2))),\"\".concat(numberWithCommas(Number(element.ApprovedQuantity).toFixed(2))),\"\".concat(numberWithCommas(Number(element.Rate).toFixed(2))),\"\".concat(numberWithCommas(Number(element.DiscountAmount).toFixed(2))),\"\".concat(numberWithCommas(Number(element.TaxableAmount).toFixed(2))),\"\".concat(numberWithCommas(Number(element.GST).toFixed(2)),\"%\"),\"\".concat(numberWithCommas(Number(TotalGST).toFixed(2))),\"\".concat(numberWithCommas(Number(element.Amount).toFixed(2)))];function totalLots(){totalQuantity=Number(totalQuantity)+Number(element.Quantity);totalApprovedQuantity=Number(totalApprovedQuantity)+Number(element.ApprovedQuantity);totalTaxableAmount=Number(totalTaxableAmount)+Number(element.TaxableAmount);totalGst=Number(totalGst)+Number(TotalGST);totalAmount=Number(totalAmount)+Number(element.Amount);GSTPercentage=Number(element.GST);};function totalrow(){return[\"Total\",\" \",\"\",\"\",\"\",\"\".concat(numberWithCommas(Number(totalQuantity).toFixed(2))),\"\".concat(numberWithCommas(Number(totalApprovedQuantity).toFixed(2))),\"\",\"\",\"\".concat(numberWithCommas(Number(totalTaxableAmount).toFixed(2))),\"\",\"\".concat(numberWithCommas(Number(totalGst).toFixed(2))),\"\".concat(numberWithCommas(Number(totalAmount).toFixed(2)))];};if(Gst===0){Gst=element.GST;};var aa={TotalCGst:0,totalSGst:0};if(data[\"tableTot\"]===undefined){data[\"tableTot\"]=aa;}if(Gst===element.GST){data[\"tableTot\"]=totalLots();returnArr.push(tableitemRow);}else{// returnArr.push(totalrow());\nreturnArr.push(tableitemRow);data[\"tableTot\"]=totalLots();Gst=element.GST;}if(key===ClaimSummaryItemDetails.length-1){returnArr.push(totalrow());}});return returnArr;};export var BilledByRow=function BilledByRow(data){var BilledByArray=[[\"                  \".concat(data.PartyDetails.PartyName)],[\"                  \".concat(data.PartyDetails.Address)],[\"                  \".concat(data.PartyDetails.MobileNo)]];return BilledByArray;};export var BilledToRow=function BilledToRow(data){var BilledToArray=[[\"                   \".concat(data.PartyDetails.GSTIN)],[\"                  \".concat(data.PartyDetails.FSSAINo)]];return BilledToArray;};export var DetailsOfTransportRow=function DetailsOfTransportRow(data){var DetailsOfTransportArray=[[\"Claim No: {}\"],[\"Period :\"]];return DetailsOfTransportArray;};export var ReturnReason=function ReturnReason(data){var ReturnReasonArray=[[\"Return Reason :\".concat(data.ReturnReason===null?\"\":data.ReturnReason)]];return ReturnReasonArray;};","map":{"version":3,"names":["date_dmy_func","numberWithCommas","columns","Footercolumn","Return","BilledBy","BilledTo","DetailsOfTransport","Bankcolumn","Rows","data","ClaimSummaryItemDetails","extractNumber","fullReturnNumber","match","parseInt","sort","a","b","FullReturnNumber","returnArr","Gst","totalTaxableAmount","totalGst","totalAmount","totalQuantity","totalApprovedQuantity","GSTPercentage","forEach","element","key","TotalGST","Number","CGST","SGST","tableitemRow","ReturnDate","CustomerName","ItemName","MRP","toFixed","Quantity","ApprovedQuantity","Rate","DiscountAmount","TaxableAmount","GST","Amount","totalLots","totalrow","aa","TotalCGst","totalSGst","undefined","push","length","BilledByRow","BilledByArray","PartyDetails","PartyName","Address","MobileNo","BilledToRow","BilledToArray","GSTIN","FSSAINo","DetailsOfTransportRow","DetailsOfTransportArray","ReturnReason","ReturnReasonArray"],"sources":["D:/Rohit/Git projects/Manthan/src/Reports/CustomerWiseReturnReport/TableData.js"],"sourcesContent":["import { date_dmy_func } from \"../../components/Common/CommonFunction\";\r\nimport { numberWithCommas } from \"../Report_common_function\";\r\n\r\nexport const columns = [\r\n    \"Date \",\r\n    \"Doc No\",\r\n    \"Customer Name\",\r\n    \"Item Name\",\r\n    \"MRP \",\r\n    \"Return Quantity\",\r\n    \"Approve Quantity\",\r\n    \"Rate Without GST\",\r\n    \"Discount Amount\",\r\n    \"Taxable Amount\",\r\n    \"GST %\",\r\n    \"GST Amount\",\r\n    \"Amount\",\r\n];\r\n\r\n\r\n\r\nexport const Footercolumn = [\r\n    \"\",\r\n]\r\nexport const Return = [\r\n    \"Return\",\r\n]\r\nexport const BilledBy = [\r\n    \"Billed by\",\r\n]\r\nexport const BilledTo = [\r\n    \"Billed by\",\r\n]\r\nexport const DetailsOfTransport = [\r\n    \"Billed by\",\r\n]\r\n\r\nexport const Bankcolumn = [\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n]\r\n\r\nexport const Rows = (data) => {\r\n\r\n    const { ClaimSummaryItemDetails = [] } = data\r\n    function extractNumber(fullReturnNumber) {\r\n        const match = fullReturnNumber.match(/\\d+/);\r\n        return match ? parseInt(match[0]) : 0;\r\n    }\r\n    ClaimSummaryItemDetails.sort((a, b) => extractNumber(a.FullReturnNumber) - extractNumber(b.FullReturnNumber));\r\n\r\n    const returnArr = [];\r\n    let Gst = 0\r\n    let totalTaxableAmount = 0\r\n    let totalGst = 0\r\n    let totalAmount = 0\r\n    let totalQuantity = 0\r\n    let totalApprovedQuantity = 0\r\n\r\n\r\n\r\n\r\n    let GSTPercentage = 0\r\n\r\n    ClaimSummaryItemDetails.forEach((element, key) => {\r\n\r\n        const TotalGST = (Number(element.CGST)) + (Number(element.SGST))\r\n        const tableitemRow = [\r\n            `${date_dmy_func(element.ReturnDate)}`,\r\n            `${(element.FullReturnNumber)}`,\r\n            `${(element.CustomerName)}`,\r\n            `${(element.ItemName)}`,\r\n            `${numberWithCommas(Number(element.MRP).toFixed(2))}`,\r\n            `${numberWithCommas(Number(element.Quantity).toFixed(2))}`,\r\n            `${numberWithCommas(Number(element.ApprovedQuantity).toFixed(2))}`,\r\n            `${numberWithCommas(Number(element.Rate).toFixed(2))}`,\r\n            `${numberWithCommas(Number(element.DiscountAmount).toFixed(2))}`,\r\n            `${numberWithCommas(Number(element.TaxableAmount).toFixed(2))}`,\r\n            `${numberWithCommas(Number(element.GST).toFixed(2))}%`,\r\n            `${numberWithCommas(Number(TotalGST).toFixed(2))}`,\r\n            `${numberWithCommas(Number(element.Amount).toFixed(2))}`,\r\n        ];\r\n\r\n        function totalLots() {\r\n            totalQuantity = Number(totalQuantity) + Number(element.Quantity)\r\n            totalApprovedQuantity = Number(totalApprovedQuantity) + Number(element.ApprovedQuantity)\r\n            totalTaxableAmount = Number(totalTaxableAmount) + Number(element.TaxableAmount)\r\n            totalGst = Number(totalGst) + Number(TotalGST)\r\n            totalAmount = Number(totalAmount) + Number(element.Amount);\r\n            GSTPercentage = Number(element.GST)\r\n\r\n        };\r\n\r\n        function totalrow() {\r\n\r\n            return [\r\n                `Total`,\r\n                ` `,\r\n                ``,\r\n                ``,\r\n                ``,\r\n                `${numberWithCommas(Number(totalQuantity).toFixed(2))}`,\r\n                `${numberWithCommas(Number(totalApprovedQuantity).toFixed(2))}`,\r\n                ``,\r\n                ``,\r\n                `${numberWithCommas(Number(totalTaxableAmount).toFixed(2))}`,\r\n                ``,\r\n                `${numberWithCommas(Number(totalGst).toFixed(2))}`,\r\n                `${numberWithCommas(Number(totalAmount).toFixed(2))}`,\r\n\r\n            ];\r\n        };\r\n\r\n\r\n        if (Gst === 0) { Gst = element.GST };\r\n        let aa = { TotalCGst: 0, totalSGst: 0 }\r\n        if (data[\"tableTot\"] === undefined) { data[\"tableTot\"] = aa }\r\n\r\n        if ((Gst === element.GST)) {\r\n            data[\"tableTot\"] = totalLots()\r\n            returnArr.push(tableitemRow)\r\n\r\n        }\r\n\r\n\r\n        else {\r\n            // returnArr.push(totalrow());\r\n            returnArr.push(tableitemRow);\r\n\r\n            data[\"tableTot\"] = totalLots()\r\n            Gst = element.GST;\r\n        }\r\n        if (key === ClaimSummaryItemDetails.length - 1) {\r\n            returnArr.push(totalrow());\r\n        }\r\n    })\r\n    return returnArr;\r\n}\r\n\r\n\r\nexport const BilledByRow = (data) => {\r\n\r\n    var BilledByArray = [\r\n        [`                  ${data.PartyDetails.PartyName}`],\r\n        [`                  ${data.PartyDetails.Address}`],\r\n        [`                  ${data.PartyDetails.MobileNo}`],\r\n    ]\r\n    return BilledByArray;\r\n}\r\nexport const BilledToRow = (data) => {\r\n\r\n    var BilledToArray = [\r\n        [`                   ${data.PartyDetails.GSTIN}`],\r\n        [`                  ${data.PartyDetails.FSSAINo}`],\r\n    ]\r\n\r\n    return BilledToArray;\r\n}\r\nexport const DetailsOfTransportRow = (data) => {\r\n\r\n    var DetailsOfTransportArray = [\r\n\r\n        [`Claim No: {}`],\r\n        [`Period :`],\r\n\r\n    ]\r\n\r\n    return DetailsOfTransportArray;\r\n}\r\n\r\nexport const ReturnReason = (data) => {\r\n\r\n    var ReturnReasonArray = [\r\n        [`Return Reason :${data.ReturnReason === null ? \"\" : data.ReturnReason}`],\r\n    ]\r\n\r\n    return ReturnReasonArray;\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}