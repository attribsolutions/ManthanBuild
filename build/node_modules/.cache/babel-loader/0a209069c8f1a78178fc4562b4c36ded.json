{"ast":null,"code":"'use strict';\n\nvar d3 = require('@plotly/d3');\n\nvar isNumeric = require('fast-isnumeric');\n\nvar Plots = require('../../plots/plots');\n\nvar Registry = require('../../registry');\n\nvar Lib = require('../../lib');\n\nvar strTranslate = Lib.strTranslate;\n\nvar Drawing = require('../drawing');\n\nvar Color = require('../color');\n\nvar svgTextUtils = require('../../lib/svg_text_utils');\n\nvar interactConstants = require('../../constants/interactions');\n\nvar OPPOSITE_SIDE = require('../../constants/alignment').OPPOSITE_SIDE;\n\nvar numStripRE = / [XY][0-9]* /;\n/**\n * Titles - (re)draw titles on the axes and plot:\n * @param {DOM element} gd - the graphDiv\n * @param {string} titleClass - the css class of this title\n * @param {object} options - how and what to draw\n *      propContainer - the layout object containing `title` and `titlefont`\n *          attributes that apply to this title\n *      propName - the full name of the title property (for Plotly.relayout)\n *      [traceIndex] - include only if this property applies to one trace\n *          (such as a colorbar title) - then editing pipes to Plotly.restyle\n *          instead of Plotly.relayout\n *      placeholder - placeholder text for an empty editable title\n *      [avoid] {object} - include if this title should move to avoid other elements\n *          selection - d3 selection of elements to avoid\n *          side - which direction to move if there is a conflict\n *          [offsetLeft] - if these elements are subject to a translation\n *              wrt the title element\n *          [offsetTop]\n *      attributes {object} - position and alignment attributes\n *          x - pixels\n *          y - pixels\n *          text-anchor - start|middle|end\n *      transform {object} - how to transform the title after positioning\n *          rotate - degrees\n *          offset - shift up/down in the rotated frame (unused?)\n *      containerGroup - if an svg <g> element already exists to hold this\n *          title, include here. Otherwise it will go in fullLayout._infolayer\n *      _meta {object (optional} - meta key-value to for title with\n *          Lib.templateString, default to fullLayout._meta, if not provided\n *\n *  @return {selection} d3 selection of title container group\n */\n\nfunction draw(gd, titleClass, options) {\n  var cont = options.propContainer;\n  var prop = options.propName;\n  var placeholder = options.placeholder;\n  var traceIndex = options.traceIndex;\n  var avoid = options.avoid || {};\n  var attributes = options.attributes;\n  var transform = options.transform;\n  var group = options.containerGroup;\n  var fullLayout = gd._fullLayout;\n  var opacity = 1;\n  var isplaceholder = false;\n  var title = cont.title;\n  var txt = (title && title.text ? title.text : '').trim();\n  var font = title && title.font ? title.font : {};\n  var fontFamily = font.family;\n  var fontSize = font.size;\n  var fontColor = font.color; // only make this title editable if we positively identify its property\n  // as one that has editing enabled.\n\n  var editAttr;\n  if (prop === 'title.text') editAttr = 'titleText';else if (prop.indexOf('axis') !== -1) editAttr = 'axisTitleText';else if (prop.indexOf('colorbar' !== -1)) editAttr = 'colorbarTitleText';\n  var editable = gd._context.edits[editAttr];\n  if (txt === '') opacity = 0; // look for placeholder text while stripping out numbers from eg X2, Y3\n  // this is just for backward compatibility with the old version that had\n  // \"Click to enter X2 title\" and may have gotten saved in some old plots,\n  // we don't want this to show up when these are displayed.\n  else if (txt.replace(numStripRE, ' % ') === placeholder.replace(numStripRE, ' % ')) {\n    opacity = 0.2;\n    isplaceholder = true;\n    if (!editable) txt = '';\n  }\n\n  if (options._meta) {\n    txt = Lib.templateString(txt, options._meta);\n  } else if (fullLayout._meta) {\n    txt = Lib.templateString(txt, fullLayout._meta);\n  }\n\n  var elShouldExist = txt || editable;\n  var hColorbarMoveTitle;\n\n  if (!group) {\n    group = Lib.ensureSingle(fullLayout._infolayer, 'g', 'g-' + titleClass);\n    hColorbarMoveTitle = fullLayout._hColorbarMoveTitle;\n  }\n\n  var el = group.selectAll('text').data(elShouldExist ? [0] : []);\n  el.enter().append('text');\n  el.text(txt) // this is hacky, but convertToTspans uses the class\n  // to determine whether to rotate mathJax...\n  // so we need to clear out any old class and put the\n  // correct one (only relevant for colorbars, at least\n  // for now) - ie don't use .classed\n  .attr('class', titleClass);\n  el.exit().remove();\n  if (!elShouldExist) return group;\n\n  function titleLayout(titleEl) {\n    Lib.syncOrAsync([drawTitle, scootTitle], titleEl);\n  }\n\n  function drawTitle(titleEl) {\n    var transformVal;\n\n    if (!transform && hColorbarMoveTitle) {\n      transform = {};\n    }\n\n    if (transform) {\n      transformVal = '';\n\n      if (transform.rotate) {\n        transformVal += 'rotate(' + [transform.rotate, attributes.x, attributes.y] + ')';\n      }\n\n      if (transform.offset || hColorbarMoveTitle) {\n        transformVal += strTranslate(0, (transform.offset || 0) - (hColorbarMoveTitle || 0));\n      }\n    } else {\n      transformVal = null;\n    }\n\n    titleEl.attr('transform', transformVal);\n    titleEl.style({\n      'font-family': fontFamily,\n      'font-size': d3.round(fontSize, 2) + 'px',\n      fill: Color.rgb(fontColor),\n      opacity: opacity * Color.opacity(fontColor),\n      'font-weight': Plots.fontWeight\n    }).attr(attributes).call(svgTextUtils.convertToTspans, gd);\n    return Plots.previousPromises(gd);\n  }\n\n  function scootTitle(titleElIn) {\n    var titleGroup = d3.select(titleElIn.node().parentNode);\n\n    if (avoid && avoid.selection && avoid.side && txt) {\n      titleGroup.attr('transform', null); // move toward avoid.side (= left, right, top, bottom) if needed\n      // can include pad (pixels, default 2)\n\n      var backside = OPPOSITE_SIDE[avoid.side];\n      var shiftSign = avoid.side === 'left' || avoid.side === 'top' ? -1 : 1;\n      var pad = isNumeric(avoid.pad) ? avoid.pad : 2;\n      var titlebb = Drawing.bBox(titleGroup.node());\n      var paperbb = {\n        left: 0,\n        top: 0,\n        right: fullLayout.width,\n        bottom: fullLayout.height\n      };\n      var maxshift = avoid.maxShift || shiftSign * (paperbb[avoid.side] - titlebb[avoid.side]);\n      var shift = 0; // Prevent the title going off the paper\n\n      if (maxshift < 0) {\n        shift = maxshift;\n      } else {\n        // so we don't have to offset each avoided element,\n        // give the title the opposite offset\n        var offsetLeft = avoid.offsetLeft || 0;\n        var offsetTop = avoid.offsetTop || 0;\n        titlebb.left -= offsetLeft;\n        titlebb.right -= offsetLeft;\n        titlebb.top -= offsetTop;\n        titlebb.bottom -= offsetTop; // iterate over a set of elements (avoid.selection)\n        // to avoid collisions with\n\n        avoid.selection.each(function () {\n          var avoidbb = Drawing.bBox(this);\n\n          if (Lib.bBoxIntersect(titlebb, avoidbb, pad)) {\n            shift = Math.max(shift, shiftSign * (avoidbb[avoid.side] - titlebb[backside]) + pad);\n          }\n        });\n        shift = Math.min(maxshift, shift);\n      }\n\n      if (shift > 0 || maxshift < 0) {\n        var shiftTemplate = {\n          left: [-shift, 0],\n          right: [shift, 0],\n          top: [0, -shift],\n          bottom: [0, shift]\n        }[avoid.side];\n        titleGroup.attr('transform', strTranslate(shiftTemplate[0], shiftTemplate[1]));\n      }\n    }\n  }\n\n  el.call(titleLayout);\n\n  function setPlaceholder() {\n    opacity = 0;\n    isplaceholder = true;\n    el.text(placeholder).on('mouseover.opacity', function () {\n      d3.select(this).transition().duration(interactConstants.SHOW_PLACEHOLDER).style('opacity', 1);\n    }).on('mouseout.opacity', function () {\n      d3.select(this).transition().duration(interactConstants.HIDE_PLACEHOLDER).style('opacity', 0);\n    });\n  }\n\n  if (editable) {\n    if (!txt) setPlaceholder();else el.on('.opacity', null);\n    el.call(svgTextUtils.makeEditable, {\n      gd: gd\n    }).on('edit', function (text) {\n      if (traceIndex !== undefined) {\n        Registry.call('_guiRestyle', gd, prop, text, traceIndex);\n      } else {\n        Registry.call('_guiRelayout', gd, prop, text);\n      }\n    }).on('cancel', function () {\n      this.text(this.attr('data-unformatted')).call(titleLayout);\n    }).on('input', function (d) {\n      this.text(d || ' ').call(svgTextUtils.positionText, attributes.x, attributes.y);\n    });\n  }\n\n  el.classed('js-placeholder', isplaceholder);\n  return group;\n}\n\nmodule.exports = {\n  draw: draw\n};","map":{"version":3,"names":["d3","require","isNumeric","Plots","Registry","Lib","strTranslate","Drawing","Color","svgTextUtils","interactConstants","OPPOSITE_SIDE","numStripRE","draw","gd","titleClass","options","cont","propContainer","prop","propName","placeholder","traceIndex","avoid","attributes","transform","group","containerGroup","fullLayout","_fullLayout","opacity","isplaceholder","title","txt","text","trim","font","fontFamily","family","fontSize","size","fontColor","color","editAttr","indexOf","editable","_context","edits","replace","_meta","templateString","elShouldExist","hColorbarMoveTitle","ensureSingle","_infolayer","_hColorbarMoveTitle","el","selectAll","data","enter","append","attr","exit","remove","titleLayout","titleEl","syncOrAsync","drawTitle","scootTitle","transformVal","rotate","x","y","offset","style","round","fill","rgb","fontWeight","call","convertToTspans","previousPromises","titleElIn","titleGroup","select","node","parentNode","selection","side","backside","shiftSign","pad","titlebb","bBox","paperbb","left","top","right","width","bottom","height","maxshift","maxShift","shift","offsetLeft","offsetTop","each","avoidbb","bBoxIntersect","Math","max","min","shiftTemplate","setPlaceholder","on","transition","duration","SHOW_PLACEHOLDER","HIDE_PLACEHOLDER","makeEditable","undefined","d","positionText","classed","module","exports"],"sources":["D:/Rohit/Git projects/Manthan/node_modules/plotly.js/src/components/titles/index.js"],"sourcesContent":["'use strict';\n\nvar d3 = require('@plotly/d3');\nvar isNumeric = require('fast-isnumeric');\n\nvar Plots = require('../../plots/plots');\nvar Registry = require('../../registry');\nvar Lib = require('../../lib');\nvar strTranslate = Lib.strTranslate;\nvar Drawing = require('../drawing');\nvar Color = require('../color');\nvar svgTextUtils = require('../../lib/svg_text_utils');\nvar interactConstants = require('../../constants/interactions');\n\nvar OPPOSITE_SIDE = require('../../constants/alignment').OPPOSITE_SIDE;\nvar numStripRE = / [XY][0-9]* /;\n\n/**\n * Titles - (re)draw titles on the axes and plot:\n * @param {DOM element} gd - the graphDiv\n * @param {string} titleClass - the css class of this title\n * @param {object} options - how and what to draw\n *      propContainer - the layout object containing `title` and `titlefont`\n *          attributes that apply to this title\n *      propName - the full name of the title property (for Plotly.relayout)\n *      [traceIndex] - include only if this property applies to one trace\n *          (such as a colorbar title) - then editing pipes to Plotly.restyle\n *          instead of Plotly.relayout\n *      placeholder - placeholder text for an empty editable title\n *      [avoid] {object} - include if this title should move to avoid other elements\n *          selection - d3 selection of elements to avoid\n *          side - which direction to move if there is a conflict\n *          [offsetLeft] - if these elements are subject to a translation\n *              wrt the title element\n *          [offsetTop]\n *      attributes {object} - position and alignment attributes\n *          x - pixels\n *          y - pixels\n *          text-anchor - start|middle|end\n *      transform {object} - how to transform the title after positioning\n *          rotate - degrees\n *          offset - shift up/down in the rotated frame (unused?)\n *      containerGroup - if an svg <g> element already exists to hold this\n *          title, include here. Otherwise it will go in fullLayout._infolayer\n *      _meta {object (optional} - meta key-value to for title with\n *          Lib.templateString, default to fullLayout._meta, if not provided\n *\n *  @return {selection} d3 selection of title container group\n */\nfunction draw(gd, titleClass, options) {\n    var cont = options.propContainer;\n    var prop = options.propName;\n    var placeholder = options.placeholder;\n    var traceIndex = options.traceIndex;\n    var avoid = options.avoid || {};\n    var attributes = options.attributes;\n    var transform = options.transform;\n    var group = options.containerGroup;\n\n    var fullLayout = gd._fullLayout;\n\n    var opacity = 1;\n    var isplaceholder = false;\n    var title = cont.title;\n    var txt = (title && title.text ? title.text : '').trim();\n\n    var font = title && title.font ? title.font : {};\n    var fontFamily = font.family;\n    var fontSize = font.size;\n    var fontColor = font.color;\n\n    // only make this title editable if we positively identify its property\n    // as one that has editing enabled.\n    var editAttr;\n    if(prop === 'title.text') editAttr = 'titleText';\n    else if(prop.indexOf('axis') !== -1) editAttr = 'axisTitleText';\n    else if(prop.indexOf('colorbar' !== -1)) editAttr = 'colorbarTitleText';\n    var editable = gd._context.edits[editAttr];\n\n    if(txt === '') opacity = 0;\n    // look for placeholder text while stripping out numbers from eg X2, Y3\n    // this is just for backward compatibility with the old version that had\n    // \"Click to enter X2 title\" and may have gotten saved in some old plots,\n    // we don't want this to show up when these are displayed.\n    else if(txt.replace(numStripRE, ' % ') === placeholder.replace(numStripRE, ' % ')) {\n        opacity = 0.2;\n        isplaceholder = true;\n        if(!editable) txt = '';\n    }\n\n    if(options._meta) {\n        txt = Lib.templateString(txt, options._meta);\n    } else if(fullLayout._meta) {\n        txt = Lib.templateString(txt, fullLayout._meta);\n    }\n\n    var elShouldExist = txt || editable;\n\n    var hColorbarMoveTitle;\n    if(!group) {\n        group = Lib.ensureSingle(fullLayout._infolayer, 'g', 'g-' + titleClass);\n        hColorbarMoveTitle = fullLayout._hColorbarMoveTitle;\n    }\n\n    var el = group.selectAll('text')\n        .data(elShouldExist ? [0] : []);\n    el.enter().append('text');\n    el.text(txt)\n        // this is hacky, but convertToTspans uses the class\n        // to determine whether to rotate mathJax...\n        // so we need to clear out any old class and put the\n        // correct one (only relevant for colorbars, at least\n        // for now) - ie don't use .classed\n        .attr('class', titleClass);\n    el.exit().remove();\n\n    if(!elShouldExist) return group;\n\n    function titleLayout(titleEl) {\n        Lib.syncOrAsync([drawTitle, scootTitle], titleEl);\n    }\n\n    function drawTitle(titleEl) {\n        var transformVal;\n\n        if(!transform && hColorbarMoveTitle) {\n            transform = {};\n        }\n\n        if(transform) {\n            transformVal = '';\n            if(transform.rotate) {\n                transformVal += 'rotate(' + [transform.rotate, attributes.x, attributes.y] + ')';\n            }\n            if(transform.offset || hColorbarMoveTitle) {\n                transformVal += strTranslate(0, (transform.offset || 0) - (hColorbarMoveTitle || 0));\n            }\n        } else {\n            transformVal = null;\n        }\n\n        titleEl.attr('transform', transformVal);\n\n        titleEl.style({\n            'font-family': fontFamily,\n            'font-size': d3.round(fontSize, 2) + 'px',\n            fill: Color.rgb(fontColor),\n            opacity: opacity * Color.opacity(fontColor),\n            'font-weight': Plots.fontWeight\n        })\n        .attr(attributes)\n        .call(svgTextUtils.convertToTspans, gd);\n\n        return Plots.previousPromises(gd);\n    }\n\n    function scootTitle(titleElIn) {\n        var titleGroup = d3.select(titleElIn.node().parentNode);\n\n        if(avoid && avoid.selection && avoid.side && txt) {\n            titleGroup.attr('transform', null);\n\n            // move toward avoid.side (= left, right, top, bottom) if needed\n            // can include pad (pixels, default 2)\n            var backside = OPPOSITE_SIDE[avoid.side];\n            var shiftSign = (avoid.side === 'left' || avoid.side === 'top') ? -1 : 1;\n            var pad = isNumeric(avoid.pad) ? avoid.pad : 2;\n\n            var titlebb = Drawing.bBox(titleGroup.node());\n            var paperbb = {\n                left: 0,\n                top: 0,\n                right: fullLayout.width,\n                bottom: fullLayout.height\n            };\n\n            var maxshift = avoid.maxShift ||\n                shiftSign * (paperbb[avoid.side] - titlebb[avoid.side]);\n            var shift = 0;\n\n            // Prevent the title going off the paper\n            if(maxshift < 0) {\n                shift = maxshift;\n            } else {\n                // so we don't have to offset each avoided element,\n                // give the title the opposite offset\n                var offsetLeft = avoid.offsetLeft || 0;\n                var offsetTop = avoid.offsetTop || 0;\n                titlebb.left -= offsetLeft;\n                titlebb.right -= offsetLeft;\n                titlebb.top -= offsetTop;\n                titlebb.bottom -= offsetTop;\n\n                // iterate over a set of elements (avoid.selection)\n                // to avoid collisions with\n                avoid.selection.each(function() {\n                    var avoidbb = Drawing.bBox(this);\n\n                    if(Lib.bBoxIntersect(titlebb, avoidbb, pad)) {\n                        shift = Math.max(shift, shiftSign * (\n                            avoidbb[avoid.side] - titlebb[backside]) + pad);\n                    }\n                });\n                shift = Math.min(maxshift, shift);\n            }\n\n            if(shift > 0 || maxshift < 0) {\n                var shiftTemplate = {\n                    left: [-shift, 0],\n                    right: [shift, 0],\n                    top: [0, -shift],\n                    bottom: [0, shift]\n                }[avoid.side];\n                titleGroup.attr('transform', strTranslate(shiftTemplate[0], shiftTemplate[1]));\n            }\n        }\n    }\n\n    el.call(titleLayout);\n\n    function setPlaceholder() {\n        opacity = 0;\n        isplaceholder = true;\n        el.text(placeholder)\n            .on('mouseover.opacity', function() {\n                d3.select(this).transition()\n                    .duration(interactConstants.SHOW_PLACEHOLDER).style('opacity', 1);\n            })\n            .on('mouseout.opacity', function() {\n                d3.select(this).transition()\n                    .duration(interactConstants.HIDE_PLACEHOLDER).style('opacity', 0);\n            });\n    }\n\n    if(editable) {\n        if(!txt) setPlaceholder();\n        else el.on('.opacity', null);\n\n        el.call(svgTextUtils.makeEditable, {gd: gd})\n            .on('edit', function(text) {\n                if(traceIndex !== undefined) {\n                    Registry.call('_guiRestyle', gd, prop, text, traceIndex);\n                } else {\n                    Registry.call('_guiRelayout', gd, prop, text);\n                }\n            })\n            .on('cancel', function() {\n                this.text(this.attr('data-unformatted'))\n                    .call(titleLayout);\n            })\n            .on('input', function(d) {\n                this.text(d || ' ')\n                    .call(svgTextUtils.positionText, attributes.x, attributes.y);\n            });\n    }\n    el.classed('js-placeholder', isplaceholder);\n\n    return group;\n}\n\nmodule.exports = {\n    draw: draw\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}