{"ast":null,"code":"import _defineProperty from\"D:/Rohit/Git projects/Manthan/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _regeneratorRuntime from\"D:/Rohit/Git projects/Manthan/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"D:/Rohit/Git projects/Manthan/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _objectSpread from\"D:/Rohit/Git projects/Manthan/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"D:/Rohit/Git projects/Manthan/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useLayoutEffect,useState}from\"react\";import{MetaTags}from\"react-meta-tags\";import{useHistory}from\"react-router-dom\";import{Button,Col,FormGroup,Input,Label,Modal,Row}from\"reactstrap\";import{useDispatch,useSelector}from\"react-redux\";import Select from\"react-select\";import ToolkitProvider from\"react-bootstrap-table2-toolkit\";import BootstrapTable from\"react-bootstrap-table-next\";import{orderCalculateFunc}from\"./OrderPageCalulation\";import{SaveButton,Go_Button,Change_Button,GotoInvoiceBtn,PageLoadingSpinner,DashboardLoader}from\"../../../components/Common/CommonButton\";import{mySearchProps}from\"../../../components/Common/SearchBox/MySearch\";import OrderPageTermsTable from\"./OrderPageTermsTable\";import{initialFiledFunc}from\"../../../components/Common/validationFunction\";import PartyItems from\"../../Adminisrator/PartyItemPage/PartyItems\";import{customAlert}from\"../../../CustomAlert/ConfirmDialog\";import{order_Type}from\"../../../components/Common/C-Varialbes\";import{CInput,C_DatePicker,C_Select,decimalRegx,onlyNumberRegx}from\"../../../CustomValidateForm/index\";import*as _act from\"../../../store/actions\";import*as _cfunc from\"../../../components/Common/CommonFunction\";import{url,mode,pageId}from\"../../../routes/index\";import{editPartyItemID}from\"../../../store/Administrator/PartyItemsRedux/action\";import{getPartyListAPI,getPartyListAPISuccess}from\"../../../store/Administrator/PartyRedux/action\";import{pageFieldUseEffect,table_ArrowUseEffect,updateMsgUseEffect,userAccessUseEffect}from\"../../../components/Common/CommonUseEffect\";import{orderApprovalFunc,orderApprovalMessage}from\"./orderApproval\";import{GetRoutesList,GetRoutesListSuccess}from\"../../../store/Administrator/RoutesRedux/actions\";import{ORDER_4}from\"../../../routes/route_url\";import NewCommonPartyDropdown from\"../../../components/Common/NewCommonPartyDropdown\";import\"../../../CustomTable2/CustomTable.scss\";import\"./order.scss\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var editVal={};var initial_BredcrumbMsg=\"Order Amount :0.00\";function initialState(history){var page_Id='';var listPath='';var sub_Mode=history.location.pathname;if(sub_Mode===url.ORDER_1){page_Id=pageId.ORDER_1;listPath=url.ORDER_LIST_1;}else if(sub_Mode===url.ORDER_2){page_Id=pageId.ORDER_2;listPath=url.ORDER_LIST_2;}else if(sub_Mode===url.IB_ORDER){page_Id=pageId.IB_ORDER;listPath=url.IB_ORDER_PO_LIST;}else if(sub_Mode===url.ORDER_4){page_Id=pageId.ORDER_4;listPath=url.ORDER_LIST_4;}return{page_Id:page_Id,listPath:listPath};};var Order=function Order(props){var dispatch=useDispatch();var history=useHistory();var currentDate_ymd=_cfunc.date_ymd_func();var fileds={id:\"\",Supplier:\"\",Route:\"\",Item:''};var _useState=useState(function(){return initialFiledFunc(fileds);}),_useState2=_slicedToArray(_useState,2),state=_useState2[0],setState=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),editCreatedBy=_useState4[0],seteditCreatedBy=_useState4[1];var _useState5=useState(function(){return initialState(history).page_Id;}),_useState6=_slicedToArray(_useState5,1),page_id=_useState6[0];var _useState7=useState(function(){return initialState(history).listPath;}),_useState8=_slicedToArray(_useState7,1),listPath=_useState8[0];var _useState9=useState(history.location.pathname),_useState10=_slicedToArray(_useState9,1),subPageMode=_useState10[0];var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),modalCss=_useState12[0],setModalCss=_useState12[1];var _useState13=useState(mode.defaultsave),_useState14=_slicedToArray(_useState13,2),pageMode=_useState14[0],setPageMode=_useState14[1];var _useState15=useState(''),_useState16=_slicedToArray(_useState15,2),userPageAccessState=_useState16[0],setUserAccState=_useState16[1];var _useState17=useState(''),_useState18=_slicedToArray(_useState17,2),description=_useState18[0],setDescription=_useState18[1];var _useState19=useState(currentDate_ymd),_useState20=_slicedToArray(_useState19,2),deliverydate=_useState20[0],setdeliverydate=_useState20[1];var _useState21=useState(''),_useState22=_slicedToArray(_useState21,2),billAddr=_useState22[0],setbillAddr=_useState22[1];var _useState23=useState(''),_useState24=_slicedToArray(_useState23,2),shippAddr=_useState24[0],setshippAddr=_useState24[1];var _useState25=useState(currentDate_ymd),_useState26=_slicedToArray(_useState25,2),poFromDate=_useState26[0],setpoFromDate=_useState26[1];var _useState27=useState(currentDate_ymd),_useState28=_slicedToArray(_useState27,2),poToDate=_useState28[0],setpoToDate=_useState28[1];var _useState29=useState(currentDate_ymd),_useState30=_slicedToArray(_useState29,2),orderdate=_useState30[0],setorderdate=_useState30[1];var _useState31=useState(''),_useState32=_slicedToArray(_useState31,2),supplierSelect=_useState32[0],setsupplierSelect=_useState32[1];var _useState33=useState({value:'',label:\"All\"}),_useState34=_slicedToArray(_useState33,2),routeSelect=_useState34[0],setRouteSelect=_useState34[1];var _useState35=useState({value:'',label:\"All\"}),_useState36=_slicedToArray(_useState35,2),itemSelect=_useState36[0],setItemSelect=_useState36[1];var _useState37=useState([]),_useState38=_slicedToArray(_useState37,2),itemSelectDropOptions=_useState38[0],setitemSelectOptions=_useState38[1];var _useState39=useState(true),_useState40=_slicedToArray(_useState39,2),selecedItemWiseOrder=_useState40[0],setSelecedItemWiseOrder=_useState40[1];var _useState41=useState(false),_useState42=_slicedToArray(_useState41,2),goBtnDissable=_useState42[0],setGoBtnDissable=_useState42[1];var _useState43=useState([]),_useState44=_slicedToArray(_useState43,2),termsAndConTable=_useState44[0],setTermsAndConTable=_useState44[1];var _useState45=useState(''),_useState46=_slicedToArray(_useState45,2),orderTypeSelect=_useState46[0],setorderTypeSelect=_useState46[1];var _useState47=useState(false),_useState48=_slicedToArray(_useState47,2),isOpen_assignLink=_useState48[0],setisOpen_assignLink=_useState48[1];var _useState49=useState([]),_useState50=_slicedToArray(_useState49,2),orderItemTable=_useState50[0],setOrderItemTable=_useState50[1];var _useState51=useState(false),_useState52=_slicedToArray(_useState51,2),findPartyItemAccess=_useState52[0],setFindPartyItemAccess=_useState52[1];var _useState53=useState(\"\"),_useState54=_slicedToArray(_useState53,2),FSSAI_Date_Is_Expired=_useState54[0],setFSSAI_Date_Is_Expired=_useState54[1];// for Order page heder dicount functionality useSate ************************************\nvar _useState55=useState(\"\"),_useState56=_slicedToArray(_useState55,2),discountValueAll=_useState56[0],setDiscountValueAll=_useState56[1];var _useState57=useState({value:2,label:\" % \"}),_useState58=_slicedToArray(_useState57,2),discountTypeAll=_useState58[0],setDiscountTypeAll=_useState58[1];var _useState59=useState([{value:1,label:\"Rs\"},{value:2,label:\"%\"}]),_useState60=_slicedToArray(_useState59,1),discountDropOption=_useState60[0];var _useState61=useState(false),_useState62=_slicedToArray(_useState61,2),changeAllDiscount=_useState62[0],setChangeAllDiscount=_useState62[1];var _useState63=useState(false),_useState64=_slicedToArray(_useState63,2),forceReload=_useState64[0],setForceReload=_useState64[1];// ****************************************************************************\nvar _useSelector=useSelector(function(state){return{goBtnOrderdata:state.OrderReducer.goBtnOrderAdd,vendorSupplierCustomer:state.CommonAPI_Reducer.vendorSupplierCustomer,supplierDropLoading:state.CommonAPI_Reducer.vendorSupplierCustomerLoading,supplierAddress:state.CommonAPI_Reducer.supplierAddress,supplierADDdropLoading:state.CommonAPI_Reducer.supilerADDLoading,orderType:state.CommonAPI_Reducer.orderType,orderTypeDropLoading:state.CommonAPI_Reducer.orderTypeLoading,postMsg:state.OrderReducer.postMsg,updateMsg:state.OrderReducer.updateMsg,userAccess:state.Login.RoleAccessUpdateData,pageField:state.CommonPageFieldReducer.pageField,orderApprovalMsg:state.OrderReducer.orderApprovalMsg,approvalDetail:state.OrderReducer.approvalDetail,assingItemData:state.PartyItemsReducer.editData,partyList_redux:state.PartyMasterReducer.partyList,partyDropLoading:state.PartyMasterReducer.partyDropLoading,RoutesList:state.RoutesReducer.RoutesList,routesDropLoading:state.RoutesReducer.goBtnLoading,gobutton_Add_invoice:state.InvoiceReducer.gobutton_Add,invoiceGoBtnloading:state.InvoiceReducer.goBtnloading,goBtnloading:state.OrderReducer.goBtnLoading,saveBtnloading:state.OrderReducer.saveBtnloading,gotoInvoiceBtnLoading:state.OrderReducer.gotoInvoiceBtnLoading,commonPartyDropSelect:state.CommonPartyDropdownReducer.commonPartyDropSelect};}),goBtnOrderdata=_useSelector.goBtnOrderdata,postMsg=_useSelector.postMsg,vendorSupplierCustomer=_useSelector.vendorSupplierCustomer,userAccess=_useSelector.userAccess,orderType=_useSelector.orderType,updateMsg=_useSelector.updateMsg,supplierAddress=_useSelector.supplierAddress,pageField=_useSelector.pageField,partyList_redux=_useSelector.partyList_redux,_useSelector$assingIt=_useSelector.assingItemData,assingItemData=_useSelector$assingIt===void 0?'':_useSelector$assingIt,approvalDetail=_useSelector.approvalDetail,orderApprovalMsg=_useSelector.orderApprovalMsg,gobutton_Add_invoice=_useSelector.gobutton_Add_invoice,invoiceGoBtnloading=_useSelector.invoiceGoBtnloading,goBtnloading=_useSelector.goBtnloading,saveBtnloading=_useSelector.saveBtnloading,gotoInvoiceBtnLoading=_useSelector.gotoInvoiceBtnLoading,RoutesList=_useSelector.RoutesList,supplierADDdropLoading=_useSelector.supplierADDdropLoading,supplierDropLoading=_useSelector.supplierDropLoading,orderTypeDropLoading=_useSelector.orderTypeDropLoading,routesDropLoading=_useSelector.routesDropLoading,commonPartyDropSelect=_useSelector.commonPartyDropSelect;;var fieldLabel=state.fieldLabel;var location=_objectSpread({},history.location);var hasShowloction=location.hasOwnProperty(mode.editValue);var hasShowModal=props.hasOwnProperty(mode.editValue);useLayoutEffect(function(){dispatch(_act.commonPageFieldSuccess(null));dispatch(_act.GoButton_For_Order_AddSuccess(null));dispatch(_act.commonPageField(page_id));dispatch(_act.getTermAndCondition());dispatch(_act.getOrderType());return function(){dispatch(_act.commonPageFieldSuccess(null));dispatch(_act.GoButton_For_Order_AddSuccess(null));dispatch(_act.getTermAndCondition_Success([]));};},[]);useEffect(function(){return userAccessUseEffect({// userAccess useEffect \nprops:props,userAccess:userAccess,dispatch:dispatch,setUserAccState:setUserAccState,otherloginAccss:otherloginAccss// for other pages login role access chack\n});},[userAccess]);var otherloginAccss=function otherloginAccss(ind){if(ind.id===pageId.PARTYITEM&&!(subPageMode===url.IB_ORDER)){setFindPartyItemAccess(true);}};// Common Party Dropdown useEffect\nuseEffect(function(){if(commonPartyDropSelect.value>0){dispatch(GetRoutesList(_objectSpread(_objectSpread({},_cfunc.loginJsonBody()),{},{\"PartyID\":commonPartyDropSelect.value})));dispatch(getPartyListAPI(_objectSpread(_objectSpread({},_cfunc.loginJsonBody()),{},{\"PartyID\":commonPartyDropSelect.value})));dispatch(_act.GetVenderSupplierCustomer({subPageMode:subPageMode,RouteID:\"\",\"PartyID\":commonPartyDropSelect.value}));if(!(subPageMode===url.ORDER_4)){dispatch(_act.getSupplierAddress(commonPartyDropSelect.value));}}setItemSelect({value:'',label:\"All\"});setRouteSelect({value:'',label:\"All\"});setsupplierSelect('');return function(){dispatch(getPartyListAPISuccess([]));dispatch(GetRoutesListSuccess([]));dispatch(_act.GetVenderSupplierCustomerSuccess([]));setGoBtnDissable(false);setSelecedItemWiseOrder(true);setOrderItemTable([]);dispatch(_act.GoButton_For_Order_AddSuccess([]));};},[commonPartyDropSelect]);useEffect(function(){// hasEditVal useEffect\nif(hasShowloction||hasShowModal){var hasEditVal=null;if(hasShowloction){setPageMode(location.pageMode);hasEditVal=location.editValue;}else if(hasShowModal){hasEditVal=props.editValue;setPageMode(props.pageMode);setModalCss(true);}if(hasEditVal){dispatch(_act.BreadcrumbShowCountlabel(\"Order Amount\".concat(\" :\",_cfunc.amountCommaSeparateFunc(Number(hasEditVal.OrderAmount).toFixed(2)))));setorderdate(hasEditVal.OrderDate);if(subPageMode===url.ORDER_4){setsupplierSelect({label:hasEditVal.CustomerName,value:hasEditVal.Customer});}else{setsupplierSelect({label:hasEditVal.SupplierName,value:hasEditVal.Supplier});}setdeliverydate(hasEditVal.DeliveryDate);setshippAddr({label:hasEditVal.ShippingAddress,value:hasEditVal.ShippingAddressID});setbillAddr({label:hasEditVal.BillingAddress,value:hasEditVal.BillingAddressID});setDescription(hasEditVal.Description);editVal={};editVal=hasEditVal;// setOrderAmount(hasEditVal.OrderAmount)\nsetorderTypeSelect({value:hasEditVal.POType,label:hasEditVal.POTypeName});setpoToDate(hasEditVal.POToDate);setpoFromDate(hasEditVal.POFromDate);var _hasEditVal=hasEditVal,_hasEditVal$TermsAndC=_hasEditVal.TermsAndConditions,TermsAndConditions=_hasEditVal$TermsAndC===void 0?[]:_hasEditVal$TermsAndC;var termsAndCondition=TermsAndConditions.map(function(i){return{value:i.id,label:i.TermsAndCondition,IsDeleted:0};});var orderItems=hasEditVal.OrderItems.map(function(ele,k){ele[\"id\"]=k+1;return ele;});setOrderItemTable(orderItems);setTermsAndConTable(termsAndCondition);}dispatch(_act.editOrderIdSuccess({Status:false}));seteditCreatedBy(hasEditVal.CreatedBy);}else{dispatch(_act.BreadcrumbShowCountlabel(initial_BredcrumbMsg));}},[]);useEffect(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var liveMode,aprovalSapCallMode,config,customer,jsonBody,a;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!(postMsg.Status===true&&postMsg.StatusCode===200&&!(pageMode===mode.dropdownAdd))){_context.next=28;break;}dispatch(_act.saveOrderActionSuccess({Status:false}));setSelecedItemWiseOrder(true);setGoBtnDissable(false);// setOrderAmount(0);\nsetTermsAndConTable([]);// setorderTypeSelect('');\nsetisOpen_assignLink(false);setOrderItemTable([]);setsupplierSelect('');// ??******************************+++++++++++++++++++++++++++++++++++++++++\nliveMode=false;// temporary not working code thats why false use line no. 253 to 289\naprovalSapCallMode=postMsg.IsSAPCustomer>0;if(!(subPageMode===url.ORDER_2&&liveMode&&aprovalSapCallMode)){_context.next=15;break;}//        SAP OEDER-APROVUAL CODE\nconfig={orderId:postMsg.OrderID};dispatch(_act.getOrderApprovalDetailAction(config));_context.next=26;break;case 15:// ??******************************+++++++++++++++++++++++++++++++++++++++++++++++\ndispatch(_act.GoButton_For_Order_AddSuccess([]));if(!(subPageMode===url.ORDER_4&&postMsg.gotoInvoiceMode)){_context.next=22;break;}customer=supplierSelect;jsonBody=JSON.stringify({OrderIDs:postMsg.OrderID.toString(),FromDate:orderdate,Customer:supplierSelect.value,Party:commonPartyDropSelect.value});dispatch(_act.GoButtonForinvoiceAdd({jsonBody:jsonBody,subPageMode:url.INVOICE_1,path:url.INVOICE_1,pageMode:mode.defaultsave,customer:customer,errorMsg:\"Order Save Successfully But Can't Make Invoice\"}));_context.next=26;break;case 22:_context.next=24;return customAlert({Type:1,Message:postMsg.Message});case 24:a=_context.sent;if(a){history.push({pathname:listPath,updatedRowBlinkId:postMsg.OrderID});}case 26:_context.next=29;break;case 28:if(postMsg.Status===true&&!(pageMode===mode.dropdownAdd)){dispatch(_act.saveOrderActionSuccess({Status:false}));customAlert({Type:4,Message:JSON.stringify(postMsg.Message)});}case 29:case\"end\":return _context.stop();}}},_callee);})),[postMsg]);useEffect(function(){return updateMsgUseEffect({updateMsg:updateMsg,modalCss:modalCss,history:history,dispatch:dispatch,updateSuccss:_act.updateOrderIdSuccess,listPath:listPath});},[updateMsg]);useEffect(function(){return pageFieldUseEffect({// useEffect common pagefield for master\nstate:state,setState:setState,pageField:pageField});},[pageField]);useEffect(function(){return table_ArrowUseEffect(\"#table_Arrow\");},[orderItemTable]);useEffect(function(){if(assingItemData.Status===true){setisOpen_assignLink(true);}},[assingItemData]);useEffect(function(){if(goBtnOrderdata){var _goBtnOrderdata$Order=goBtnOrderdata.OrderItems,OrderItems=_goBtnOrderdata$Order===void 0?[]:_goBtnOrderdata$Order,_goBtnOrderdata$Terms=goBtnOrderdata.TermsAndConditions,TermsAndConditions=_goBtnOrderdata$Terms===void 0?[]:_goBtnOrderdata$Terms;if(!selecedItemWiseOrder){setOrderItemTable(OrderItems);}setitemSelectOptions(OrderItems.map(function(i){return _objectSpread(_objectSpread({},i),{},{value:i.Item_id,label:i.ItemName});}));setTermsAndConTable(TermsAndConditions);dispatch(_act.GoButton_For_Order_AddSuccess(''));}},[goBtnOrderdata]);useEffect(function(){if(supplierAddress.length>0&&!(hasShowloction||hasShowModal)){setbillAddr(supplierAddress[0]);setshippAddr(supplierAddress[0]);}},[supplierAddress]);useEffect(function(){if(orderType.length>0&&!(hasShowloction||hasShowModal)){setorderTypeSelect({value:orderType[0].id,label:orderType[0].Name});}},[orderType]);useEffect(function(){orderApprovalFunc({dispatch:dispatch,approvalDetail:approvalDetail});},[approvalDetail]);useEffect(function(){orderApprovalMessage({dispatch:dispatch,orderApprovalMsg:orderApprovalMsg,listPath:listPath,history:history});},[orderApprovalMsg]);useEffect(function(){try{document.getElementById(\"__assignItem_onClick\").style.display=supplierSelect.value>0&&findPartyItemAccess&&!goBtnloading?\"block\":\"none\";}catch(e){}},[goBtnloading,supplierSelect,findPartyItemAccess]);useEffect(function(){if(gobutton_Add_invoice.Status===true&&gobutton_Add_invoice.StatusCode===200){history.push({pathname:gobutton_Add_invoice.path});}},[gobutton_Add_invoice]);// useEffect(() => {\n//     if (changeAllDiscount) {\n//         const updatedOrderItemTable = orderItemTable.map((item) => ({\n//             ...item,\n//             Discount: discountValueAll,\n//             DiscountType: discountTypeAll.value,\n//         }));\n//         itemWise_CalculationFunc(item, undefined, orderItemTable)\n//         setOrderItemTable(updatedOrderItemTable);\n//     }\n// }, [changeAllDiscount, discountValueAll, discountTypeAll.value]);\nuseEffect(function(){debugger;if(changeAllDiscount){var updatedOrderItemTable=orderItemTable.map(function(item){return _objectSpread(_objectSpread({},item),{},{Discount:discountValueAll,DiscountType:discountTypeAll.value});});// Perform calculations based on the updated values for each item\nupdatedOrderItemTable.forEach(function(item){itemWise_CalculationFunc(item,undefined,updatedOrderItemTable);});// Set the updated array as the new orderItemTable\nsetOrderItemTable(updatedOrderItemTable);}},[changeAllDiscount,discountValueAll,discountTypeAll.value]);var supplierOptions=vendorSupplierCustomer.map(function(i){return{value:i.id,label:i.Name,FSSAIExipry:i.FSSAIExipry,GSTIN:i.GSTIN,FSSAINo:i.FSSAINo,IsTCSParty:i.IsTCSParty,ISCustomerPAN:i.PAN};});var orderTypeOptions=orderType.map(function(i){return{value:i.id,label:i.Name};});var RoutesListOptions=RoutesList.map(function(index){return{value:index.id,label:index.Name,IsActive:index.IsActive};});var RouteOptions=RoutesListOptions.filter(function(index){return index.IsActive===true;});RouteOptions.unshift({value:\"\",label:\"All\"});var pagesListColumns=[{dataField:\"GroupName\",text:\"Group\",classes:'table-cursor-pointer',sort:true,attrs:function attrs(cell,row,rowIndex,colIndex){return{'data-label':\"GroupName\"};},headerStyle:function headerStyle(){return{minWidth:'100px',textAlign:'center'};}},{dataField:\"SubGroupName\",text:\"SubGroup\",classes:'table-cursor-pointer',sort:true,attrs:function attrs(cell,row,rowIndex,colIndex){return{'data-label':\"SubGroupName\"};},headerStyle:function headerStyle(){return{minWidth:'100px',textAlign:'center'};}},{//------------- ItemName column ----------------------------------\ndataField:\"ItemName\",text:\"Item Name\",classes:'table-cursor-pointer',attrs:function attrs(cell,row,rowIndex,colIndex){return{'data-label':\"ItemName\",\"sticky-col\":\"true\"};},sort:true,headerStyle:function headerStyle(){return{minWidth:'200px',textAlign:'center'};},sortValue:function sortValue(cell,row){return row[\"ItemName\"];},headerFormatter:function headerFormatter(value,row,k,f){return/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between\",children:[/*#__PURE__*/_jsx(\"div\",{children:\"Item Name\"}),/*#__PURE__*/_jsx(\"div\",{onClick:assignItem_onClick,children:/*#__PURE__*/_jsx(\"samp\",{id:\"__assignItem_onClick\",style:{display:\"none\",cursor:\"pointer\"},className:\"text-primary fst-italic text-decoration-underline\",children:\"Assign-Items\"})})]},row.id);}},{dataField:\"StockQuantity\",text:\"Stock Quantity\",classes:'table-cursor-pointer',align:function align(){return\"right\";},attrs:function attrs(cell,row,rowIndex,colIndex){return{'data-label':\"StockQuantity\"};},sort:true,headerStyle:function headerStyle(){return{minWidth:'100px',textAlign:'center'};}},{//------------- Quantity column ----------------------------------\ntext:\"Quantity\",classes:'table-cursor-pointer',attrs:function attrs(cell,row,rowIndex,colIndex){return{'data-label':\"Quantity\"};},headerStyle:function headerStyle(){return{width:'10%',textAlign:'center'};},formatExtraData:{tableList:orderItemTable},formatter:function formatter(value,row,k,_ref2){var tableList=_ref2.tableList;return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(CInput,{id:\"Quantity-\".concat(k),cpattern:onlyNumberRegx,defaultValue:row.Quantity,autoComplete:\"off\",className:\" text-end\",onChange:function onChange(e){row[\"Quantity\"]=e.target.value;itemWise_CalculationFunc(row,undefined,tableList);}},\"Quantity-\".concat(k))});}},{//------------- Unit column ----------------------------------\ntext:\"Unit\",classes:'table-cursor-pointer',dataField:\"\",attrs:function attrs(cell,row,rowIndex,colIndex){return{'data-label':\"Unit\"};},headerStyle:function headerStyle(){return{width:'9%',textAlign:'center'};},formatExtraData:{tableList:orderItemTable},formatter:function formatter(value,row,key,_ref3){var tableList=_ref3.tableList;if(!row.UnitName){// **********************                   \nvar defaultUnit=function defaultUnit(i){row[\"Unit_id\"]=i.UnitID;row[\"po_Unit_id\"]=i.UnitID;row[\"UnitName\"]=i.UnitName;row[\"BaseUnitQuantity\"]=i.BaseUnitQuantity;row[\"Rate\"]=(i.BaseUnitQuantity/i.BaseUnitQuantityNoUnit*i.Rate).toFixed(2);};row[\"Unit_id\"]=0;row[\"UnitName\"]='null';row.UnitDetails.forEach(function(i){if(i.PODefaultUnit&&!(subPageMode===url.ORDER_4)){defaultUnit(i);}else if(i.SODefaultUnit&&subPageMode===url.ORDER_4){defaultUnit(i);}});// ********************** //if default unit is not selected then auto first indx unit select\nif(row[\"UnitName\"]==='null'&&row.UnitDetails.length>0){defaultUnit(row.UnitDetails[0]);}}else{row.UnitDetails.forEach(function(i){if(row.Unit_id===i.UnitID){row[\"BaseUnitQuantity\"]=i.BaseUnitQuantity;row[\"UnitName\"]=i.UnitName;}});}if(pageMode===mode.edit){if(!row[\"edit_Qty\"]){if(row.Quantity>0){row[\"editrowId\"]=true;row[\"edit_Qty\"]=row.Quantity;}else{row[\"edit_Qty\"]=0;row[\"editrowId\"]=false;}}if(!row[\"edit_Unit_id\"]){row[\"edit_Unit_id\"]=row.Unit_id;}if(!row[\"edit_Discount\"]){row[\"edit_Discount\"]=row.Discount;}if(!row[\"edit_DiscountType\"]){row[\"edit_DiscountType\"]=row.DiscountType;}}return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Select,{id:\"ddlUnit\",defaultValue:{value:row.Unit_id,label:row.UnitName},options:row.UnitDetails.map(function(i){return{label:i.UnitName,value:i.UnitID,BaseUnitQuantity:i.BaseUnitQuantity,Rate:i.Rate,BaseUnitQuantityNoUnit:i.BaseUnitQuantityNoUnit};}),onChange:function onChange(e){row[\"Unit_id\"]=e.value;row[\"UnitName\"]=e.label;row[\"BaseUnitQuantity\"]=e.BaseUnitQuantity;row[\"Rate\"]=(e.BaseUnitQuantity/e.BaseUnitQuantityNoUnit*e.Rate).toFixed(2);itemWise_CalculationFunc(row,undefined,tableList);document.getElementById(\"Rate-\".concat(key)).innerText=_cfunc.amountCommaSeparateFunc(Number(row.Rate).toFixed(2));}},\"ddlUnit\".concat(row.id))});}},{//------------- Rate column ----------------------------------\ntext:\"Basic Rate\",classes:'table-cursor-pointer',dataField:\"\",attrs:function attrs(cell,row,rowIndex,colIndex){return{'data-label':\"Basic Rate\"};},headerStyle:function headerStyle(){return{width:'9%',textAlign:'center'};},formatExtraData:{tableList:orderItemTable},formatter:function formatter(value,row,k,_ref4){var tableList=_ref4.tableList;if(subPageMode===url.ORDER_1){return/*#__PURE__*/_jsx(\"div\",{className:\"text-end\",children:/*#__PURE__*/_jsx(CInput,{type:\"text\",id:\"Rate-\".concat(k),cpattern:decimalRegx,defaultValue:row.Rate,className:\"text-end\",onChange:function onChange(event){row.Rate=event.target.value;itemWise_CalculationFunc(row,undefined,tableList);}})},row.id);}else{return/*#__PURE__*/_jsx(\"div\",{className:\"text-end\",children:/*#__PURE__*/_jsx(\"span\",{id:\"Rate-\".concat(k),children:_cfunc.amountCommaSeparateFunc(Number(row.Rate).toFixed(2))})},row.id);}}},{//------------- MRP column ----------------------------------\ntext:\"MRP\",classes:'table-cursor-pointer',dataField:\"\",attrs:function attrs(cell,row,rowIndex,colIndex){return{'data-label':\"MRP\"};},headerStyle:function headerStyle(){return{width:'8%',textAlign:'center'};},formatter:function formatter(value,row,k){return/*#__PURE__*/_jsx(\"div\",{className:\"text-end\",children:/*#__PURE__*/_jsx(\"span\",{children:row.MRPValue})},row.id);}},{//***************Discount********************************************************************* */\ntext:\"Discount/unit\",dataField:\"\",formatExtraData:{discountValueAll:discountValueAll,discountTypeAll:discountTypeAll,changeAllDiscount:changeAllDiscount,forceReload:forceReload,tableList:orderItemTable},attrs:function attrs(cell,row,rowIndex,colIndex){return{'data-label':\"Discount/unit\"};},headerStyle:function headerStyle(){return{width:'11%',textAlign:'center'};},headerFormatter:function headerFormatter(){return/*#__PURE__*/_jsx(\"div\",{className:\"\",children:orderItemTable.length<=0?/*#__PURE__*/_jsx(\"div\",{className:\"col col-3 mt-2\",children:/*#__PURE__*/_jsx(Label,{children:\"Discount/unit\"})}):/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\" mt-n2 mb-n2\",children:/*#__PURE__*/_jsx(Label,{children:\"Discount/unit\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"col col-6\",children:/*#__PURE__*/_jsx(Select,{type:\"text\",defaultValue:discountTypeAll,classNamePrefix:\"select2-selection\",options:discountDropOption,isDisabled:subPageMode===url.ORDER_2,style:{textAlign:\"right\"},onChange:function onChange(e){setChangeAllDiscount(true);setDiscountTypeAll(e);setDiscountValueAll('');}})}),/*#__PURE__*/_jsx(\"div\",{className:\"col col-6\",children:/*#__PURE__*/_jsx(CInput,{type:\"text\",className:\"input\",style:{textAlign:\"right\"},cpattern:decimalRegx,value:discountValueAll,disabled:subPageMode===url.ORDER_2,onChange:function onChange(e){debugger;var e_val=Number(e.target.value);// Check if discount type is \"percentage\"\nif(discountTypeAll.value===2){// Discount type 2 represents \"percentage\"\n// Limit the input to the range of 0 to 100\nif(e_val>100){e.target.value=100;// Set the input value to 100 if it exceeds 100\n}else if(!(e_val>=0&&e_val<100)){e.target.value=\"\";// Clear the input value if it is less than 0\n}}setChangeAllDiscount(true);setDiscountValueAll(e.target.value);}})})]})});},classes:function classes(){return\"order-discount-row\";},formatter:function formatter(cellContent,index1,key,formatExtraData){debugger;var tableList=formatExtraData.tableList,discountValueAll=formatExtraData.discountValueAll,discountTypeAll=formatExtraData.discountTypeAll;// if (formatExtraData.changeAllDiscount) {\n//     index1.Discount = discountValueAll;\n//     index1.DiscountType = discountTypeAll.value;\n//     itemWise_CalculationFunc(index1, undefined, tableList)\n// }\nif(!index1.DiscountType){index1.DiscountType=discountTypeAll.value;}var defaultDiscountTypelabel=index1.DiscountType===1?discountDropOption[0]:discountDropOption[1];return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"mb-2\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"parent\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"child\",children:/*#__PURE__*/_jsx(\"label\",{className:\"label\",children:\"Type\\xA0\\xA0\\xA0\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"child\",children:/*#__PURE__*/_jsx(Select,{id:\"DicountType_\".concat(key),classNamePrefix:\"select2-selection\",value:defaultDiscountTypelabel,isDisabled:subPageMode===url.ORDER_2,options:discountDropOption,onChange:function onChange(e){setChangeAllDiscount(false);setForceReload(!forceReload);index1.DiscountType=e.value;index1.Discount='';itemWise_CalculationFunc(index1,undefined,tableList);}},\"DicountType_\".concat(key,\"-\").concat(index1.id))})]})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"parent\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"child\",children:/*#__PURE__*/_jsx(\"label\",{className:\"label\",children:\"Value\\xA0\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"child\",children:/*#__PURE__*/_jsx(CInput,{className:\"input\",id:\"Dicount_\".concat(key,\"-\").concat(index1.id),style:{textAlign:\"right\"},type:\"text\",value:index1.Discount,disabled:subPageMode===url.ORDER_2,cpattern:decimalRegx,onChange:function onChange(e){var e_val=Number(e.target.value);// Check if discount type is \"percentage\"\nif(index1.DiscountType===2){// Discount type 2 represents \"percentage\"\n// Limit the input to the range of 0 to 100\nif(e_val>100){e.target.value=100;// Set the input value to 100 if it exceeds 100\n}else if(!(e_val>=0&&e_val<100)){e.target.value='';// Clear the input value if it is less than 0\n}}index1.Discount=e.target.value;setChangeAllDiscount(false);setForceReload(!forceReload);itemWise_CalculationFunc(index1,undefined,tableList);}})})]})})]});}},{//------------- Comment column ----------------------------------\ntext:\"Comment\",classes:'table-cursor-pointer',dataField:\"\",attrs:function attrs(cell,row,rowIndex,colIndex){return{'data-label':\"Comment\"};},formatter:function formatter(value,row,k){return/*#__PURE__*/_jsx(\"span\",{children:/*#__PURE__*/_jsx(Input,{type:\"text\",id:\"Comment\".concat(k),defaultValue:row.Comment,autoComplete:\"off\",onChange:function onChange(e){row[\"Comment\"]=e.target.value;}},\"Comment\".concat(row.id))});},headerStyle:function headerStyle(){return{width:'9%',textAlign:'center'};}}];var defaultSorted=[{dataField:\"ItemName\",// if dataField is not match to any column you defined, it will be ignored.\norder:\"asc\"// desc or asc\n}];function supplierOnchange(e){setsupplierSelect(e);if(subPageMode===url.ORDER_4){dispatch(_act.getSupplierAddress(e.value));var _Date=currentDate_ymd;if(e.FSSAIExipry===\"\"||e.FSSAIExipry===null){setFSSAI_Date_Is_Expired(\"There is No FSSAI Expiry Date Please Insert FSSAI Date!\");}else if(e.FSSAIExipry<_Date){setFSSAI_Date_Is_Expired(\"FSSAI Expired\");}else{setFSSAI_Date_Is_Expired(\"\");}}setOrderItemTable([]);setItemSelect('');goButtonHandler(e.value);};function itemSelectOnchange(e){setItemSelect(e);};function Open_Assign_func(){setisOpen_assignLink(false);dispatch(_act.editPartyItemIDSuccess({Status:false}));_cfunc.breadcrumbReturnFunc({dispatch:dispatch,userAcc:userPageAccessState});goButtonHandler();};function RouteOnChange(event){setsupplierSelect('');dispatch(_act.GetVenderSupplierCustomer({subPageMode:subPageMode,RouteID:event.value,\"PartyID\":commonPartyDropSelect.value}));setRouteSelect(event);}function assignItem_onClick(_x){return _assignItem_onClick.apply(this,arguments);}function _assignItem_onClick(){_assignItem_onClick=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(event){var isParty,config,isConfirmed,jsonBody;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:event.stopPropagation();isParty=subPageMode===url.ORDER_1?supplierSelect.value:commonPartyDropSelect.value;config={editId:isParty,Party:isParty,btnmode:mode.assingLink,subPageMode:subPageMode,btnId:\"btn-assingLink-\".concat(supplierSelect.value)};_context4.next=5;return customAlert({Type:7,Message:\"Do you confirm your choice?\"});case 5:isConfirmed=_context4.sent;if(isConfirmed){jsonBody=JSON.stringify(_objectSpread(_objectSpread({},_cfunc.loginJsonBody()),{PartyID:isParty}));dispatch(editPartyItemID({jsonBody:jsonBody,config:config}));dispatch(_act.GoButton_For_Order_AddSuccess([]));};case 8:case\"end\":return _context4.stop();}}},_callee4);}));return _assignItem_onClick.apply(this,arguments);};function itemWise_CalculationFunc(row,IsComparGstIn,tableList){debugger;var calculate=orderCalculateFunc(row);//order calculation function \nrow[\"Amount\"]=calculate.roundedTotalAmount;var sumOfAmount=tableList.reduce(function(accumulator,currentObject){return accumulator+(Number(currentObject[\"Amount\"])||0);},0);// setOrderAmount(sumOfAmount.toFixed(2))\ndispatch(_act.BreadcrumbShowCountlabel(\"Order Amount\".concat(\" :\",_cfunc.amountCommaSeparateFunc(Number(sumOfAmount).toFixed(2)))));};var item_AddButtonHandler=function item_AddButtonHandler(){setGoBtnDissable(true);var isfound=orderItemTable.find(function(i){return i.value===itemSelect.value;});if(!itemSelect){customAlert({Type:4,Message:\"Select Item Name\"});}else if(isfound===undefined){setOrderItemTable([itemSelect].concat(orderItemTable));}else{customAlert({Type:3,Message:\"This Item Already Exist\"});}setItemSelect('');};var goButtonHandler=/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(selectSupplier){var btnId,PO_Body,SO_body,jsonBody,config;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:if(!(!supplierSelect>0&&!selectSupplier)){_context2.next=4;break;}_context2.next=3;return customAlert({Type:4,Message:\"Please Select \".concat(fieldLabel.Supplier)});case 3:return _context2.abrupt(\"return\");case 4:btnId=\"go-btn\".concat(subPageMode);_cfunc.btnIsDissablefunc({btnId:btnId,state:true});dispatch(_act.BreadcrumbShowCountlabel(initial_BredcrumbMsg));PO_Body={Party:selectSupplier?selectSupplier:supplierSelect.value,Customer:commonPartyDropSelect.value,RateParty:commonPartyDropSelect.value,EffectiveDate:orderdate,OrderID:pageMode===mode.defaultsave?0:editVal.id,OrderType:order_Type.PurchaseOrder};SO_body={Party:commonPartyDropSelect.value,//swap  party and customer for sale oerder\nCustomer:selectSupplier?selectSupplier:supplierSelect.value,//swap  party and customer for sale oerder\nRateParty:selectSupplier?selectSupplier:supplierSelect.value,EffectiveDate:orderdate,OrderID:pageMode===mode.defaultsave?0:editVal.id,OrderType:order_Type.SaleOrder};//json body decleration \nif(subPageMode===url.ORDER_4){jsonBody=JSON.stringify(_objectSpread({},SO_body));}else{jsonBody=JSON.stringify(_objectSpread({},PO_Body));}config={subPageMode:subPageMode,jsonBody:jsonBody,btnId:btnId};dispatch(_act.GoButton_For_Order_Add(config));case 12:case\"end\":return _context2.stop();}}},_callee2);}));return function goButtonHandler(_x2){return _ref5.apply(this,arguments);};}();// Function to handle the form submission\nvar saveHandler=/*#__PURE__*/function(){var _ref6=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(event){var buttonId,gotoInvoiceMode,processOrderItem,processValueChanged,division,supplier,validationMessages,orderItems,vdcPoValidationMessages,sumOfOrderAmount,termsAndConditions,po_JsonBody,SO_JsonBody,IB_JsonBody,comm_jsonBody,jsonBody;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:event.preventDefault();// Extract the ID from the target element\nbuttonId=event.target.id;gotoInvoiceMode=buttonId.substring(0,14)===\"gotoInvoiceBtn\";_context3.prev=3;// Function to handle order items\nprocessOrderItem=function processOrderItem(_ref7){var item=_ref7.item,isEdit=_ref7.isEdit;// Handle quantity for null or undefined values\nitem.Quantity=!Number(item.Quantity)?0:item.Quantity;// Check various conditions for item processing\nif(item.Quantity>0&&item.Rate>0&&!(orderTypeSelect.value===3)){// Item is not deleted and has value changes\nprocessValueChanged({item:item,isEdit:isEdit,isDelete:false});}else if(!(item.Quantity<0)&&item.editrowId&&!(orderTypeSelect.value===3)){// Item is deleted (set quantity to 0) and has value changes\nprocessValueChanged({item:item,isEdit:isEdit,isDelete:true});}else if(!(item.Quantity<0)&&!item.editrowId&&!(orderTypeSelect.value===3)){// Item is not deleted and has no value changes, skip\nreturn;}else if(item.Quantity>0&&item.Rate>0){// Logic for VDC-PO\nif(item.Bom){if(orderItems.length===0){// First VDC-PO item, not deleted and has value changes\nprocessValueChanged({item:item,isEdit:isEdit,isDelete:false});}else{if(vdcPoValidationMessages.length===0){vdcPoValidationMessages.push(_defineProperty({},\"VDC-PO Type\",\"This Type Of Order Only One Item Quantity Accept...\"));}}}else{vdcPoValidationMessages.push(_defineProperty({},item.ItemName,\"This Is Not VDC-PO Item...\"));}}else if(item.Quantity<1&&item.editrowId){if(item.Bom){if(orderItems.length===0){// First VDC-PO item, deleted and has value changes\nprocessValueChanged({item:item,isEdit:isEdit,isDelete:true});}else{if(vdcPoValidationMessages.length===0){vdcPoValidationMessages.push(_defineProperty({},\"VDC-PO Type\",\"This Type of order Only One Item Quantity Accept...\"));}}}else{vdcPoValidationMessages.push(_defineProperty({},item.ItemName,\"This Is Not VDC-PO Item...\"));}}};// Function to handle value changes in order items\nprocessValueChanged=function processValueChanged(_ref8){var item=_ref8.item,isEdit=_ref8.isEdit,isDelete=_ref8.isDelete;var calculated=orderCalculateFunc(item,{GSTIn_1:supplierSelect.GSTIN,GSTIn_2:_cfunc.loginUserGSTIN()});// Create an object for the order item\nvar orderItem={Item:item.Item_id,Quantity:isDelete?0:item.Quantity,MRP:item.MRP_id,MRPValue:item.MRPValue,Rate:item.Rate,Unit:item.Unit_id,BaseUnitQuantity:(Number(item.BaseUnitQuantity)*Number(item.Quantity)).toFixed(2),Margin:\"\",GST:item.GST_id,CGST:calculated.CGST_Amount,SGST:calculated.SGST_Amount,IGST:calculated.IGST_Amount,GSTPercentage:calculated.GST_Percentage,CGSTPercentage:calculated.CGST_Percentage,SGSTPercentage:calculated.SGST_Percentage,IGSTPercentage:calculated.IGST_Percentage,BasicAmount:calculated.basicAmount,GSTAmount:calculated.roundedGstAmount,Amount:calculated.roundedTotalAmount,TaxType:'GST',DiscountType:item.DiscountType,Discount:Number(item.Discount)||0,DiscountAmount:Number(calculated.disCountAmt).toFixed(2),IsDeleted:isEdit,// Set to 1 if item is edited, otherwise 0 for delete\nComment:item.Comment};orderItems.push(orderItem);};// Get terms and conditions\n// Get the division from the loginPartyID function\ndivision=commonPartyDropSelect.value;supplier=supplierSelect.value;validationMessages=[];// Stores validation messages for items\norderItems=[];// Stores processed order items\nvdcPoValidationMessages=[];// Stores VDC-PO validation messages\nsumOfOrderAmount=0;//total grand total amount\n// Loop through the order items\n_context3.next=14;return orderItemTable.forEach(function(item){// Check for item quantity and rate validity\nif(item.Quantity>0&&!(item.Rate>0)){validationMessages.push(_defineProperty({},item.ItemName,\"This Item Rate Is Required...\"));}else if(pageMode===mode.edit){// Check if the item quantity or unit has changed in edit mode\nvar isChange=!(Number(item.edit_Qty)===Number(item.Quantity))||!(item.edit_Unit_id===item.Unit_id)||!(Number(item.edit_Discount)===Number(item.Discount))||!(Number(item.edit_DiscountType)===Number(item.DiscountType));var isEdit=0;if(isChange&&!(item.edit_Qty===0)){isEdit=1;}processOrderItem({item:item,isEdit:isEdit});}else{var _isEdit=0;processOrderItem({item:item,isEdit:_isEdit});}sumOfOrderAmount=(Number(sumOfOrderAmount)+Number(item[\"Amount\"])).toFixed(2);//total grand total amount\n});case 14:_context3.next=16;return termsAndConTable.map(function(item){return{TermsAndCondition:item.value,IsDeleted:item.IsDeleted};});case 16:termsAndConditions=_context3.sent;if(!(vdcPoValidationMessages.length>0)){_context3.next=20;break;}customAlert({Type:4,Message:vdcPoValidationMessages});return _context3.abrupt(\"return\");case 20:if(!(validationMessages.length>0)){_context3.next=23;break;}customAlert({Type:4,Message:validationMessages});return _context3.abrupt(\"return\");case 23:if(!(orderItems.length===0)){_context3.next=26;break;}customAlert({Type:4,Message:\"Please Select 1 Item Quantity\"});return _context3.abrupt(\"return\");case 26:if(!(orderTypeSelect.length===0)){_context3.next=29;break;}customAlert({Type:4,Message:\"Please Select PO Type\"});return _context3.abrupt(\"return\");case 29:if(!(termsAndConditions.length===0&&!(subPageMode===url.ORDER_2)&&!(subPageMode===url.ORDER_4)&&!(subPageMode===url.IB_ORDER))){_context3.next=32;break;}customAlert({Type:4,Message:\"Please Enter One Terms And Condition\"});return _context3.abrupt(\"return\");case 32:po_JsonBody={Customer:division,Supplier:supplier,OrderType:order_Type.PurchaseOrder,IsConfirm:false// PO Order then IsConfirm true\n};SO_JsonBody={Customer:supplier,// swipe supllier \nSupplier:division,// swipe Customer\nOrderType:order_Type.SaleOrder,IsConfirm:true// SO Order then IsConfirm true\n};IB_JsonBody={DemandDate:orderdate,DemandAmount:sumOfOrderAmount,DemandItem:orderItems,Customer:division,Supplier:supplier,OrderType:order_Type.PurchaseOrder};comm_jsonBody={OrderDate:deliverydate,// order Date as a delivery date \nDeliveryDate:deliverydate,OrderAmount:sumOfOrderAmount,OrderItem:orderItems,Description:description,BillingAddress:billAddr.value,ShippingAddress:shippAddr.value,OrderNo:1,FullOrderNumber:\"PO0001\",Division:division,POType:orderTypeSelect.value,POFromDate:orderTypeSelect.value===1?currentDate_ymd:poFromDate,POToDate:orderTypeSelect.value===1?currentDate_ymd:poToDate,CreatedBy:_cfunc.loginUserID(),UpdatedBy:_cfunc.loginUserID(),OrderTermsAndConditions:termsAndConditions};//json body decleration \nif(subPageMode===url.IB_ORDER){jsonBody=JSON.stringify(_objectSpread(_objectSpread({},comm_jsonBody),IB_JsonBody));}else if(subPageMode===url.ORDER_4){jsonBody=JSON.stringify(_objectSpread(_objectSpread({},comm_jsonBody),SO_JsonBody));}else{jsonBody=JSON.stringify(_objectSpread(_objectSpread({},comm_jsonBody),po_JsonBody));}// +*********************************\nif(pageMode===mode.edit){dispatch(_act.updateOrderIdAction({jsonBody:jsonBody,updateId:editVal.id,gotoInvoiceMode:gotoInvoiceMode}));}else{dispatch(_act.saveOrderAction({jsonBody:jsonBody,subPageMode:subPageMode,gotoInvoiceMode:gotoInvoiceMode}));}_context3.next=43;break;case 40:_context3.prev=40;_context3.t0=_context3[\"catch\"](3);_cfunc.CommonConsole(\"order_save_\",_context3.t0);case 43:case\"end\":return _context3.stop();}}},_callee3,null,[[3,40]]);}));return function saveHandler(_x3){return _ref6.apply(this,arguments);};}();if(!(userPageAccessState===\"\")){return/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsx(MetaTags,{children:_cfunc.metaTagLabel(userPageAccessState)}),/*#__PURE__*/_jsx(PageLoadingSpinner,{isLoading:!pageField}),/*#__PURE__*/_jsxs(\"div\",{className:\"page-container1\",children:[invoiceGoBtnloading&&/*#__PURE__*/_jsx(\"div\",{className:\"c_spinner-container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"\",children:/*#__PURE__*/_jsx(\"span\",{className:\"font-size-18 color-primary\",children:\"Please Wait...\"})}),/*#__PURE__*/_jsx(DashboardLoader,{})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"page-content\",children:[/*#__PURE__*/_jsx(NewCommonPartyDropdown,{pageMode:pageMode}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"px-2 c_card_filter header text-black\",children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{sm:\"4\",children:/*#__PURE__*/_jsxs(FormGroup,{className:\" row mt-2\",children:[/*#__PURE__*/_jsx(Label,{className:\"col-sm-5 p-2\",style:{width:\"115px\"},children:\"Delivery Date\"}),/*#__PURE__*/_jsx(Col,{sm:\"7\",children:/*#__PURE__*/_jsx(C_DatePicker,{options:{altInput:true,altFormat:\"d-m-Y\",dateFormat:\"Y-m-d\"},name:\"deliverydate\",value:deliverydate,disabled:orderItemTable.length>0||pageMode===\"edit\"?true:false,onChange:function onChange(e,date){setdeliverydate(date);}})})]})}),subPageMode===ORDER_4?/*#__PURE__*/_jsx(Col,{sm:\"3\",children:/*#__PURE__*/_jsxs(FormGroup,{className:\" row mt-2 \",children:[/*#__PURE__*/_jsx(Label,{className:\"col-sm-5 p-2\",style:{width:\"65px\"},children:fieldLabel.Route}),/*#__PURE__*/_jsx(Col,{sm:\"7\",children:/*#__PURE__*/_jsx(C_Select,{classNamePrefix:\"react-select\",value:routeSelect,options:RouteOptions,isDisabled:orderItemTable.length>0||pageMode===\"edit\"||goBtnloading?true:false// onChange={(e) => { setRouteSelect(e) }}\n,onChange:function onChange(e){RouteOnChange(e);},isLoading:routesDropLoading,styles:{menu:function menu(provided){return _objectSpread(_objectSpread({},provided),{},{zIndex:2});}}})})]})}):/*#__PURE__*/_jsx(Col,{sm:\"3\"}),/*#__PURE__*/_jsx(Col,{sm:\"4\",className:\"\",children:/*#__PURE__*/_jsxs(FormGroup,{className:\"row mt-2\",children:[/*#__PURE__*/_jsx(Label,{className:\"col-sm-5 p-2\",style:{width:\"115px\"},children:fieldLabel.Supplier}),/*#__PURE__*/_jsxs(Col,{sm:\"7\",children:[/*#__PURE__*/_jsx(C_Select,{value:supplierSelect,isDisabled:orderItemTable.length>0||pageMode===\"edit\"||goBtnloading?true:false,options:supplierOptions,onChange:supplierOnchange,isLoading:supplierDropLoading,styles:{menu:function menu(provided){return _objectSpread(_objectSpread({},provided),{},{zIndex:2});}}}),FSSAI_Date_Is_Expired&&/*#__PURE__*/_jsx(\"span\",{className:\"text-danger f-8\",children:/*#__PURE__*/_jsxs(\"small\",{children:[FSSAI_Date_Is_Expired,\" \"]})})]})]})}),/*#__PURE__*/_jsxs(Col,{sm:\"1\",children:[\"                      \",/*#__PURE__*/_jsx(\"div\",{className:\"row mt-2  pr-1\",children:pageMode===mode.defaultsave?// (!selecedItemWiseOrder && itemSelectDropOptions.length > 0) ?\n!goBtnDissable?/*#__PURE__*/_jsx(Go_Button,{loading:goBtnloading,id:\"go-btn\".concat(subPageMode),onClick:function onClick(e){if(commonPartyDropSelect.value===0){customAlert({Type:4,Message:\"Select Party\"});return;}if(supplierSelect===''){customAlert({Type:4,Message:\"Please Select \".concat(fieldLabel.Supplier)});return;}setSelecedItemWiseOrder(false);setOrderItemTable(itemSelectDropOptions);setItemSelect({value:'',label:\"All\"});setGoBtnDissable(true);}}):!selecedItemWiseOrder&&/*#__PURE__*/_jsx(Change_Button,{id:\"change-btn\".concat(subPageMode),onClick:function onClick(e){setsupplierSelect('');setGoBtnDissable(false);setSelecedItemWiseOrder(true);setOrderItemTable([]);setItemSelect({value:'',label:\"All\"});dispatch(_act.GoButton_For_Order_AddSuccess([]));}}):null})]})]}),/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsxs(Col,{sm:\"4\",children:[\"                               \",/*#__PURE__*/_jsxs(FormGroup,{className:\"row mt-1\",children:[/*#__PURE__*/_jsx(Label,{className:\"col-sm-5 p-2\",style:{width:\"115px\"},children:\"Description\"}),/*#__PURE__*/_jsx(\"div\",{className:\"col-7\",children:/*#__PURE__*/_jsx(Input,{type:\"text\",value:description,placeholder:\"Enter Order Description\",onChange:function onChange(e){return setDescription(e.target.value);}})})]})]}),/*#__PURE__*/_jsx(Col,{sm:\"3\"}),/*#__PURE__*/_jsx(Col,{sm:\"4\",children:/*#__PURE__*/_jsxs(FormGroup,{className:\"row mt-1\",children:[/*#__PURE__*/_jsx(Label,{className:\"col-sm-5 p-2\",style:{width:\"115px\"},children:fieldLabel.Item}),/*#__PURE__*/_jsx(Col,{sm:\"7\",children:/*#__PURE__*/_jsx(C_Select,{value:itemSelect,isDisabled:pageMode===\"edit\"||goBtnloading?true:false,options:itemSelectDropOptions,isLoading:goBtnloading,onChange:itemSelectOnchange,styles:{menu:function menu(provided){return _objectSpread(_objectSpread({},provided),{},{zIndex:2});}}})})]})}),/*#__PURE__*/_jsx(Col,{sm:\"1\",children:pageMode===mode.defaultsave?/*#__PURE__*/_jsx(\"div\",{className:\"row mt-2 pr-1\",children:selecedItemWiseOrder&&itemSelectDropOptions.length>0?/*#__PURE__*/_jsx(Button,{className:true,color:\"btn btn-outline-info border-1 font-size-12 \",disabled:goBtnloading,onClick:function onClick(){return item_AddButtonHandler();},children:\"Add Item\"}):itemSelectDropOptions.length>0&&/*#__PURE__*/_jsx(Button,{color:\"btn btn-secondary border-1 font-size-12\",className:\"text-blac1k\",disabled:goBtnloading,onClick:function onClick(){setsupplierSelect('');setGoBtnDissable(false);setSelecedItemWiseOrder(true);setOrderItemTable([]);setItemSelect('');dispatch(_act.GoButton_For_Order_AddSuccess([]));},children:\"Item Wise\"})}):null})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"px-2  mb-1 c_card_body text-black\",children:[\"              \",/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:\"                                         \"}),subPageMode===url.ORDER_1?/*#__PURE__*/_jsxs(\"div\",{children:[\"                             \",/*#__PURE__*/_jsxs(\"div\",{className:\"row mt-2 \",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col col-6\",children:[\"                             \",/*#__PURE__*/_jsxs(FormGroup,{className:\"row  \",children:[/*#__PURE__*/_jsx(Label,{className:\" p-2\",style:{width:\"115px\"},children:\"Billing Address\"}),/*#__PURE__*/_jsx(\"div\",{className:\"col col-6\",children:/*#__PURE__*/_jsx(C_Select,{value:billAddr,classNamePrefix:\"select2-Customer\",options:supplierAddress,onChange:function onChange(e){setbillAddr(e);},isLoading:supplierADDdropLoading,styles:{menu:function menu(provided){return _objectSpread(_objectSpread({},provided),{},{zIndex:2});}}})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col col-6\",children:[\"                               \",/*#__PURE__*/_jsxs(FormGroup,{className:\" row \",children:[/*#__PURE__*/_jsx(Label,{className:\" p-2\",style:{width:\"130px\"},children:\"Shipping Address\"}),/*#__PURE__*/_jsx(\"div\",{className:\"col col-6\",children:/*#__PURE__*/_jsx(Select,{value:shippAddr,classNamePrefix:\"select2-Customer\",styles:{menu:function menu(provided){return _objectSpread(_objectSpread({},provided),{},{zIndex:2});}},isLoading:supplierADDdropLoading,options:supplierAddress,onChange:function onChange(e){setshippAddr(e);}})})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[\"                                        \",/*#__PURE__*/_jsxs(\"div\",{className:\"col col-6\",children:[\"                              \",/*#__PURE__*/_jsxs(FormGroup,{className:\" row  \",children:[/*#__PURE__*/_jsx(Label,{className:\" p-2\",style:{width:\"115px\"},children:\"PO Type\"}),/*#__PURE__*/_jsx(\"div\",{className:\"col col-6 \",children:/*#__PURE__*/_jsx(Select,{value:orderTypeSelect,classNamePrefix:\"select2-Customer\",options:orderTypeOptions,onChange:function onChange(e){setorderTypeSelect(e);},isLoading:orderTypeDropLoading,styles:{menu:function menu(provided){return _objectSpread(_objectSpread({},provided),{},{zIndex:2});}}})})]})]})]}),orderTypeSelect.label==='Open PO'?/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[\"                                    \",/*#__PURE__*/_jsx(\"div\",{className:\"col col-6\",children:/*#__PURE__*/_jsxs(FormGroup,{className:\" row \",children:[/*#__PURE__*/_jsx(Label,{className:\" p-2\",style:{width:\"115px\"},children:\"PO From Date\"}),/*#__PURE__*/_jsx(\"div\",{className:\"col col-6 \",children:/*#__PURE__*/_jsx(C_DatePicker,{id:\"pofromdate\",name:\"pofromdate\",value:poFromDate,onChange:function onChange(e,date){setpoFromDate(date);}})})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"col col-6\",children:[\"                        \",/*#__PURE__*/_jsxs(FormGroup,{className:\" row  \",children:[/*#__PURE__*/_jsx(Label,{className:\" p-2\",style:{width:\"130px\"},children:\"PO To Date\"}),/*#__PURE__*/_jsx(\"div\",{className:\"col col-6 \",children:/*#__PURE__*/_jsx(C_DatePicker,{id:\"potodate\",name:\"potodate\",value:poToDate,onChange:function onChange(e,date){setpoToDate(date);}})})]})]})]}):null]}):null]})]}),/*#__PURE__*/_jsx(ToolkitProvider,{keyField:\"Item_id\",data:orderItemTable,columns:pagesListColumns,search:true,children:function children(toolkitProps){return/*#__PURE__*/_jsx(React.Fragment,{children:/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Col,{xl:\"12\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"table-responsive table \",style:{minHeight:\"45vh\"},children:[/*#__PURE__*/_jsx(BootstrapTable,_objectSpread({keyField:\"Item_id\",id:\"table_Arrow\",defaultSorted:!selecedItemWiseOrder?defaultSorted:'',classes:\"custom-table\"// headerClasses=\"custom-table\"\n,noDataIndication:/*#__PURE__*/_jsx(\"div\",{className:\"text-danger text-center table-cursor-pointer\",children:\"Items Not available\"}),onDataSizeChange:function onDataSizeChange(e){_cfunc.tableInputArrowUpDounFunc(\"#table_Arrow\");}},toolkitProps.baseProps)),mySearchProps(toolkitProps.searchProps)]})})})});}}),/*#__PURE__*/_jsx(OrderPageTermsTable,{tableList:termsAndConTable,setfunc:setTermsAndConTable,privious:editVal.TermsAndConditions,tableData:orderItemTable}),orderItemTable.length>0&&!isOpen_assignLink?/*#__PURE__*/_jsxs(\"div\",{className:\"row save1\",style:{paddingBottom:'center'},children:[/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsx(SaveButton,{loading:saveBtnloading,editCreatedBy:editCreatedBy,pageMode:pageMode,userAcc:userPageAccessState,onClick:saveHandler,forceDisabled:gotoInvoiceBtnLoading})}),subPageMode===url.ORDER_4&&pageMode===mode.defaultsave?/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsx(GotoInvoiceBtn,{forceDisabled:gotoInvoiceBtnLoading,loading:gotoInvoiceBtnLoading,pageMode:pageMode,userAcc:userPageAccessState,onClick:saveHandler})}):null]}):/*#__PURE__*/_jsx(\"div\",{className:\"row save1\"})]})]}),/*#__PURE__*/_jsx(Modal,{isOpen:isOpen_assignLink,toggle:function toggle(){setisOpen_assignLink(false);},size:\"xl\",children:/*#__PURE__*/_jsx(PartyItems,{editValue:assingItemData.Data,isAssing:true,masterPath:url.PARTYITEM,redirectPath:subPageMode,isOpenModal:Open_Assign_func,pageMode:mode.assingLink})})]});}else{return null;}};export default Order;","map":{"version":3,"names":["React","useEffect","useLayoutEffect","useState","MetaTags","useHistory","Button","Col","FormGroup","Input","Label","Modal","Row","useDispatch","useSelector","Select","ToolkitProvider","BootstrapTable","orderCalculateFunc","SaveButton","Go_Button","Change_Button","GotoInvoiceBtn","PageLoadingSpinner","DashboardLoader","mySearchProps","OrderPageTermsTable","initialFiledFunc","PartyItems","customAlert","order_Type","CInput","C_DatePicker","C_Select","decimalRegx","onlyNumberRegx","_act","_cfunc","url","mode","pageId","editPartyItemID","getPartyListAPI","getPartyListAPISuccess","pageFieldUseEffect","table_ArrowUseEffect","updateMsgUseEffect","userAccessUseEffect","orderApprovalFunc","orderApprovalMessage","GetRoutesList","GetRoutesListSuccess","ORDER_4","NewCommonPartyDropdown","editVal","initial_BredcrumbMsg","initialState","history","page_Id","listPath","sub_Mode","location","pathname","ORDER_1","ORDER_LIST_1","ORDER_2","ORDER_LIST_2","IB_ORDER","IB_ORDER_PO_LIST","ORDER_LIST_4","Order","props","dispatch","currentDate_ymd","date_ymd_func","fileds","id","Supplier","Route","Item","state","setState","editCreatedBy","seteditCreatedBy","page_id","subPageMode","modalCss","setModalCss","defaultsave","pageMode","setPageMode","userPageAccessState","setUserAccState","description","setDescription","deliverydate","setdeliverydate","billAddr","setbillAddr","shippAddr","setshippAddr","poFromDate","setpoFromDate","poToDate","setpoToDate","orderdate","setorderdate","supplierSelect","setsupplierSelect","value","label","routeSelect","setRouteSelect","itemSelect","setItemSelect","itemSelectDropOptions","setitemSelectOptions","selecedItemWiseOrder","setSelecedItemWiseOrder","goBtnDissable","setGoBtnDissable","termsAndConTable","setTermsAndConTable","orderTypeSelect","setorderTypeSelect","isOpen_assignLink","setisOpen_assignLink","orderItemTable","setOrderItemTable","findPartyItemAccess","setFindPartyItemAccess","FSSAI_Date_Is_Expired","setFSSAI_Date_Is_Expired","discountValueAll","setDiscountValueAll","discountTypeAll","setDiscountTypeAll","discountDropOption","changeAllDiscount","setChangeAllDiscount","forceReload","setForceReload","goBtnOrderdata","OrderReducer","goBtnOrderAdd","vendorSupplierCustomer","CommonAPI_Reducer","supplierDropLoading","vendorSupplierCustomerLoading","supplierAddress","supplierADDdropLoading","supilerADDLoading","orderType","orderTypeDropLoading","orderTypeLoading","postMsg","updateMsg","userAccess","Login","RoleAccessUpdateData","pageField","CommonPageFieldReducer","orderApprovalMsg","approvalDetail","assingItemData","PartyItemsReducer","editData","partyList_redux","PartyMasterReducer","partyList","partyDropLoading","RoutesList","RoutesReducer","routesDropLoading","goBtnLoading","gobutton_Add_invoice","InvoiceReducer","gobutton_Add","invoiceGoBtnloading","goBtnloading","saveBtnloading","gotoInvoiceBtnLoading","commonPartyDropSelect","CommonPartyDropdownReducer","fieldLabel","hasShowloction","hasOwnProperty","editValue","hasShowModal","commonPageFieldSuccess","GoButton_For_Order_AddSuccess","commonPageField","getTermAndCondition","getOrderType","getTermAndCondition_Success","otherloginAccss","ind","PARTYITEM","loginJsonBody","GetVenderSupplierCustomer","RouteID","getSupplierAddress","GetVenderSupplierCustomerSuccess","hasEditVal","BreadcrumbShowCountlabel","amountCommaSeparateFunc","Number","OrderAmount","toFixed","OrderDate","CustomerName","Customer","SupplierName","DeliveryDate","ShippingAddress","ShippingAddressID","BillingAddress","BillingAddressID","Description","POType","POTypeName","POToDate","POFromDate","TermsAndConditions","termsAndCondition","map","i","TermsAndCondition","IsDeleted","orderItems","OrderItems","ele","k","editOrderIdSuccess","Status","CreatedBy","StatusCode","dropdownAdd","saveOrderActionSuccess","liveMode","aprovalSapCallMode","IsSAPCustomer","config","orderId","OrderID","getOrderApprovalDetailAction","gotoInvoiceMode","customer","jsonBody","JSON","stringify","OrderIDs","toString","FromDate","Party","GoButtonForinvoiceAdd","INVOICE_1","path","errorMsg","Type","Message","a","push","updatedRowBlinkId","updateSuccss","updateOrderIdSuccess","Item_id","ItemName","length","Name","document","getElementById","style","display","e","updatedOrderItemTable","item","Discount","DiscountType","forEach","itemWise_CalculationFunc","undefined","supplierOptions","FSSAIExipry","GSTIN","FSSAINo","IsTCSParty","ISCustomerPAN","PAN","orderTypeOptions","RoutesListOptions","index","IsActive","RouteOptions","filter","unshift","pagesListColumns","dataField","text","classes","sort","attrs","cell","row","rowIndex","colIndex","headerStyle","minWidth","textAlign","sortValue","headerFormatter","f","assignItem_onClick","cursor","align","width","formatExtraData","tableList","formatter","Quantity","target","key","UnitName","defaultUnit","UnitID","BaseUnitQuantity","BaseUnitQuantityNoUnit","Rate","UnitDetails","PODefaultUnit","SODefaultUnit","Unit_id","edit","innerText","event","MRPValue","e_val","cellContent","index1","defaultDiscountTypelabel","Comment","defaultSorted","order","supplierOnchange","Date","goButtonHandler","itemSelectOnchange","Open_Assign_func","editPartyItemIDSuccess","breadcrumbReturnFunc","userAcc","RouteOnChange","stopPropagation","isParty","editId","btnmode","assingLink","btnId","isConfirmed","PartyID","IsComparGstIn","calculate","roundedTotalAmount","sumOfAmount","reduce","accumulator","currentObject","item_AddButtonHandler","isfound","find","concat","selectSupplier","btnIsDissablefunc","PO_Body","RateParty","EffectiveDate","OrderType","PurchaseOrder","SO_body","SaleOrder","GoButton_For_Order_Add","saveHandler","preventDefault","buttonId","substring","processOrderItem","isEdit","processValueChanged","isDelete","editrowId","Bom","vdcPoValidationMessages","calculated","GSTIn_1","GSTIn_2","loginUserGSTIN","orderItem","MRP","MRP_id","Unit","Margin","GST","GST_id","CGST","CGST_Amount","SGST","SGST_Amount","IGST","IGST_Amount","GSTPercentage","GST_Percentage","CGSTPercentage","CGST_Percentage","SGSTPercentage","SGST_Percentage","IGSTPercentage","IGST_Percentage","BasicAmount","basicAmount","GSTAmount","roundedGstAmount","Amount","TaxType","DiscountAmount","disCountAmt","division","supplier","validationMessages","sumOfOrderAmount","isChange","edit_Qty","edit_Unit_id","edit_Discount","edit_DiscountType","termsAndConditions","po_JsonBody","IsConfirm","SO_JsonBody","IB_JsonBody","DemandDate","DemandAmount","DemandItem","comm_jsonBody","OrderItem","OrderNo","FullOrderNumber","Division","loginUserID","UpdatedBy","OrderTermsAndConditions","updateOrderIdAction","updateId","saveOrderAction","CommonConsole","metaTagLabel","altInput","altFormat","dateFormat","date","menu","provided","zIndex","toolkitProps","minHeight","tableInputArrowUpDounFunc","baseProps","searchProps","paddingBottom","Data"],"sources":["D:/Rohit/Git projects/Manthan/src/pages/Purchase/Order/Order.js"],"sourcesContent":["import React, { useEffect, useLayoutEffect, useState } from \"react\";\r\nimport { MetaTags } from \"react-meta-tags\"\r\nimport { useHistory } from \"react-router-dom\";\r\nimport {\r\n    Button,\r\n    Col,\r\n    FormGroup,\r\n    Input,\r\n    Label,\r\n    Modal,\r\n    Row,\r\n} from \"reactstrap\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport Select from \"react-select\";\r\nimport ToolkitProvider from \"react-bootstrap-table2-toolkit\";\r\nimport BootstrapTable from \"react-bootstrap-table-next\";\r\nimport { orderCalculateFunc } from \"./OrderPageCalulation\";\r\nimport { SaveButton, Go_Button, Change_Button, GotoInvoiceBtn, PageLoadingSpinner, DashboardLoader } from \"../../../components/Common/CommonButton\";\r\nimport { mySearchProps } from \"../../../components/Common/SearchBox/MySearch\";\r\n\r\nimport OrderPageTermsTable from \"./OrderPageTermsTable\";\r\nimport { initialFiledFunc } from \"../../../components/Common/validationFunction\";\r\nimport PartyItems from \"../../Adminisrator/PartyItemPage/PartyItems\";\r\n\r\nimport { customAlert } from \"../../../CustomAlert/ConfirmDialog\"\r\nimport { order_Type } from \"../../../components/Common/C-Varialbes\";\r\nimport { CInput, C_DatePicker, C_Select, decimalRegx, onlyNumberRegx } from \"../../../CustomValidateForm/index\";\r\n\r\nimport * as _act from \"../../../store/actions\";\r\nimport * as _cfunc from \"../../../components/Common/CommonFunction\";\r\nimport { url, mode, pageId } from \"../../../routes/index\"\r\nimport { editPartyItemID } from \"../../../store/Administrator/PartyItemsRedux/action\";\r\nimport { getPartyListAPI, getPartyListAPISuccess } from \"../../../store/Administrator/PartyRedux/action\";\r\nimport { pageFieldUseEffect, table_ArrowUseEffect, updateMsgUseEffect, userAccessUseEffect } from \"../../../components/Common/CommonUseEffect\";\r\nimport { orderApprovalFunc, orderApprovalMessage } from \"./orderApproval\";\r\nimport { GetRoutesList, GetRoutesListSuccess } from \"../../../store/Administrator/RoutesRedux/actions\";\r\nimport { ORDER_4 } from \"../../../routes/route_url\";\r\nimport NewCommonPartyDropdown from \"../../../components/Common/NewCommonPartyDropdown\";\r\nimport \"../../../CustomTable2/CustomTable.scss\"\r\nimport \"./order.scss\"\r\n\r\nlet editVal = {}\r\nlet initial_BredcrumbMsg = \"Order Amount :0.00\"\r\n\r\nfunction initialState(history) {\r\n\r\n    let page_Id = '';\r\n    let listPath = ''\r\n    let sub_Mode = history.location.pathname;\r\n\r\n    if (sub_Mode === url.ORDER_1) {\r\n        page_Id = pageId.ORDER_1;\r\n        listPath = url.ORDER_LIST_1\r\n    }\r\n    else if (sub_Mode === url.ORDER_2) {\r\n        page_Id = pageId.ORDER_2;\r\n        listPath = url.ORDER_LIST_2\r\n    }\r\n    else if (sub_Mode === url.IB_ORDER) {\r\n        page_Id = pageId.IB_ORDER;\r\n        listPath = url.IB_ORDER_PO_LIST;\r\n    }\r\n    else if (sub_Mode === url.ORDER_4) {\r\n        page_Id = pageId.ORDER_4;\r\n        listPath = url.ORDER_LIST_4\r\n    }\r\n    return { page_Id, listPath }\r\n};\r\n\r\nconst Order = (props) => {\r\n\r\n    const dispatch = useDispatch();\r\n    const history = useHistory();\r\n    const currentDate_ymd = _cfunc.date_ymd_func();\r\n\r\n    const fileds = {\r\n        id: \"\",\r\n        Supplier: \"\",\r\n        Route: \"\",\r\n        Item: ''\r\n    }\r\n\r\n    const [state, setState] = useState(() => initialFiledFunc(fileds))\r\n    const [editCreatedBy, seteditCreatedBy] = useState(\"\");\r\n    const [page_id] = useState(() => initialState(history).page_Id)\r\n    const [listPath] = useState(() => initialState(history).listPath)\r\n    const [subPageMode] = useState(history.location.pathname)\r\n    const [modalCss, setModalCss] = useState(false);\r\n    const [pageMode, setPageMode] = useState(mode.defaultsave);\r\n    const [userPageAccessState, setUserAccState] = useState('');\r\n    const [description, setDescription] = useState('')\r\n\r\n    const [deliverydate, setdeliverydate] = useState(currentDate_ymd)\r\n    const [billAddr, setbillAddr] = useState('')\r\n    const [shippAddr, setshippAddr] = useState('');\r\n\r\n    const [poFromDate, setpoFromDate] = useState(currentDate_ymd);\r\n    const [poToDate, setpoToDate] = useState(currentDate_ymd);\r\n    const [orderdate, setorderdate] = useState(currentDate_ymd);\r\n\r\n    const [supplierSelect, setsupplierSelect] = useState('');\r\n    const [routeSelect, setRouteSelect] = useState({ value: '', label: \"All\" });\r\n    const [itemSelect, setItemSelect] = useState({ value: '', label: \"All\" });\r\n    const [itemSelectDropOptions, setitemSelectOptions] = useState([]);\r\n    const [selecedItemWiseOrder, setSelecedItemWiseOrder] = useState(true)\r\n    const [goBtnDissable, setGoBtnDissable] = useState(false)\r\n\r\n    const [termsAndConTable, setTermsAndConTable] = useState([]);\r\n    const [orderTypeSelect, setorderTypeSelect] = useState('');\r\n    const [isOpen_assignLink, setisOpen_assignLink] = useState(false)\r\n    const [orderItemTable, setOrderItemTable] = useState([])\r\n    const [findPartyItemAccess, setFindPartyItemAccess] = useState(false)\r\n    const [FSSAI_Date_Is_Expired, setFSSAI_Date_Is_Expired] = useState(\"\")\r\n\r\n    // for Order page heder dicount functionality useSate ************************************\r\n    const [discountValueAll, setDiscountValueAll] = useState(\"\");\r\n    const [discountTypeAll, setDiscountTypeAll] = useState({ value: 2, label: \" % \" });\r\n    const [discountDropOption] = useState([{ value: 1, label: \"Rs\" }, { value: 2, label: \"%\" }])\r\n    const [changeAllDiscount, setChangeAllDiscount] = useState(false)\r\n    const [forceReload, setForceReload] = useState(false)\r\n    // ****************************************************************************\r\n\r\n    const {\r\n        goBtnOrderdata,\r\n        postMsg,\r\n        vendorSupplierCustomer,\r\n        userAccess,\r\n        orderType,\r\n        updateMsg,\r\n        supplierAddress,\r\n        pageField,\r\n        partyList_redux,\r\n        assingItemData = '',\r\n        approvalDetail,\r\n        orderApprovalMsg,\r\n        gobutton_Add_invoice,\r\n        invoiceGoBtnloading,\r\n        goBtnloading,\r\n        saveBtnloading,\r\n        gotoInvoiceBtnLoading,\r\n        RoutesList,\r\n        supplierADDdropLoading,\r\n        supplierDropLoading,\r\n        orderTypeDropLoading,\r\n        routesDropLoading,\r\n        commonPartyDropSelect\r\n    } = useSelector((state) => ({\r\n        goBtnOrderdata: state.OrderReducer.goBtnOrderAdd,\r\n\r\n        vendorSupplierCustomer: state.CommonAPI_Reducer.vendorSupplierCustomer,\r\n        supplierDropLoading: state.CommonAPI_Reducer.vendorSupplierCustomerLoading,\r\n\r\n        supplierAddress: state.CommonAPI_Reducer.supplierAddress,\r\n        supplierADDdropLoading: state.CommonAPI_Reducer.supilerADDLoading,\r\n\r\n        orderType: state.CommonAPI_Reducer.orderType,\r\n        orderTypeDropLoading: state.CommonAPI_Reducer.orderTypeLoading,\r\n\r\n        postMsg: state.OrderReducer.postMsg,\r\n        updateMsg: state.OrderReducer.updateMsg,\r\n        userAccess: state.Login.RoleAccessUpdateData,\r\n        pageField: state.CommonPageFieldReducer.pageField,\r\n        orderApprovalMsg: state.OrderReducer.orderApprovalMsg,\r\n        approvalDetail: state.OrderReducer.approvalDetail,\r\n        assingItemData: state.PartyItemsReducer.editData,\r\n\r\n        partyList_redux: state.PartyMasterReducer.partyList,\r\n        partyDropLoading: state.PartyMasterReducer.partyDropLoading,\r\n\r\n        RoutesList: state.RoutesReducer.RoutesList,\r\n        routesDropLoading: state.RoutesReducer.goBtnLoading,\r\n\r\n        gobutton_Add_invoice: state.InvoiceReducer.gobutton_Add,\r\n        invoiceGoBtnloading: state.InvoiceReducer.goBtnloading,\r\n\r\n        goBtnloading: state.OrderReducer.goBtnLoading,\r\n        saveBtnloading: state.OrderReducer.saveBtnloading,\r\n        gotoInvoiceBtnLoading: state.OrderReducer.gotoInvoiceBtnLoading,\r\n\r\n        commonPartyDropSelect: state.CommonPartyDropdownReducer.commonPartyDropSelect\r\n    }));;\r\n\r\n    const { fieldLabel } = state;\r\n\r\n    const location = { ...history.location }\r\n    const hasShowloction = location.hasOwnProperty(mode.editValue)\r\n    const hasShowModal = props.hasOwnProperty(mode.editValue)\r\n\r\n    useLayoutEffect(() => {\r\n        dispatch(_act.commonPageFieldSuccess(null));\r\n        dispatch(_act.GoButton_For_Order_AddSuccess(null));\r\n        dispatch(_act.commonPageField(page_id));\r\n        dispatch(_act.getTermAndCondition());\r\n        dispatch(_act.getOrderType());\r\n        return () => {\r\n            dispatch(_act.commonPageFieldSuccess(null));\r\n            dispatch(_act.GoButton_For_Order_AddSuccess(null))\r\n            dispatch(_act.getTermAndCondition_Success([]));\r\n        }\r\n\r\n    }, []);\r\n\r\n    useEffect(() => userAccessUseEffect({ // userAccess useEffect \r\n        props,\r\n        userAccess,\r\n        dispatch,\r\n        setUserAccState,\r\n        otherloginAccss// for other pages login role access chack\r\n    }), [userAccess]);\r\n\r\n    const otherloginAccss = (ind) => {\r\n        if ((ind.id === pageId.PARTYITEM) && !(subPageMode === url.IB_ORDER)) {\r\n            setFindPartyItemAccess(true)\r\n        }\r\n    };\r\n\r\n    // Common Party Dropdown useEffect\r\n    useEffect(() => {\r\n\r\n        if (commonPartyDropSelect.value > 0) {\r\n            dispatch(GetRoutesList({ ..._cfunc.loginJsonBody(), \"PartyID\": commonPartyDropSelect.value }));\r\n            dispatch(getPartyListAPI({ ..._cfunc.loginJsonBody(), \"PartyID\": commonPartyDropSelect.value }));\r\n            dispatch(_act.GetVenderSupplierCustomer({ subPageMode, RouteID: \"\", \"PartyID\": commonPartyDropSelect.value }));\r\n            if (!(subPageMode === url.ORDER_4)) {\r\n                dispatch(_act.getSupplierAddress(commonPartyDropSelect.value))\r\n            }\r\n        }\r\n        setItemSelect({ value: '', label: \"All\" });\r\n        setRouteSelect({ value: '', label: \"All\" });\r\n        setsupplierSelect('')\r\n        return () => {\r\n            dispatch(getPartyListAPISuccess([]));\r\n            dispatch(GetRoutesListSuccess([]));\r\n            dispatch(_act.GetVenderSupplierCustomerSuccess([]));\r\n            setGoBtnDissable(false)\r\n            setSelecedItemWiseOrder(true)\r\n            setOrderItemTable([])\r\n            dispatch(_act.GoButton_For_Order_AddSuccess([]))\r\n        }\r\n\r\n\r\n    }, [commonPartyDropSelect]);\r\n\r\n    useEffect(() => { // hasEditVal useEffect\r\n\r\n        if ((hasShowloction || hasShowModal)) {\r\n\r\n            let hasEditVal = null\r\n            if (hasShowloction) {\r\n                setPageMode(location.pageMode)\r\n                hasEditVal = location.editValue\r\n            }\r\n            else if (hasShowModal) {\r\n                hasEditVal = props.editValue\r\n                setPageMode(props.pageMode)\r\n                setModalCss(true)\r\n            }\r\n            if (hasEditVal) {\r\n                dispatch(_act.BreadcrumbShowCountlabel(`${\"Order Amount\"} :${_cfunc.amountCommaSeparateFunc(Number(hasEditVal.OrderAmount).toFixed(2))}`))\r\n                setorderdate(hasEditVal.OrderDate)\r\n\r\n                if (subPageMode === url.ORDER_4) {\r\n                    setsupplierSelect({\r\n                        label: hasEditVal.CustomerName,\r\n                        value: hasEditVal.Customer\r\n                    });\r\n                } else {\r\n                    setsupplierSelect({\r\n                        label: hasEditVal.SupplierName,\r\n                        value: hasEditVal.Supplier\r\n                    });\r\n                }\r\n                setdeliverydate(hasEditVal.DeliveryDate)\r\n                setshippAddr({ label: hasEditVal.ShippingAddress, value: hasEditVal.ShippingAddressID })\r\n                setbillAddr({ label: hasEditVal.BillingAddress, value: hasEditVal.BillingAddressID });\r\n                setDescription(hasEditVal.Description)\r\n                editVal = {}\r\n                editVal = hasEditVal\r\n                // setOrderAmount(hasEditVal.OrderAmount)\r\n                setorderTypeSelect({ value: hasEditVal.POType, label: hasEditVal.POTypeName })\r\n\r\n                setpoToDate(hasEditVal.POToDate)\r\n                setpoFromDate(hasEditVal.POFromDate)\r\n\r\n                const { TermsAndConditions = [] } = hasEditVal;\r\n                const termsAndCondition = TermsAndConditions.map(i => ({\r\n                    value: i.id,\r\n                    label: i.TermsAndCondition,\r\n                    IsDeleted: 0\r\n                }))\r\n\r\n                const orderItems = hasEditVal.OrderItems.map((ele, k) => {\r\n                    ele[\"id\"] = k + 1\r\n                    return ele\r\n                });\r\n                setOrderItemTable(orderItems)\r\n                setTermsAndConTable(termsAndCondition)\r\n            }\r\n            dispatch(_act.editOrderIdSuccess({ Status: false }))\r\n            seteditCreatedBy(hasEditVal.CreatedBy)\r\n        } else {\r\n            dispatch(_act.BreadcrumbShowCountlabel(initial_BredcrumbMsg))\r\n        }\r\n    }, []);\r\n\r\n    useEffect(async () => {\r\n        if ((postMsg.Status === true) && (postMsg.StatusCode === 200) && !(pageMode === mode.dropdownAdd)) {\r\n            dispatch(_act.saveOrderActionSuccess({ Status: false }))\r\n            setSelecedItemWiseOrder(true)\r\n            setGoBtnDissable(false)\r\n            // setOrderAmount(0);\r\n            setTermsAndConTable([]);\r\n            // setorderTypeSelect('');\r\n            setisOpen_assignLink(false)\r\n            setOrderItemTable([])\r\n            setsupplierSelect('');\r\n\r\n            // ??******************************+++++++++++++++++++++++++++++++++++++++++\r\n            const liveMode = false  // temporary not working code thats why false use line no. 253 to 289\r\n            const aprovalSapCallMode = (postMsg.IsSAPCustomer > 0)\r\n\r\n            if ((subPageMode === url.ORDER_2) && liveMode && aprovalSapCallMode) { //        SAP OEDER-APROVUAL CODE\r\n                let config = { orderId: postMsg.OrderID }\r\n\r\n                dispatch(_act.getOrderApprovalDetailAction(config));\r\n\r\n            } else {// ??******************************+++++++++++++++++++++++++++++++++++++++++++++++\r\n\r\n\r\n                dispatch(_act.GoButton_For_Order_AddSuccess([]))\r\n                if ((subPageMode === url.ORDER_4) && (postMsg.gotoInvoiceMode)) {\r\n\r\n                    const customer = supplierSelect\r\n                    const jsonBody = JSON.stringify({\r\n                        OrderIDs: postMsg.OrderID.toString(),\r\n                        FromDate: orderdate,\r\n                        Customer: supplierSelect.value,\r\n                        Party: commonPartyDropSelect.value,\r\n                    });\r\n                    dispatch(_act.GoButtonForinvoiceAdd({\r\n                        jsonBody,\r\n                        subPageMode: url.INVOICE_1,\r\n                        path: url.INVOICE_1,\r\n                        pageMode: mode.defaultsave,\r\n                        customer,\r\n                        errorMsg: \"Order Save Successfully But Can't Make Invoice\"\r\n                    }));\r\n                }\r\n                else {\r\n                    const a = await customAlert({\r\n                        Type: 1,\r\n                        Message: postMsg.Message,\r\n                    })\r\n                    if (a) {\r\n                        history.push({\r\n                            pathname: listPath,\r\n                            updatedRowBlinkId: postMsg.OrderID\r\n                        });\r\n                    }\r\n                }\r\n\r\n            }\r\n        }\r\n        else if ((postMsg.Status === true) && !(pageMode === mode.dropdownAdd)) {\r\n\r\n            dispatch(_act.saveOrderActionSuccess({ Status: false }))\r\n            customAlert({\r\n                Type: 4,\r\n                Message: JSON.stringify(postMsg.Message),\r\n            });\r\n        }\r\n    }, [postMsg])\r\n\r\n    useEffect(() => updateMsgUseEffect({\r\n        updateMsg, modalCss,\r\n        history, dispatch,\r\n        updateSuccss: _act.updateOrderIdSuccess,\r\n        listPath: listPath\r\n    }), [updateMsg])\r\n\r\n    useEffect(() => pageFieldUseEffect({// useEffect common pagefield for master\r\n        state,\r\n        setState,\r\n        pageField\r\n    }), [pageField])\r\n\r\n    useEffect(() => table_ArrowUseEffect(\"#table_Arrow\"), [orderItemTable]);\r\n\r\n    useEffect(() => {\r\n        if (assingItemData.Status === true) {\r\n            setisOpen_assignLink(true);\r\n        }\r\n    }, [assingItemData]);\r\n\r\n    useEffect(() => {\r\n        if (goBtnOrderdata) {\r\n            let { OrderItems = [], TermsAndConditions = [] } = goBtnOrderdata\r\n            if (!selecedItemWiseOrder) { setOrderItemTable(OrderItems) }\r\n            setitemSelectOptions(OrderItems.map(i => ({ ...i, value: i.Item_id, label: i.ItemName })))\r\n\r\n            setTermsAndConTable(TermsAndConditions)\r\n            dispatch(_act.GoButton_For_Order_AddSuccess(''))\r\n        }\r\n    }, [goBtnOrderdata]);\r\n\r\n    useEffect(() => {\r\n        if ((supplierAddress.length > 0) && (!((hasShowloction || hasShowModal)))) {\r\n            setbillAddr(supplierAddress[0]);\r\n            setshippAddr(supplierAddress[0]);\r\n        }\r\n    }, [supplierAddress]);\r\n\r\n    useEffect(() => {\r\n        if ((orderType.length > 0) && (!((hasShowloction || hasShowModal)))) {\r\n            setorderTypeSelect({\r\n                value: orderType[0].id,\r\n                label: orderType[0].Name,\r\n            });\r\n        }\r\n    }, [orderType]);\r\n\r\n    useEffect(() => {\r\n        orderApprovalFunc({ dispatch, approvalDetail })\r\n    }, [approvalDetail]);\r\n\r\n    useEffect(() => {\r\n        orderApprovalMessage({ dispatch, orderApprovalMsg, listPath, history })\r\n    }, [orderApprovalMsg]);\r\n\r\n    useEffect(() => {\r\n        try {\r\n            document.getElementById(\"__assignItem_onClick\").style.display = ((supplierSelect.value > 0) && (findPartyItemAccess) && !goBtnloading) ? \"block\" : \"none\"\r\n        } catch (e) { }\r\n    }, [goBtnloading, supplierSelect, findPartyItemAccess]);\r\n\r\n    useEffect(() => {\r\n        if (gobutton_Add_invoice.Status === true && gobutton_Add_invoice.StatusCode === 200) {\r\n            history.push({\r\n                pathname: gobutton_Add_invoice.path,\r\n            })\r\n        }\r\n    }, [gobutton_Add_invoice]);\r\n\r\n    // useEffect(() => {\r\n    //     if (changeAllDiscount) {\r\n\r\n    //         const updatedOrderItemTable = orderItemTable.map((item) => ({\r\n    //             ...item,\r\n    //             Discount: discountValueAll,\r\n    //             DiscountType: discountTypeAll.value,\r\n    //         }));\r\n    //         itemWise_CalculationFunc(item, undefined, orderItemTable)\r\n    //         setOrderItemTable(updatedOrderItemTable);\r\n    //     }\r\n    // }, [changeAllDiscount, discountValueAll, discountTypeAll.value]);\r\n\r\n    useEffect(() => {\r\n        debugger\r\n        if (changeAllDiscount) {\r\n            const updatedOrderItemTable = orderItemTable.map((item) => ({\r\n                ...item,\r\n                Discount: discountValueAll,\r\n                DiscountType: discountTypeAll.value,\r\n            }));\r\n\r\n            // Perform calculations based on the updated values for each item\r\n            updatedOrderItemTable.forEach((item) => {\r\n                itemWise_CalculationFunc(item, undefined, updatedOrderItemTable);\r\n            });\r\n\r\n            // Set the updated array as the new orderItemTable\r\n            setOrderItemTable(updatedOrderItemTable);\r\n        }\r\n    }, [changeAllDiscount, discountValueAll, discountTypeAll.value]);\r\n\r\n    const supplierOptions = vendorSupplierCustomer.map((i) => ({\r\n        value: i.id,\r\n        label: i.Name,\r\n        FSSAIExipry: i.FSSAIExipry,\r\n        GSTIN: i.GSTIN,\r\n        FSSAINo: i.FSSAINo,\r\n        IsTCSParty: i.IsTCSParty,\r\n        ISCustomerPAN: i.PAN,\r\n\r\n    }))\r\n\r\n    const orderTypeOptions = orderType.map((i) => ({\r\n        value: i.id,\r\n        label: i.Name,\r\n    }));\r\n\r\n    const RoutesListOptions = RoutesList.map((index) => ({\r\n        value: index.id,\r\n        label: index.Name,\r\n        IsActive: index.IsActive\r\n    }));\r\n\r\n    const RouteOptions = RoutesListOptions.filter((index) => {\r\n        return index.IsActive === true\r\n    });\r\n\r\n    RouteOptions.unshift({\r\n        value: \"\",\r\n        label: \"All\"\r\n    });\r\n\r\n    const pagesListColumns = [\r\n        {\r\n            dataField: \"GroupName\",\r\n            text: \"Group\",\r\n            classes: 'table-cursor-pointer',\r\n            sort: true,\r\n            attrs: (cell, row, rowIndex, colIndex) => ({ 'data-label': \"GroupName\" }),\r\n            headerStyle: () => {\r\n                return { minWidth: '100px', textAlign: 'center' };\r\n            },\r\n        },\r\n        {\r\n            dataField: \"SubGroupName\",\r\n            text: \"SubGroup\",\r\n            classes: 'table-cursor-pointer',\r\n            sort: true,\r\n            attrs: (cell, row, rowIndex, colIndex) => ({ 'data-label': \"SubGroupName\" }),\r\n            headerStyle: () => {\r\n                return { minWidth: '100px', textAlign: 'center' };\r\n            },\r\n        },\r\n\r\n        {//------------- ItemName column ----------------------------------\r\n            dataField: \"ItemName\",\r\n            text: \"Item Name\",\r\n            classes: 'table-cursor-pointer',\r\n            attrs: (cell, row, rowIndex, colIndex) => ({ 'data-label': \"ItemName\", \"sticky-col\": \"true\" }),\r\n            sort: true,\r\n            headerStyle: () => {\r\n                return { minWidth: '200px', textAlign: 'center' };\r\n            },\r\n            sortValue: (cell, row) => row[\"ItemName\"],\r\n            headerFormatter: (value, row, k, f) => {\r\n                return (\r\n                    <div className=\"d-flex justify-content-between\" key={row.id}>\r\n                        <div>\r\n                            Item Name\r\n                        </div>\r\n                        <div onClick={assignItem_onClick}>\r\n                            <samp id={\"__assignItem_onClick\"} style={{ display: \"none\", cursor: \"pointer\" }} className=\"text-primary fst-italic text-decoration-underline\"\r\n                            >\r\n                                Assign-Items</samp>\r\n                        </div>\r\n\r\n                    </div>\r\n                )\r\n            },\r\n        },\r\n        {\r\n            dataField: \"StockQuantity\",\r\n            text: \"Stock Quantity\",\r\n            classes: 'table-cursor-pointer',\r\n            align: () => \"right\",\r\n            attrs: (cell, row, rowIndex, colIndex) => ({ 'data-label': \"StockQuantity\" }),\r\n            sort: true,\r\n            headerStyle: () => {\r\n                return { minWidth: '100px', textAlign: 'center' };\r\n            },\r\n        },\r\n\r\n        { //------------- Quantity column ----------------------------------\r\n            text: \"Quantity\",\r\n            classes: 'table-cursor-pointer',\r\n            attrs: (cell, row, rowIndex, colIndex) => ({ 'data-label': \"Quantity\" }),\r\n            headerStyle: () => {\r\n                return { width: '10%', textAlign: 'center' };\r\n            },\r\n            formatExtraData: { tableList: orderItemTable },\r\n            formatter: (value, row, k, { tableList }) => {\r\n\r\n                return (\r\n                    <>\r\n                        <CInput\r\n                            key={`Quantity-${k}`}\r\n                            id={`Quantity-${k}`}\r\n                            cpattern={onlyNumberRegx}\r\n                            defaultValue={row.Quantity}\r\n                            autoComplete=\"off\"\r\n                            className=\" text-end\"\r\n                            onChange={(e) => {\r\n                                row[\"Quantity\"] = e.target.value\r\n                                itemWise_CalculationFunc(row, undefined, tableList)\r\n                            }}\r\n                        />\r\n                    </>\r\n                )\r\n            },\r\n\r\n        },\r\n\r\n        {  //------------- Unit column ----------------------------------\r\n            text: \"Unit\",\r\n            classes: 'table-cursor-pointer',\r\n            dataField: \"\",\r\n            attrs: (cell, row, rowIndex, colIndex) => ({ 'data-label': \"Unit\" }),\r\n            headerStyle: () => {\r\n                return { width: '9%', textAlign: 'center' };\r\n            },\r\n            formatExtraData: { tableList: orderItemTable },\r\n            formatter: (value, row, key, { tableList }) => {\r\n\r\n                if (!row.UnitName) {\r\n                    row[\"Unit_id\"] = 0;\r\n                    row[\"UnitName\"] = 'null';\r\n\r\n                    row.UnitDetails.forEach(i => {\r\n                        if ((i.PODefaultUnit) && !(subPageMode === url.ORDER_4)) {\r\n                            defaultUnit(i)\r\n                        }\r\n                        else if ((i.SODefaultUnit) && (subPageMode === url.ORDER_4)) {\r\n                            defaultUnit(i)\r\n                        }\r\n                    });\r\n                    // ********************** //if default unit is not selected then auto first indx unit select\r\n                    if ((row[\"UnitName\"] === 'null') && row.UnitDetails.length > 0) {\r\n                        defaultUnit(row.UnitDetails[0])\r\n                    }\r\n                    // **********************                   \r\n\r\n                    function defaultUnit(i) {\r\n                        row[\"Unit_id\"] = i.UnitID;\r\n                        row[\"po_Unit_id\"] = i.UnitID;\r\n                        row[\"UnitName\"] = i.UnitName;\r\n                        row[\"BaseUnitQuantity\"] = i.BaseUnitQuantity;\r\n                        row[\"Rate\"] = ((i.BaseUnitQuantity / i.BaseUnitQuantityNoUnit) * i.Rate).toFixed(2);\r\n                    }\r\n\r\n                } else {\r\n                    row.UnitDetails.forEach(i => {\r\n                        if ((row.Unit_id === i.UnitID)) {\r\n                            row[\"BaseUnitQuantity\"] = i.BaseUnitQuantity;\r\n                            row[\"UnitName\"] = i.UnitName;\r\n                        }\r\n                    });\r\n\r\n                }\r\n                if (pageMode === mode.edit) {\r\n\r\n                    if (!row[\"edit_Qty\"]) {\r\n                        if (row.Quantity > 0) {\r\n                            row[\"editrowId\"] = true\r\n                            row[\"edit_Qty\"] = row.Quantity\r\n\r\n                        } else {\r\n                            row[\"edit_Qty\"] = 0\r\n                            row[\"editrowId\"] = false\r\n                        }\r\n                    }\r\n\r\n                    if (!row[\"edit_Unit_id\"]) {\r\n                        row[\"edit_Unit_id\"] = row.Unit_id;\r\n                    }\r\n\r\n                    if (!row[\"edit_Discount\"]) {\r\n                        row[\"edit_Discount\"] = row.Discount;\r\n                    }\r\n                    if (!row[\"edit_DiscountType\"]) {\r\n                        row[\"edit_DiscountType\"] = row.DiscountType;\r\n                    }\r\n                }\r\n\r\n                return (\r\n                    <div >\r\n                        <Select\r\n                            id={\"ddlUnit\"}\r\n                            key={`ddlUnit${row.id}`}\r\n                            defaultValue={{ value: row.Unit_id, label: row.UnitName }}\r\n                            options={\r\n                                row.UnitDetails.map(i => ({\r\n                                    label: i.UnitName,\r\n                                    value: i.UnitID,\r\n\r\n                                    BaseUnitQuantity: i.BaseUnitQuantity,\r\n                                    Rate: i.Rate,\r\n                                    BaseUnitQuantityNoUnit: i.BaseUnitQuantityNoUnit\r\n                                }))\r\n                            }\r\n                            onChange={e => {\r\n                                row[\"Unit_id\"] = e.value;\r\n                                row[\"UnitName\"] = e.label\r\n                                row[\"BaseUnitQuantity\"] = e.BaseUnitQuantity;\r\n\r\n                                row[\"Rate\"] = ((e.BaseUnitQuantity / e.BaseUnitQuantityNoUnit) * e.Rate).toFixed(2);\r\n                                itemWise_CalculationFunc(row, undefined, tableList)\r\n\r\n                                document.getElementById(`Rate-${key}`).innerText = _cfunc.amountCommaSeparateFunc(Number(row.Rate).toFixed(2))\r\n                            }}\r\n                        >\r\n                        </Select >\r\n                    </div>\r\n                )\r\n            },\r\n\r\n        },\r\n\r\n        {//------------- Rate column ----------------------------------\r\n            text: \"Basic Rate\",\r\n            classes: 'table-cursor-pointer',\r\n            dataField: \"\",\r\n            attrs: (cell, row, rowIndex, colIndex) => ({ 'data-label': \"Basic Rate\" }),\r\n            headerStyle: () => {\r\n                return { width: '9%', textAlign: 'center' };\r\n            },\r\n            formatExtraData: { tableList: orderItemTable },\r\n            formatter: (value, row, k, { tableList }) => {\r\n                if (subPageMode === url.ORDER_1) {\r\n                    return (\r\n                        <div key={row.id} className=\"text-end\">\r\n                            <CInput\r\n                                type=\"text\"\r\n                                id={`Rate-${k}`}\r\n                                cpattern={decimalRegx}\r\n                                defaultValue={row.Rate}\r\n                                className=\"text-end\"\r\n                                onChange={(event) => {\r\n                                    row.Rate = event.target.value;\r\n                                    itemWise_CalculationFunc(row, undefined, tableList)\r\n\r\n                                }}\r\n                            />\r\n\r\n                        </div>\r\n                    )\r\n                }\r\n                else {\r\n                    return (\r\n                        <div key={row.id} className=\"text-end\">\r\n\r\n                            <span id={`Rate-${k}`}>{_cfunc.amountCommaSeparateFunc(Number(row.Rate).toFixed(2))}</span>\r\n                        </div>\r\n                    )\r\n                }\r\n\r\n            },\r\n\r\n        },\r\n\r\n        {//------------- MRP column ----------------------------------\r\n            text: \"MRP\",\r\n            classes: 'table-cursor-pointer',\r\n            dataField: \"\",\r\n            attrs: (cell, row, rowIndex, colIndex) => ({ 'data-label': \"MRP\" }),\r\n            headerStyle: () => {\r\n                return { width: '8%', textAlign: 'center' };\r\n            },\r\n            formatter: (value, row, k) => {\r\n\r\n                return (\r\n                    <div key={row.id} className=\"text-end\">\r\n                        <span>{row.MRPValue}</span>\r\n                    </div>\r\n                )\r\n            },\r\n\r\n        },\r\n        {//***************Discount********************************************************************* */\r\n            text: \"Discount/unit\",\r\n            dataField: \"\",\r\n            formatExtraData: {\r\n                discountValueAll: discountValueAll,\r\n                discountTypeAll: discountTypeAll,\r\n                changeAllDiscount: changeAllDiscount,\r\n                forceReload: forceReload,\r\n                tableList: orderItemTable\r\n            },\r\n            attrs: (cell, row, rowIndex, colIndex) => ({ 'data-label': \"Discount/unit\" }),\r\n            headerStyle: () => {\r\n                return { width: '11%', textAlign: 'center' };\r\n            },\r\n            headerFormatter: () => {\r\n                return (\r\n                    <div className=\"\" >\r\n                        {orderItemTable.length <= 0 ?\r\n                            <div className=\"col col-3 mt-2\">\r\n                                <Label>Discount/unit</Label>\r\n                            </div>\r\n                            :\r\n                            <div className=\"row\">\r\n                                <div className=\" mt-n2 mb-n2\">\r\n                                    <Label>Discount/unit</Label>\r\n                                </div>\r\n                                <div className=\"col col-6\" >\r\n                                    <Select\r\n                                        type=\"text\"\r\n                                        defaultValue={discountTypeAll}\r\n                                        classNamePrefix=\"select2-selection\"\r\n                                        options={discountDropOption}\r\n                                        isDisabled={(subPageMode === url.ORDER_2)}\r\n                                        style={{ textAlign: \"right\" }}\r\n                                        onChange={(e) => {\r\n                                            setChangeAllDiscount(true);\r\n                                            setDiscountTypeAll(e);\r\n                                            setDiscountValueAll('');\r\n                                        }}\r\n                                    />\r\n                                </div>\r\n                                <div className=\"col col-6\" >\r\n                                    <CInput\r\n                                        type=\"text\"\r\n                                        className=\"input\"\r\n                                        style={{ textAlign: \"right\" }}\r\n                                        cpattern={decimalRegx}\r\n                                        value={discountValueAll}\r\n                                        disabled={(subPageMode === url.ORDER_2)}\r\n                                        onChange={(e) => {\r\n                                            debugger\r\n                                            let e_val = Number(e.target.value);\r\n\r\n                                            // Check if discount type is \"percentage\"\r\n                                            if (discountTypeAll.value === 2) {// Discount type 2 represents \"percentage\"\r\n                                                // Limit the input to the range of 0 to 100\r\n                                                if (e_val > 100) {\r\n                                                    e.target.value = 100; // Set the input value to 100 if it exceeds 100\r\n                                                } else if (!(e_val >= 0 && e_val < 100)) {\r\n                                                    e.target.value = \"\"; // Clear the input value if it is less than 0\r\n                                                }\r\n                                            }\r\n\r\n                                            setChangeAllDiscount(true);\r\n                                            setDiscountValueAll(e.target.value);\r\n                                        }}\r\n                                    />\r\n                                </div>\r\n                            </div>\r\n                        }\r\n                    </div>\r\n                );\r\n            },\r\n\r\n            classes: () => \"order-discount-row\",\r\n            formatter: (cellContent, index1, key, formatExtraData) => {\r\n                debugger\r\n                let { tableList, discountValueAll, discountTypeAll } = formatExtraData;\r\n\r\n                // if (formatExtraData.changeAllDiscount) {\r\n                //     index1.Discount = discountValueAll;\r\n                //     index1.DiscountType = discountTypeAll.value;\r\n                //     itemWise_CalculationFunc(index1, undefined, tableList)\r\n                // }\r\n                if (!index1.DiscountType) { index1.DiscountType = discountTypeAll.value }\r\n\r\n                const defaultDiscountTypelabel =\r\n                    index1.DiscountType === 1 ? discountDropOption[0] : discountDropOption[1];\r\n\r\n                return (\r\n                    <>\r\n                        <div className=\"mb-2\">\r\n                            <div className=\"parent\">\r\n                                <div className=\"child\">\r\n                                    <label className=\"label\">Type&nbsp;&nbsp;&nbsp;</label>\r\n                                </div>\r\n                                <div className=\"child\">\r\n                                    <Select\r\n                                        id={`DicountType_${key}`}\r\n                                        classNamePrefix=\"select2-selection\"\r\n                                        key={`DicountType_${key}-${index1.id}`}\r\n                                        value={defaultDiscountTypelabel}\r\n                                        isDisabled={(subPageMode === url.ORDER_2)}\r\n                                        options={discountDropOption}\r\n                                        onChange={(e) => {\r\n                                            setChangeAllDiscount(false);\r\n                                            setForceReload(!forceReload);\r\n                                            index1.DiscountType = e.value;\r\n                                            index1.Discount = '';\r\n                                            itemWise_CalculationFunc(index1, undefined, tableList)\r\n                                        }}\r\n                                    />\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div>\r\n                            <div className=\"parent\">\r\n                                <div className=\"child\">\r\n                                    <label className=\"label\">Value&nbsp;</label>\r\n                                </div>\r\n                                <div className=\"child\">\r\n                                    <CInput\r\n                                        className=\"input\"\r\n                                        id={`Dicount_${key}-${index1.id}`}\r\n                                        style={{ textAlign: \"right\" }}\r\n                                        type=\"text\"\r\n                                        value={index1.Discount}\r\n                                        disabled={(subPageMode === url.ORDER_2)}\r\n                                        cpattern={decimalRegx}\r\n                                        onChange={(e) => {\r\n\r\n                                            let e_val = Number(e.target.value);\r\n                                            // Check if discount type is \"percentage\"\r\n                                            if (index1.DiscountType === 2) { // Discount type 2 represents \"percentage\"\r\n                                                // Limit the input to the range of 0 to 100\r\n                                                if (e_val > 100) {\r\n                                                    e.target.value = 100; // Set the input value to 100 if it exceeds 100\r\n                                                } else if (!(e_val >= 0 && e_val < 100)) {\r\n                                                    e.target.value = ''; // Clear the input value if it is less than 0\r\n                                                }\r\n                                            }\r\n                                            index1.Discount = e.target.value;\r\n                                            setChangeAllDiscount(false);\r\n                                            setForceReload(!forceReload);\r\n                                            itemWise_CalculationFunc(index1, undefined, tableList)\r\n                                        }}\r\n\r\n                                    />\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        {/* <div className=\"bottom-div\">\r\n                            <span>Amount:</span>\r\n                            <samp id={`roundedTotalAmount-${index1.id}`}>\r\n                                {_cfunc.amountCommaSeparateFunc(index1.roundedTotalAmount)}\r\n                            </samp>\r\n                        </div> */}\r\n                    </>\r\n                );\r\n            },\r\n        },\r\n\r\n        { //------------- Comment column ----------------------------------\r\n            text: \"Comment\",\r\n            classes: 'table-cursor-pointer',\r\n            dataField: \"\",\r\n            attrs: (cell, row, rowIndex, colIndex) => ({ 'data-label': \"Comment\" }),\r\n            formatter: (value, row, k) => {\r\n                return (\r\n                    <span >\r\n                        <Input type=\"text\"\r\n                            id={`Comment${k}`}\r\n                            key={`Comment${row.id}`}\r\n\r\n                            defaultValue={row.Comment}\r\n                            autoComplete=\"off\"\r\n                            onChange={(e) => { row[\"Comment\"] = e.target.value }}\r\n                        />\r\n                    </span>\r\n                )\r\n            },\r\n\r\n            headerStyle: () => {\r\n                return { width: '9%', textAlign: 'center' };\r\n            }\r\n        },\r\n    ];\r\n\r\n    const defaultSorted = [\r\n        {\r\n            dataField: \"ItemName\", // if dataField is not match to any column you defined, it will be ignored.\r\n            order: \"asc\", // desc or asc\r\n        },\r\n    ];\r\n\r\n    function supplierOnchange(e) {\r\n\r\n        setsupplierSelect(e);\r\n        if (subPageMode === url.ORDER_4) {\r\n            dispatch(_act.getSupplierAddress(e.value))\r\n            let Date = currentDate_ymd\r\n            if ((e.FSSAIExipry === \"\") || (e.FSSAIExipry === null)) {\r\n                setFSSAI_Date_Is_Expired(\"There is No FSSAI Expiry Date Please Insert FSSAI Date!\")\r\n            }\r\n            else if (e.FSSAIExipry < Date) {\r\n                setFSSAI_Date_Is_Expired(\"FSSAI Expired\")\r\n            } else {\r\n                setFSSAI_Date_Is_Expired(\"\")\r\n            }\r\n        }\r\n        setOrderItemTable([])\r\n        setItemSelect('')\r\n        goButtonHandler(e.value)\r\n    };\r\n\r\n    function itemSelectOnchange(e) {\r\n        setItemSelect(e)\r\n    };\r\n\r\n    function Open_Assign_func() {\r\n        setisOpen_assignLink(false)\r\n        dispatch(_act.editPartyItemIDSuccess({ Status: false }));\r\n        _cfunc.breadcrumbReturnFunc({ dispatch, userAcc: userPageAccessState })\r\n        goButtonHandler()\r\n    };\r\n\r\n    function RouteOnChange(event) {\r\n        setsupplierSelect('')\r\n        dispatch(_act.GetVenderSupplierCustomer({ subPageMode, RouteID: event.value, \"PartyID\": commonPartyDropSelect.value }))\r\n        setRouteSelect(event)\r\n    }\r\n\r\n    async function assignItem_onClick(event) {\r\n        event.stopPropagation();\r\n        const isParty = subPageMode === url.ORDER_1 ? supplierSelect.value : commonPartyDropSelect.value\r\n        const config = {\r\n            editId: isParty,\r\n            Party: isParty,\r\n            btnmode: mode.assingLink,\r\n            subPageMode,\r\n            btnId: `btn-assingLink-${supplierSelect.value}`\r\n        }\r\n\r\n        const isConfirmed = await customAlert({\r\n            Type: 7,\r\n            Message: \"Do you confirm your choice?\",\r\n        });\r\n\r\n        if (isConfirmed) {\r\n\r\n            const jsonBody = JSON.stringify({ ..._cfunc.loginJsonBody(), ...{ PartyID: isParty } });\r\n\r\n            dispatch(editPartyItemID({ jsonBody, config }))\r\n            dispatch(_act.GoButton_For_Order_AddSuccess([]))\r\n        };\r\n    };\r\n\r\n    function itemWise_CalculationFunc(row, IsComparGstIn, tableList) {\r\n        debugger\r\n        const calculate = orderCalculateFunc(row) //order calculation function \r\n        row[\"Amount\"] = calculate.roundedTotalAmount\r\n        let sumOfAmount = tableList.reduce((accumulator, currentObject) => accumulator + (Number(currentObject[\"Amount\"]) || 0), 0);\r\n        // setOrderAmount(sumOfAmount.toFixed(2))\r\n        dispatch(_act.BreadcrumbShowCountlabel(`${\"Order Amount\"} :${_cfunc.amountCommaSeparateFunc(Number(sumOfAmount).toFixed(2))}`))\r\n    };\r\n\r\n    const item_AddButtonHandler = () => {\r\n\r\n        setGoBtnDissable(true)\r\n\r\n        let isfound = orderItemTable.find(i => i.value === itemSelect.value);\r\n\r\n        if (!itemSelect) {\r\n            customAlert({ Type: 4, Message: `Select Item Name` })\r\n        }\r\n        else if (isfound === undefined) {\r\n            setOrderItemTable([itemSelect].concat(orderItemTable))\r\n        }\r\n        else {\r\n            customAlert({ Type: 3, Message: \"This Item Already Exist\" })\r\n        }\r\n        setItemSelect('')\r\n    }\r\n\r\n    const goButtonHandler = async (selectSupplier) => {\r\n\r\n        if (!supplierSelect > 0 && !selectSupplier) {\r\n            await customAlert({\r\n                Type: 4,\r\n                Message: `Please Select ${fieldLabel.Supplier}`\r\n            })\r\n            return;\r\n        }\r\n        let btnId = `go-btn${subPageMode}`\r\n        _cfunc.btnIsDissablefunc({ btnId, state: true })\r\n\r\n        dispatch(_act.BreadcrumbShowCountlabel(initial_BredcrumbMsg))\r\n\r\n\r\n        let PO_Body = {\r\n            Party: selectSupplier ? selectSupplier : supplierSelect.value,\r\n            Customer: commonPartyDropSelect.value,\r\n            RateParty: commonPartyDropSelect.value,\r\n            EffectiveDate: orderdate,\r\n            OrderID: (pageMode === mode.defaultsave) ? 0 : editVal.id,\r\n            OrderType: order_Type.PurchaseOrder,\r\n        }\r\n        let SO_body = {\r\n            Party: commonPartyDropSelect.value, //swap  party and customer for sale oerder\r\n            Customer: selectSupplier ? selectSupplier : supplierSelect.value,//swap  party and customer for sale oerder\r\n            RateParty: selectSupplier ? selectSupplier : supplierSelect.value,\r\n            EffectiveDate: orderdate,\r\n            OrderID: (pageMode === mode.defaultsave) ? 0 : editVal.id,\r\n            OrderType: order_Type.SaleOrder,\r\n        }\r\n\r\n\r\n        let jsonBody;   //json body decleration \r\n        if (subPageMode === url.ORDER_4) {\r\n            jsonBody = JSON.stringify({ ...SO_body, });\r\n        }\r\n        else {\r\n            jsonBody = JSON.stringify({ ...PO_Body, });\r\n        }\r\n        let config = { subPageMode, jsonBody, btnId }\r\n        dispatch(_act.GoButton_For_Order_Add(config))\r\n    };\r\n\r\n    // Function to handle the form submission\r\n    const saveHandler = async (event) => {\r\n        event.preventDefault();\r\n\r\n        // Extract the ID from the target element\r\n        const buttonId = event.target.id;\r\n        const gotoInvoiceMode = buttonId.substring(0, 14) === \"gotoInvoiceBtn\";\r\n\r\n        try {\r\n            // Get the division from the loginPartyID function\r\n            const division = commonPartyDropSelect.value;\r\n            const supplier = supplierSelect.value;\r\n\r\n            const validationMessages = []; // Stores validation messages for items\r\n            const orderItems = []; // Stores processed order items\r\n            const vdcPoValidationMessages = []; // Stores VDC-PO validation messages\r\n            let sumOfOrderAmount = 0;//total grand total amount\r\n\r\n            // Loop through the order items\r\n            await orderItemTable.forEach(item => {\r\n\r\n                // Check for item quantity and rate validity\r\n                if ((item.Quantity > 0) && !(item.Rate > 0)) {\r\n                    validationMessages.push({ [item.ItemName]: \"This Item Rate Is Required...\" });\r\n                }\r\n                else if (pageMode === mode.edit) {\r\n                    // Check if the item quantity or unit has changed in edit mode\r\n                    const isChange = (\r\n                        !(Number(item.edit_Qty) === Number(item.Quantity))\r\n                        || !(item.edit_Unit_id === item.Unit_id)\r\n                        || !(Number(item.edit_Discount) === Number(item.Discount))\r\n                        || !(Number(item.edit_DiscountType) === Number(item.DiscountType))\r\n                    );\r\n\r\n                    let isEdit = 0;\r\n                    if (isChange && !(item.edit_Qty === 0)) {\r\n                        isEdit = 1;\r\n                    }\r\n                    processOrderItem({ item, isEdit });\r\n                }\r\n                else {\r\n                    const isEdit = 0;\r\n                    processOrderItem({ item, isEdit });\r\n                }\r\n                sumOfOrderAmount = (Number(sumOfOrderAmount) + Number(item[\"Amount\"])).toFixed(2) //total grand total amount\r\n\r\n            });\r\n\r\n            // Function to handle order items\r\n            function processOrderItem({ item, isEdit }) {\r\n\r\n                // Handle quantity for null or undefined values\r\n                item.Quantity = !Number(item.Quantity) ? 0 : item.Quantity;\r\n\r\n                // Check various conditions for item processing\r\n                if ((item.Quantity > 0) && (item.Rate > 0) && !(orderTypeSelect.value === 3)) {\r\n                    // Item is not deleted and has value changes\r\n                    processValueChanged({ item, isEdit, isDelete: false });\r\n                }\r\n                else if (!(item.Quantity < 0) && (item.editrowId) && !(orderTypeSelect.value === 3)) {\r\n                    // Item is deleted (set quantity to 0) and has value changes\r\n                    processValueChanged({ item, isEdit, isDelete: true });\r\n                }\r\n                else if (!(item.Quantity < 0) && !(item.editrowId) && !(orderTypeSelect.value === 3)) {\r\n                    // Item is not deleted and has no value changes, skip\r\n                    return;\r\n                }\r\n                else if ((item.Quantity > 0) && (item.Rate > 0)) { // Logic for VDC-PO\r\n                    if (item.Bom) {\r\n                        if ((orderItems.length === 0)) {\r\n                            // First VDC-PO item, not deleted and has value changes\r\n                            processValueChanged({ item, isEdit, isDelete: false });\r\n                        } else {\r\n                            if (vdcPoValidationMessages.length === 0) {\r\n                                vdcPoValidationMessages.push({ [\"VDC-PO Type\"]: \"This Type Of Order Only One Item Quantity Accept...\" });\r\n                            }\r\n                        }\r\n                    } else {\r\n                        vdcPoValidationMessages.push({ [item.ItemName]: \"This Is Not VDC-PO Item...\" });\r\n                    }\r\n                }\r\n                else if ((item.Quantity < 1) && (item.editrowId)) {\r\n                    if (item.Bom) {\r\n                        if ((orderItems.length === 0)) {\r\n                            // First VDC-PO item, deleted and has value changes\r\n                            processValueChanged({ item, isEdit, isDelete: true });\r\n                        } else {\r\n                            if (vdcPoValidationMessages.length === 0) {\r\n                                vdcPoValidationMessages.push({ [\"VDC-PO Type\"]: \"This Type of order Only One Item Quantity Accept...\" });\r\n                            }\r\n                        }\r\n                    } else {\r\n                        vdcPoValidationMessages.push({ [item.ItemName]: \"This Is Not VDC-PO Item...\" });\r\n                    }\r\n                }\r\n            }\r\n\r\n            // Function to handle value changes in order items\r\n            function processValueChanged({ item, isEdit, isDelete }) {\r\n\r\n                const calculated = orderCalculateFunc(item, { GSTIn_1: supplierSelect.GSTIN, GSTIn_2: _cfunc.loginUserGSTIN() });\r\n\r\n                // Create an object for the order item\r\n                const orderItem = {\r\n                    Item: item.Item_id,\r\n                    Quantity: isDelete ? 0 : item.Quantity,\r\n                    MRP: item.MRP_id,\r\n                    MRPValue: item.MRPValue,\r\n                    Rate: item.Rate,\r\n                    Unit: item.Unit_id,\r\n                    BaseUnitQuantity: (Number(item.BaseUnitQuantity) * Number(item.Quantity)).toFixed(2),\r\n                    Margin: \"\",\r\n                    GST: item.GST_id,\r\n                    CGST: calculated.CGST_Amount,\r\n                    SGST: calculated.SGST_Amount,\r\n                    IGST: calculated.IGST_Amount,\r\n                    GSTPercentage: calculated.GST_Percentage,\r\n                    CGSTPercentage: calculated.CGST_Percentage,\r\n                    SGSTPercentage: calculated.SGST_Percentage,\r\n                    IGSTPercentage: calculated.IGST_Percentage,\r\n                    BasicAmount: calculated.basicAmount,\r\n                    GSTAmount: calculated.roundedGstAmount,\r\n                    Amount: calculated.roundedTotalAmount,\r\n                    TaxType: 'GST',\r\n                    DiscountType: item.DiscountType,\r\n                    Discount: Number(item.Discount) || 0,\r\n                    DiscountAmount: Number(calculated.disCountAmt).toFixed(2),\r\n                    IsDeleted: isEdit, // Set to 1 if item is edited, otherwise 0 for delete\r\n                    Comment: item.Comment\r\n                };\r\n\r\n                orderItems.push(orderItem);\r\n            }\r\n\r\n            // Get terms and conditions\r\n            const termsAndConditions = await termsAndConTable.map(item => ({\r\n                TermsAndCondition: item.value,\r\n                IsDeleted: item.IsDeleted\r\n            }));\r\n\r\n\r\n            // Check for any validation errors\r\n            if (vdcPoValidationMessages.length > 0) {\r\n                customAlert({\r\n                    Type: 4,\r\n                    Message: vdcPoValidationMessages,\r\n                });\r\n                return;\r\n            }\r\n            if (validationMessages.length > 0) {\r\n                customAlert({\r\n                    Type: 4,\r\n                    Message: validationMessages,\r\n                });\r\n                return;\r\n            }\r\n            if (orderItems.length === 0) {\r\n                customAlert({\r\n                    Type: 4,\r\n                    Message: \"Please Select 1 Item Quantity\",\r\n                });\r\n                return;\r\n            }\r\n            if (orderTypeSelect.length === 0) {\r\n                customAlert({\r\n                    Type: 4,\r\n                    Message: \"Please Select PO Type\",\r\n                });\r\n                return;\r\n            }\r\n            if ((termsAndConditions.length === 0) && !(subPageMode === url.ORDER_2)\r\n                && !(subPageMode === url.ORDER_4) && !(subPageMode === url.IB_ORDER)\r\n            ) {\r\n                customAlert({\r\n                    Type: 4,\r\n                    Message: \"Please Enter One Terms And Condition\",\r\n                });\r\n                return;\r\n            }\r\n\r\n            const po_JsonBody = {\r\n                Customer: division,\r\n                Supplier: supplier,\r\n                OrderType: order_Type.PurchaseOrder,\r\n                IsConfirm: false  // PO Order then IsConfirm true\r\n            }\r\n            const SO_JsonBody = {\r\n                Customer: supplier,// swipe supllier \r\n                Supplier: division,// swipe Customer\r\n                OrderType: order_Type.SaleOrder,\r\n                IsConfirm: true   // SO Order then IsConfirm true\r\n            }\r\n            const IB_JsonBody = {\r\n                DemandDate: orderdate,\r\n                DemandAmount: sumOfOrderAmount,\r\n                DemandItem: orderItems,\r\n                Customer: division,\r\n                Supplier: supplier,\r\n                OrderType: order_Type.PurchaseOrder,\r\n            }\r\n            const comm_jsonBody = {\r\n                OrderDate: deliverydate,// order Date as a delivery date \r\n                DeliveryDate: deliverydate,\r\n                OrderAmount: sumOfOrderAmount,\r\n                OrderItem: orderItems,\r\n\r\n                Description: description,\r\n                BillingAddress: billAddr.value,\r\n                ShippingAddress: shippAddr.value,\r\n                OrderNo: 1,\r\n                FullOrderNumber: \"PO0001\",\r\n                Division: division,\r\n                POType: orderTypeSelect.value,\r\n                POFromDate: orderTypeSelect.value === 1 ? currentDate_ymd : poFromDate,\r\n                POToDate: orderTypeSelect.value === 1 ? currentDate_ymd : poToDate,\r\n                CreatedBy: _cfunc.loginUserID(),\r\n                UpdatedBy: _cfunc.loginUserID(),\r\n                OrderTermsAndConditions: termsAndConditions\r\n            };\r\n\r\n\r\n            let jsonBody;   //json body decleration \r\n            if (subPageMode === url.IB_ORDER) {\r\n                jsonBody = JSON.stringify({ ...comm_jsonBody, ...IB_JsonBody });\r\n            }\r\n            else if (subPageMode === url.ORDER_4) {\r\n                jsonBody = JSON.stringify({ ...comm_jsonBody, ...SO_JsonBody });\r\n            }\r\n            else {\r\n                jsonBody = JSON.stringify({ ...comm_jsonBody, ...po_JsonBody });\r\n            }\r\n            // +*********************************\r\n\r\n            if (pageMode === mode.edit) {\r\n                dispatch(_act.updateOrderIdAction({ jsonBody, updateId: editVal.id, gotoInvoiceMode }))\r\n\r\n            } else {\r\n\r\n                dispatch(_act.saveOrderAction({ jsonBody, subPageMode, gotoInvoiceMode }))\r\n            }\r\n        } catch (error) {\r\n            _cfunc.CommonConsole(\"order_save_\", error);\r\n        }\r\n    };\r\n\r\n    if (!(userPageAccessState === \"\")) {\r\n        return (\r\n            <React.Fragment>\r\n                <MetaTags>{_cfunc.metaTagLabel(userPageAccessState)}</MetaTags>\r\n                <PageLoadingSpinner isLoading={!pageField} />\r\n                <div className=\"page-container1\">\r\n                    {invoiceGoBtnloading && <div className=\"c_spinner-container\">\r\n                        <div className=\"d-flex\">\r\n                            <div className=\"\">\r\n                                <span className=\"font-size-18 color-primary\">Please Wait...</span>\r\n                            </div>\r\n                            <DashboardLoader />\r\n                        </div>\r\n\r\n                    </div>}\r\n\r\n                    <div className=\"page-content\">\r\n\r\n                        <NewCommonPartyDropdown pageMode={pageMode} />\r\n\r\n                        <div>\r\n                            <div className=\"px-2 c_card_filter header text-black\" >{/* Order Date And Supplier Name,Go_Button*/}\r\n\r\n                                <div>\r\n                                    <Row >\r\n                                        <Col sm=\"4\" >\r\n                                            <FormGroup className=\" row mt-2\" >\r\n                                                <Label className=\"col-sm-5 p-2\"\r\n                                                    style={{ width: \"115px\" }}>Delivery Date</Label>\r\n                                                <Col sm=\"7\">\r\n                                                    <C_DatePicker\r\n                                                        options={{\r\n                                                            altInput: true,\r\n                                                            altFormat: \"d-m-Y\",\r\n                                                            dateFormat: \"Y-m-d\",\r\n                                                        }}\r\n                                                        name=\"deliverydate\"\r\n                                                        value={deliverydate}\r\n                                                        disabled={(orderItemTable.length > 0 || pageMode === \"edit\") ? true : false}\r\n                                                        onChange={(e, date) => { setdeliverydate(date) }}\r\n                                                    />\r\n                                                </Col>\r\n                                            </FormGroup>\r\n                                        </Col>\r\n\r\n                                        {(subPageMode === ORDER_4) ?\r\n                                            <Col sm=\"3\">\r\n                                                <FormGroup className=\" row mt-2 \" >\r\n                                                    <Label className=\"col-sm-5 p-2\"\r\n                                                        style={{ width: \"65px\" }}>{fieldLabel.Route}</Label>\r\n                                                    <Col sm=\"7\">\r\n\r\n                                                        <C_Select\r\n                                                            classNamePrefix=\"react-select\"\r\n                                                            value={routeSelect}\r\n                                                            options={RouteOptions}\r\n                                                            isDisabled={(orderItemTable.length > 0 || pageMode === \"edit\" || goBtnloading) ? true : false}\r\n                                                            // onChange={(e) => { setRouteSelect(e) }}\r\n                                                            onChange={(e) => { RouteOnChange(e) }}\r\n                                                            isLoading={routesDropLoading}\r\n                                                            styles={{\r\n                                                                menu: provided => ({ ...provided, zIndex: 2 })\r\n                                                            }}\r\n                                                        />\r\n\r\n                                                    </Col>\r\n                                                </FormGroup>\r\n                                            </Col >\r\n                                            : <Col sm='3' />\r\n                                        }\r\n\r\n                                        <Col sm=\"4\" className=\"\">\r\n                                            <FormGroup className=\"row mt-2\" >\r\n                                                <Label className=\"col-sm-5 p-2\"\r\n                                                    style={{ width: \"115px\" }}>{fieldLabel.Supplier}</Label>\r\n                                                <Col sm=\"7\">\r\n                                                    <C_Select\r\n                                                        value={supplierSelect}\r\n                                                        isDisabled={(orderItemTable.length > 0 || pageMode === \"edit\" || goBtnloading) ? true : false}\r\n                                                        options={supplierOptions}\r\n                                                        onChange={supplierOnchange}\r\n                                                        isLoading={supplierDropLoading}\r\n                                                        styles={{\r\n                                                            menu: provided => ({ ...provided, zIndex: 2 })\r\n                                                        }}\r\n                                                    />\r\n                                                    {(FSSAI_Date_Is_Expired) &&\r\n                                                        <span className=\"text-danger f-8\">\r\n                                                            <small>{FSSAI_Date_Is_Expired} </small>\r\n                                                        </span>\r\n                                                    }\r\n                                                </Col>\r\n\r\n                                            </FormGroup>\r\n                                        </Col>\r\n\r\n                                        <Col sm=\"1\">                      {/*Go_Button  */}\r\n\r\n                                            <div className=\"row mt-2  pr-1\">\r\n                                                {pageMode === mode.defaultsave ?\r\n                                                    // (!selecedItemWiseOrder && itemSelectDropOptions.length > 0) ?\r\n                                                    (!goBtnDissable) ?\r\n\r\n                                                        < Go_Button\r\n                                                            loading={goBtnloading}\r\n                                                            id={`go-btn${subPageMode}`}\r\n                                                            onClick={(e) => {\r\n                                                                if (commonPartyDropSelect.value === 0) {\r\n                                                                    customAlert({\r\n                                                                        Type: 4,\r\n                                                                        Message: \"Select Party\",\r\n                                                                    });\r\n                                                                    return;\r\n                                                                }\r\n                                                                if (supplierSelect === '') {\r\n                                                                    customAlert({\r\n                                                                        Type: 4,\r\n                                                                        Message: `Please Select ${fieldLabel.Supplier}`\r\n                                                                    })\r\n                                                                    return;\r\n                                                                }\r\n                                                                setSelecedItemWiseOrder(false)\r\n                                                                setOrderItemTable(itemSelectDropOptions)\r\n                                                                setItemSelect({ value: '', label: \"All\" })\r\n                                                                setGoBtnDissable(true)\r\n                                                            }} />\r\n                                                        : (!selecedItemWiseOrder) &&\r\n                                                        <Change_Button\r\n                                                            id={`change-btn${subPageMode}`}\r\n                                                            onClick={(e) => {\r\n                                                                setsupplierSelect('')\r\n                                                                setGoBtnDissable(false)\r\n                                                                setSelecedItemWiseOrder(true)\r\n                                                                setOrderItemTable([])\r\n                                                                setItemSelect({ value: '', label: \"All\" })\r\n                                                                dispatch(_act.GoButton_For_Order_AddSuccess([]))\r\n                                                            }}\r\n                                                        />\r\n                                                    : null\r\n                                                }\r\n                                            </div>\r\n                                        </Col>\r\n\r\n                                    </Row>\r\n                                    <Row>\r\n                                        <Col sm=\"4\">                               {/*  Description field */}\r\n                                            <FormGroup className=\"row mt-1\" >\r\n                                                <Label className=\"col-sm-5 p-2\"\r\n                                                    style={{ width: \"115px\" }}>Description</Label>\r\n                                                <div className=\"col-7\">\r\n                                                    <Input type=\"text\"\r\n                                                        value={description}\r\n                                                        placeholder='Enter Order Description'\r\n                                                        onChange={e => setDescription(e.target.value)}\r\n                                                    />\r\n\r\n                                                </div>\r\n\r\n                                            </FormGroup>\r\n                                        </Col >\r\n                                        <Col sm=\"3\" />\r\n                                        <Col sm=\"4\">\r\n                                            <FormGroup className=\"row mt-1\" >\r\n                                                <Label className=\"col-sm-5 p-2\"\r\n                                                    style={{ width: \"115px\" }}>{fieldLabel.Item}</Label>\r\n\r\n                                                <Col sm=\"7\">\r\n                                                    <C_Select\r\n                                                        value={itemSelect}\r\n                                                        isDisabled={(pageMode === \"edit\" || goBtnloading) ? true : false}\r\n                                                        options={itemSelectDropOptions}\r\n                                                        isLoading={goBtnloading}\r\n                                                        onChange={itemSelectOnchange}\r\n                                                        styles={{\r\n                                                            menu: provided => ({ ...provided, zIndex: 2 })\r\n                                                        }}\r\n                                                    />\r\n                                                </Col>\r\n\r\n                                            </FormGroup>\r\n                                        </Col>\r\n                                        <Col sm=\"1\"  >\r\n\r\n                                            {pageMode === mode.defaultsave ?\r\n                                                <div className=\"row mt-2 pr-1\"  >\r\n                                                    {(selecedItemWiseOrder && itemSelectDropOptions.length > 0) ?\r\n                                                        <Button\r\n                                                            className\r\n                                                            color=\"btn btn-outline-info border-1 font-size-12 \"\r\n                                                            disabled={goBtnloading}\r\n                                                            onClick={() => item_AddButtonHandler()} >\r\n                                                            Add Item\r\n                                                        </Button>\r\n                                                        :\r\n                                                        ((itemSelectDropOptions.length > 0)) &&\r\n                                                        <Button\r\n                                                            color=\"btn btn-secondary border-1 font-size-12\"\r\n                                                            className='text-blac1k'\r\n                                                            disabled={goBtnloading}\r\n                                                            onClick={() => {\r\n                                                                setsupplierSelect('')\r\n                                                                setGoBtnDissable(false)\r\n                                                                setSelecedItemWiseOrder(true)\r\n                                                                setOrderItemTable([])\r\n                                                                setItemSelect('')\r\n                                                                dispatch(_act.GoButton_For_Order_AddSuccess([]))\r\n                                                            }} >\r\n                                                            Item Wise\r\n                                                        </Button>\r\n\r\n                                                    }\r\n\r\n                                                </div> : null\r\n                                            }\r\n                                        </Col>\r\n\r\n                                    </Row>\r\n                                </div>\r\n\r\n                            </div>\r\n\r\n                            <div className=\"px-2  mb-1 c_card_body text-black\" >              {/*  Description and Delivery Date  field */}\r\n                                <div className=\"row\">                                         {/*  Description and Delivery Date  field */}\r\n\r\n\r\n                                    {/*  Delivery Date field */}\r\n                                    {/* {!(subPageMode === url.IB_ORDER) ?\r\n                                    <div className=\"col col-6\" >\r\n                                        <FormGroup className=\" row mt-3 \" >\r\n                                            <Label className=\" p-2\"\r\n                                                style={{ width: \"130px\" }}>Delivery Date</Label>\r\n                                            <div className=\"col col-6 sm-1\">\r\n                                                <C_DatePicker\r\n                                                    id=\"deliverydate\"\r\n                                                    name=\"deliverydate\"\r\n                                                    value={deliverydate}\r\n                                                    disabled={pageMode === \"edit\" ? true : false}\r\n                                                    onChange={(e, date) => { setdeliverydate(date) }}\r\n                                                />\r\n                                            </div>\r\n\r\n                                        </FormGroup>\r\n                                    </div > : null} */}\r\n\r\n                                </div>\r\n\r\n                                {subPageMode === url.ORDER_1 ? <div>                             {/*  Billing Address   and Shipping Address*/}\r\n                                    <div className=\"row mt-2 \">\r\n\r\n                                        <div className=\"col col-6\">                             {/* Billing Address */}\r\n                                            <FormGroup className=\"row  \" >\r\n                                                <Label className=\" p-2\"\r\n                                                    style={{ width: \"115px\" }}>Billing Address</Label>\r\n                                                <div className=\"col col-6\">\r\n                                                    <C_Select\r\n                                                        value={billAddr}\r\n                                                        classNamePrefix=\"select2-Customer\"\r\n                                                        options={supplierAddress}\r\n                                                        onChange={(e) => { setbillAddr(e) }}\r\n                                                        isLoading={supplierADDdropLoading}\r\n                                                        styles={{\r\n                                                            menu: provided => ({ ...provided, zIndex: 2 })\r\n                                                        }}\r\n                                                    />\r\n                                                </div>\r\n                                            </FormGroup>\r\n                                        </div >\r\n\r\n                                        <div className=\"col col-6\">                               {/*  Billing Shipping Address */}\r\n                                            <FormGroup className=\" row \" >\r\n                                                <Label className=\" p-2\"\r\n                                                    style={{ width: \"130px\" }}>Shipping Address</Label>\r\n                                                <div className=\"col col-6\">\r\n                                                    <Select\r\n                                                        value={shippAddr}\r\n                                                        classNamePrefix=\"select2-Customer\"\r\n                                                        styles={{\r\n                                                            menu: provided => ({ ...provided, zIndex: 2 })\r\n                                                        }}\r\n                                                        isLoading={supplierADDdropLoading}\r\n                                                        options={supplierAddress}\r\n                                                        onChange={(e) => { setshippAddr(e) }}\r\n                                                    />\r\n                                                </div>\r\n                                            </FormGroup>\r\n                                        </div >\r\n                                    </div>\r\n\r\n                                    <div className=\"row\" >                                        {/**PO Type  (PO From Date and PO To Date)*/}\r\n                                        <div className=\"col col-6\" >                              {/**PO Type */}\r\n                                            <FormGroup className=\" row  \" >\r\n                                                <Label className=\" p-2\"\r\n                                                    style={{ width: \"115px\" }}>PO Type</Label>\r\n                                                <div className=\"col col-6 \">\r\n                                                    <Select\r\n                                                        value={orderTypeSelect}\r\n                                                        classNamePrefix=\"select2-Customer\"\r\n                                                        options={orderTypeOptions}\r\n                                                        onChange={(e) => { setorderTypeSelect(e) }}\r\n                                                        isLoading={orderTypeDropLoading}\r\n                                                        styles={{\r\n                                                            menu: provided => ({ ...provided, zIndex: 2 })\r\n                                                        }}\r\n                                                    />\r\n                                                </div>\r\n                                            </FormGroup>\r\n                                        </div >\r\n                                    </div>\r\n\r\n\r\n                                    {(orderTypeSelect.label === 'Open PO') ?\r\n                                        <div className=\"row\" >                                    {/*PO From Date */}\r\n                                            <div className=\"col col-6\" >\r\n                                                <FormGroup className=\" row \" >\r\n                                                    <Label className=\" p-2\"\r\n                                                        style={{ width: \"115px\" }}>PO From Date</Label>\r\n                                                    <div className=\"col col-6 \">\r\n                                                        <C_DatePicker\r\n                                                            id=\"pofromdate\"\r\n                                                            name=\"pofromdate\"\r\n                                                            value={poFromDate}\r\n                                                            onChange={(e, date) => { setpoFromDate(date) }}\r\n                                                        />\r\n                                                    </div>\r\n                                                </FormGroup>\r\n                                            </div >\r\n\r\n                                            <div className=\"col col-6\" >                        {/*PO To Date */}\r\n                                                <FormGroup className=\" row  \" >\r\n                                                    <Label className=\" p-2\"\r\n                                                        style={{ width: \"130px\" }}>PO To Date</Label>\r\n                                                    <div className=\"col col-6 \">\r\n                                                        <C_DatePicker\r\n                                                            id=\"potodate\"\r\n                                                            name=\"potodate\"\r\n                                                            value={poToDate}\r\n                                                            onChange={(e, date) => { setpoToDate(date) }}\r\n                                                        />\r\n                                                    </div>\r\n                                                </FormGroup>\r\n                                            </div >\r\n                                        </div> : null}\r\n                                </div>\r\n                                    : null}\r\n\r\n                            </div>\r\n\r\n                        </div>\r\n\r\n\r\n                        <ToolkitProvider\r\n                            keyField={\"Item_id\"}\r\n                            data={orderItemTable}\r\n                            columns={pagesListColumns}\r\n                            search\r\n                        >\r\n                            {(toolkitProps,) => (\r\n                                <React.Fragment>\r\n                                    <Row>\r\n                                        <Col xl=\"12\">\r\n                                            <div className=\"table-responsive table \" style={{ minHeight: \"45vh\" }} >\r\n                                                <BootstrapTable\r\n                                                    keyField={\"Item_id\"}\r\n                                                    id=\"table_Arrow\"\r\n                                                    defaultSorted={!selecedItemWiseOrder ? defaultSorted : ''}\r\n                                                    classes='custom-table'\r\n                                                    // headerClasses=\"custom-table\"\r\n                                                    noDataIndication={\r\n                                                        <div className=\"text-danger text-center table-cursor-pointer\">\r\n                                                            Items Not available\r\n                                                        </div>\r\n                                                    }\r\n                                                    onDataSizeChange={(e) => {\r\n                                                        _cfunc.tableInputArrowUpDounFunc(\"#table_Arrow\")\r\n                                                    }}\r\n                                                    {...toolkitProps.baseProps}\r\n                                                />\r\n                                                {mySearchProps(toolkitProps.searchProps)}\r\n                                            </div>\r\n                                        </Col>\r\n                                    </Row>\r\n\r\n                                </React.Fragment>\r\n                            )}\r\n                        </ToolkitProvider>\r\n\r\n                        <OrderPageTermsTable tableList={termsAndConTable} setfunc={setTermsAndConTable} privious={editVal.TermsAndConditions} tableData={orderItemTable} />\r\n\r\n                        {\r\n                            ((orderItemTable.length > 0) && (!isOpen_assignLink)) ? <div className=\"row save1\" style={{ paddingBottom: 'center' }}>\r\n                                <Col>\r\n                                    <SaveButton\r\n                                        loading={saveBtnloading}\r\n                                        editCreatedBy={editCreatedBy}\r\n                                        pageMode={pageMode}\r\n                                        userAcc={userPageAccessState}\r\n                                        onClick={saveHandler}\r\n                                        forceDisabled={gotoInvoiceBtnLoading}\r\n                                    />\r\n                                </Col>\r\n                                {\r\n                                    (subPageMode === url.ORDER_4) && (pageMode === mode.defaultsave) ?\r\n                                        <Col>\r\n                                            <GotoInvoiceBtn\r\n                                                forceDisabled={gotoInvoiceBtnLoading}\r\n                                                loading={gotoInvoiceBtnLoading}\r\n                                                pageMode={pageMode}\r\n                                                userAcc={userPageAccessState}\r\n                                                onClick={saveHandler}\r\n                                            />\r\n                                        </Col> : null}\r\n                            </div>\r\n                                : <div className=\"row save1\"></div>\r\n                        }\r\n                    </div >\r\n                </div>\r\n                <Modal\r\n                    isOpen={isOpen_assignLink}\r\n                    toggle={() => {\r\n                        setisOpen_assignLink(false)\r\n                    }}\r\n                    size=\"xl\"\r\n                >\r\n\r\n                    <PartyItems\r\n                        editValue={assingItemData.Data}\r\n                        isAssing={true}\r\n                        masterPath={url.PARTYITEM}\r\n                        redirectPath={subPageMode}\r\n                        isOpenModal={Open_Assign_func}\r\n                        pageMode={mode.assingLink}\r\n                    />\r\n\r\n                </Modal>\r\n\r\n            </React.Fragment >\r\n        )\r\n    } else {\r\n        return null\r\n    }\r\n\r\n}\r\n\r\nexport default Order\r\n"],"mappings":"8iBAAA,MAAOA,MAAP,EAAgBC,SAAhB,CAA2BC,eAA3B,CAA4CC,QAA5C,KAA4D,OAA5D,CACA,OAASC,QAAT,KAAyB,iBAAzB,CACA,OAASC,UAAT,KAA2B,kBAA3B,CACA,OACIC,MADJ,CAEIC,GAFJ,CAGIC,SAHJ,CAIIC,KAJJ,CAKIC,KALJ,CAMIC,KANJ,CAOIC,GAPJ,KAQO,YARP,CASA,OAASC,WAAT,CAAsBC,WAAtB,KAAyC,aAAzC,CACA,MAAOC,OAAP,KAAmB,cAAnB,CACA,MAAOC,gBAAP,KAA4B,gCAA5B,CACA,MAAOC,eAAP,KAA2B,4BAA3B,CACA,OAASC,kBAAT,KAAmC,uBAAnC,CACA,OAASC,UAAT,CAAqBC,SAArB,CAAgCC,aAAhC,CAA+CC,cAA/C,CAA+DC,kBAA/D,CAAmFC,eAAnF,KAA0G,yCAA1G,CACA,OAASC,aAAT,KAA8B,+CAA9B,CAEA,MAAOC,oBAAP,KAAgC,uBAAhC,CACA,OAASC,gBAAT,KAAiC,+CAAjC,CACA,MAAOC,WAAP,KAAuB,6CAAvB,CAEA,OAASC,WAAT,KAA4B,oCAA5B,CACA,OAASC,UAAT,KAA2B,wCAA3B,CACA,OAASC,MAAT,CAAiBC,YAAjB,CAA+BC,QAA/B,CAAyCC,WAAzC,CAAsDC,cAAtD,KAA4E,mCAA5E,CAEA,MAAO,GAAKC,KAAZ,KAAsB,wBAAtB,CACA,MAAO,GAAKC,OAAZ,KAAwB,2CAAxB,CACA,OAASC,GAAT,CAAcC,IAAd,CAAoBC,MAApB,KAAkC,uBAAlC,CACA,OAASC,eAAT,KAAgC,qDAAhC,CACA,OAASC,eAAT,CAA0BC,sBAA1B,KAAwD,gDAAxD,CACA,OAASC,kBAAT,CAA6BC,oBAA7B,CAAmDC,kBAAnD,CAAuEC,mBAAvE,KAAkG,4CAAlG,CACA,OAASC,iBAAT,CAA4BC,oBAA5B,KAAwD,iBAAxD,CACA,OAASC,aAAT,CAAwBC,oBAAxB,KAAoD,kDAApD,CACA,OAASC,OAAT,KAAwB,2BAAxB,CACA,MAAOC,uBAAP,KAAmC,mDAAnC,CACA,MAAO,wCAAP,CACA,MAAO,cAAP,C,6IAEA,GAAIC,QAAO,CAAG,EAAd,CACA,GAAIC,qBAAoB,CAAG,oBAA3B,CAEA,QAASC,aAAT,CAAsBC,OAAtB,CAA+B,CAE3B,GAAIC,QAAO,CAAG,EAAd,CACA,GAAIC,SAAQ,CAAG,EAAf,CACA,GAAIC,SAAQ,CAAGH,OAAO,CAACI,QAAR,CAAiBC,QAAhC,CAEA,GAAIF,QAAQ,GAAKtB,GAAG,CAACyB,OAArB,CAA8B,CAC1BL,OAAO,CAAGlB,MAAM,CAACuB,OAAjB,CACAJ,QAAQ,CAAGrB,GAAG,CAAC0B,YAAf,CACH,CAHD,IAIK,IAAIJ,QAAQ,GAAKtB,GAAG,CAAC2B,OAArB,CAA8B,CAC/BP,OAAO,CAAGlB,MAAM,CAACyB,OAAjB,CACAN,QAAQ,CAAGrB,GAAG,CAAC4B,YAAf,CACH,CAHI,IAIA,IAAIN,QAAQ,GAAKtB,GAAG,CAAC6B,QAArB,CAA+B,CAChCT,OAAO,CAAGlB,MAAM,CAAC2B,QAAjB,CACAR,QAAQ,CAAGrB,GAAG,CAAC8B,gBAAf,CACH,CAHI,IAIA,IAAIR,QAAQ,GAAKtB,GAAG,CAACc,OAArB,CAA8B,CAC/BM,OAAO,CAAGlB,MAAM,CAACY,OAAjB,CACAO,QAAQ,CAAGrB,GAAG,CAAC+B,YAAf,CACH,CACD,MAAO,CAAEX,OAAO,CAAPA,OAAF,CAAWC,QAAQ,CAARA,QAAX,CAAP,CACH,EAED,GAAMW,MAAK,CAAG,QAARA,MAAQ,CAACC,KAAD,CAAW,CAErB,GAAMC,SAAQ,CAAG3D,WAAW,EAA5B,CACA,GAAM4C,QAAO,CAAGpD,UAAU,EAA1B,CACA,GAAMoE,gBAAe,CAAGpC,MAAM,CAACqC,aAAP,EAAxB,CAEA,GAAMC,OAAM,CAAG,CACXC,EAAE,CAAE,EADO,CAEXC,QAAQ,CAAE,EAFC,CAGXC,KAAK,CAAE,EAHI,CAIXC,IAAI,CAAE,EAJK,CAAf,CAOA,cAA0B5E,QAAQ,CAAC,iBAAMwB,iBAAgB,CAACgD,MAAD,CAAtB,EAAD,CAAlC,wCAAOK,KAAP,eAAcC,QAAd,eACA,eAA0C9E,QAAQ,CAAC,EAAD,CAAlD,yCAAO+E,aAAP,eAAsBC,gBAAtB,eACA,eAAkBhF,QAAQ,CAAC,iBAAMqD,aAAY,CAACC,OAAD,CAAZ,CAAsBC,OAA5B,EAAD,CAA1B,yCAAO0B,OAAP,eACA,eAAmBjF,QAAQ,CAAC,iBAAMqD,aAAY,CAACC,OAAD,CAAZ,CAAsBE,QAA5B,EAAD,CAA3B,yCAAOA,QAAP,eACA,eAAsBxD,QAAQ,CAACsD,OAAO,CAACI,QAAR,CAAiBC,QAAlB,CAA9B,0CAAOuB,WAAP,gBACA,gBAAgClF,QAAQ,CAAC,KAAD,CAAxC,2CAAOmF,QAAP,gBAAiBC,WAAjB,gBACA,gBAAgCpF,QAAQ,CAACoC,IAAI,CAACiD,WAAN,CAAxC,2CAAOC,QAAP,gBAAiBC,WAAjB,gBACA,gBAA+CvF,QAAQ,CAAC,EAAD,CAAvD,2CAAOwF,mBAAP,gBAA4BC,eAA5B,gBACA,gBAAsCzF,QAAQ,CAAC,EAAD,CAA9C,2CAAO0F,WAAP,gBAAoBC,cAApB,gBAEA,gBAAwC3F,QAAQ,CAACsE,eAAD,CAAhD,2CAAOsB,YAAP,gBAAqBC,eAArB,gBACA,gBAAgC7F,QAAQ,CAAC,EAAD,CAAxC,2CAAO8F,QAAP,gBAAiBC,WAAjB,gBACA,gBAAkC/F,QAAQ,CAAC,EAAD,CAA1C,2CAAOgG,SAAP,gBAAkBC,YAAlB,gBAEA,gBAAoCjG,QAAQ,CAACsE,eAAD,CAA5C,2CAAO4B,UAAP,gBAAmBC,aAAnB,gBACA,gBAAgCnG,QAAQ,CAACsE,eAAD,CAAxC,2CAAO8B,QAAP,gBAAiBC,WAAjB,gBACA,gBAAkCrG,QAAQ,CAACsE,eAAD,CAA1C,2CAAOgC,SAAP,gBAAkBC,YAAlB,gBAEA,gBAA4CvG,QAAQ,CAAC,EAAD,CAApD,2CAAOwG,cAAP,gBAAuBC,iBAAvB,gBACA,gBAAsCzG,QAAQ,CAAC,CAAE0G,KAAK,CAAE,EAAT,CAAaC,KAAK,CAAE,KAApB,CAAD,CAA9C,2CAAOC,WAAP,gBAAoBC,cAApB,gBACA,gBAAoC7G,QAAQ,CAAC,CAAE0G,KAAK,CAAE,EAAT,CAAaC,KAAK,CAAE,KAApB,CAAD,CAA5C,2CAAOG,UAAP,gBAAmBC,aAAnB,gBACA,gBAAsD/G,QAAQ,CAAC,EAAD,CAA9D,2CAAOgH,qBAAP,gBAA8BC,oBAA9B,gBACA,gBAAwDjH,QAAQ,CAAC,IAAD,CAAhE,2CAAOkH,oBAAP,gBAA6BC,uBAA7B,gBACA,gBAA0CnH,QAAQ,CAAC,KAAD,CAAlD,2CAAOoH,aAAP,gBAAsBC,gBAAtB,gBAEA,gBAAgDrH,QAAQ,CAAC,EAAD,CAAxD,2CAAOsH,gBAAP,gBAAyBC,mBAAzB,gBACA,gBAA8CvH,QAAQ,CAAC,EAAD,CAAtD,2CAAOwH,eAAP,gBAAwBC,kBAAxB,gBACA,gBAAkDzH,QAAQ,CAAC,KAAD,CAA1D,2CAAO0H,iBAAP,gBAA0BC,oBAA1B,gBACA,gBAA4C3H,QAAQ,CAAC,EAAD,CAApD,2CAAO4H,cAAP,gBAAuBC,iBAAvB,gBACA,gBAAsD7H,QAAQ,CAAC,KAAD,CAA9D,2CAAO8H,mBAAP,gBAA4BC,sBAA5B,gBACA,gBAA0D/H,QAAQ,CAAC,EAAD,CAAlE,2CAAOgI,qBAAP,gBAA8BC,wBAA9B,gBAEA;AACA,gBAAgDjI,QAAQ,CAAC,EAAD,CAAxD,2CAAOkI,gBAAP,gBAAyBC,mBAAzB,gBACA,gBAA8CnI,QAAQ,CAAC,CAAE0G,KAAK,CAAE,CAAT,CAAYC,KAAK,CAAE,KAAnB,CAAD,CAAtD,2CAAOyB,eAAP,gBAAwBC,kBAAxB,gBACA,gBAA6BrI,QAAQ,CAAC,CAAC,CAAE0G,KAAK,CAAE,CAAT,CAAYC,KAAK,CAAE,IAAnB,CAAD,CAA4B,CAAED,KAAK,CAAE,CAAT,CAAYC,KAAK,CAAE,GAAnB,CAA5B,CAAD,CAArC,2CAAO2B,kBAAP,gBACA,gBAAkDtI,QAAQ,CAAC,KAAD,CAA1D,2CAAOuI,iBAAP,gBAA0BC,oBAA1B,gBACA,gBAAsCxI,QAAQ,CAAC,KAAD,CAA9C,2CAAOyI,WAAP,gBAAoBC,cAApB,gBACA;AAEA,iBAwBI/H,WAAW,CAAC,SAACkE,KAAD,QAAY,CACxB8D,cAAc,CAAE9D,KAAK,CAAC+D,YAAN,CAAmBC,aADX,CAGxBC,sBAAsB,CAAEjE,KAAK,CAACkE,iBAAN,CAAwBD,sBAHxB,CAIxBE,mBAAmB,CAAEnE,KAAK,CAACkE,iBAAN,CAAwBE,6BAJrB,CAMxBC,eAAe,CAAErE,KAAK,CAACkE,iBAAN,CAAwBG,eANjB,CAOxBC,sBAAsB,CAAEtE,KAAK,CAACkE,iBAAN,CAAwBK,iBAPxB,CASxBC,SAAS,CAAExE,KAAK,CAACkE,iBAAN,CAAwBM,SATX,CAUxBC,oBAAoB,CAAEzE,KAAK,CAACkE,iBAAN,CAAwBQ,gBAVtB,CAYxBC,OAAO,CAAE3E,KAAK,CAAC+D,YAAN,CAAmBY,OAZJ,CAaxBC,SAAS,CAAE5E,KAAK,CAAC+D,YAAN,CAAmBa,SAbN,CAcxBC,UAAU,CAAE7E,KAAK,CAAC8E,KAAN,CAAYC,oBAdA,CAexBC,SAAS,CAAEhF,KAAK,CAACiF,sBAAN,CAA6BD,SAfhB,CAgBxBE,gBAAgB,CAAElF,KAAK,CAAC+D,YAAN,CAAmBmB,gBAhBb,CAiBxBC,cAAc,CAAEnF,KAAK,CAAC+D,YAAN,CAAmBoB,cAjBX,CAkBxBC,cAAc,CAAEpF,KAAK,CAACqF,iBAAN,CAAwBC,QAlBhB,CAoBxBC,eAAe,CAAEvF,KAAK,CAACwF,kBAAN,CAAyBC,SApBlB,CAqBxBC,gBAAgB,CAAE1F,KAAK,CAACwF,kBAAN,CAAyBE,gBArBnB,CAuBxBC,UAAU,CAAE3F,KAAK,CAAC4F,aAAN,CAAoBD,UAvBR,CAwBxBE,iBAAiB,CAAE7F,KAAK,CAAC4F,aAAN,CAAoBE,YAxBf,CA0BxBC,oBAAoB,CAAE/F,KAAK,CAACgG,cAAN,CAAqBC,YA1BnB,CA2BxBC,mBAAmB,CAAElG,KAAK,CAACgG,cAAN,CAAqBG,YA3BlB,CA6BxBA,YAAY,CAAEnG,KAAK,CAAC+D,YAAN,CAAmB+B,YA7BT,CA8BxBM,cAAc,CAAEpG,KAAK,CAAC+D,YAAN,CAAmBqC,cA9BX,CA+BxBC,qBAAqB,CAAErG,KAAK,CAAC+D,YAAN,CAAmBsC,qBA/BlB,CAiCxBC,qBAAqB,CAAEtG,KAAK,CAACuG,0BAAN,CAAiCD,qBAjChC,CAAZ,EAAD,CAxBf,CACIxC,cADJ,cACIA,cADJ,CAEIa,OAFJ,cAEIA,OAFJ,CAGIV,sBAHJ,cAGIA,sBAHJ,CAIIY,UAJJ,cAIIA,UAJJ,CAKIL,SALJ,cAKIA,SALJ,CAMII,SANJ,cAMIA,SANJ,CAOIP,eAPJ,cAOIA,eAPJ,CAQIW,SARJ,cAQIA,SARJ,CASIO,eATJ,cASIA,eATJ,oCAUIH,cAVJ,CAUIA,cAVJ,gCAUqB,EAVrB,uBAWID,cAXJ,cAWIA,cAXJ,CAYID,gBAZJ,cAYIA,gBAZJ,CAaIa,oBAbJ,cAaIA,oBAbJ,CAcIG,mBAdJ,cAcIA,mBAdJ,CAeIC,YAfJ,cAeIA,YAfJ,CAgBIC,cAhBJ,cAgBIA,cAhBJ,CAiBIC,qBAjBJ,cAiBIA,qBAjBJ,CAkBIV,UAlBJ,cAkBIA,UAlBJ,CAmBIrB,sBAnBJ,cAmBIA,sBAnBJ,CAoBIH,mBApBJ,cAoBIA,mBApBJ,CAqBIM,oBArBJ,cAqBIA,oBArBJ,CAsBIoB,iBAtBJ,cAsBIA,iBAtBJ,CAuBIS,qBAvBJ,cAuBIA,qBAvBJ,CA0DI,CAEJ,GAAQE,WAAR,CAAuBxG,KAAvB,CAAQwG,UAAR,CAEA,GAAM3H,SAAQ,kBAAQJ,OAAO,CAACI,QAAhB,CAAd,CACA,GAAM4H,eAAc,CAAG5H,QAAQ,CAAC6H,cAAT,CAAwBnJ,IAAI,CAACoJ,SAA7B,CAAvB,CACA,GAAMC,aAAY,CAAGrH,KAAK,CAACmH,cAAN,CAAqBnJ,IAAI,CAACoJ,SAA1B,CAArB,CAEAzL,eAAe,CAAC,UAAM,CAClBsE,QAAQ,CAACpC,IAAI,CAACyJ,sBAAL,CAA4B,IAA5B,CAAD,CAAR,CACArH,QAAQ,CAACpC,IAAI,CAAC0J,6BAAL,CAAmC,IAAnC,CAAD,CAAR,CACAtH,QAAQ,CAACpC,IAAI,CAAC2J,eAAL,CAAqB3G,OAArB,CAAD,CAAR,CACAZ,QAAQ,CAACpC,IAAI,CAAC4J,mBAAL,EAAD,CAAR,CACAxH,QAAQ,CAACpC,IAAI,CAAC6J,YAAL,EAAD,CAAR,CACA,MAAO,WAAM,CACTzH,QAAQ,CAACpC,IAAI,CAACyJ,sBAAL,CAA4B,IAA5B,CAAD,CAAR,CACArH,QAAQ,CAACpC,IAAI,CAAC0J,6BAAL,CAAmC,IAAnC,CAAD,CAAR,CACAtH,QAAQ,CAACpC,IAAI,CAAC8J,2BAAL,CAAiC,EAAjC,CAAD,CAAR,CACH,CAJD,CAMH,CAZc,CAYZ,EAZY,CAAf,CAcAjM,SAAS,CAAC,iBAAM8C,oBAAmB,CAAC,CAAE;AAClCwB,KAAK,CAALA,KADgC,CAEhCsF,UAAU,CAAVA,UAFgC,CAGhCrF,QAAQ,CAARA,QAHgC,CAIhCoB,eAAe,CAAfA,eAJgC,CAKhCuG,eAAe,CAAfA,eAAe;AALiB,CAAD,CAAzB,EAAD,CAML,CAACtC,UAAD,CANK,CAAT,CAQA,GAAMsC,gBAAe,CAAG,QAAlBA,gBAAkB,CAACC,GAAD,CAAS,CAC7B,GAAKA,GAAG,CAACxH,EAAJ,GAAWpC,MAAM,CAAC6J,SAAnB,EAAiC,EAAEhH,WAAW,GAAK/C,GAAG,CAAC6B,QAAtB,CAArC,CAAsE,CAClE+D,sBAAsB,CAAC,IAAD,CAAtB,CACH,CACJ,CAJD,CAMA;AACAjI,SAAS,CAAC,UAAM,CAEZ,GAAIqL,qBAAqB,CAACzE,KAAtB,CAA8B,CAAlC,CAAqC,CACjCrC,QAAQ,CAACtB,aAAa,gCAAMb,MAAM,CAACiK,aAAP,EAAN,MAA8B,UAAWhB,qBAAqB,CAACzE,KAA/D,GAAd,CAAR,CACArC,QAAQ,CAAC9B,eAAe,gCAAML,MAAM,CAACiK,aAAP,EAAN,MAA8B,UAAWhB,qBAAqB,CAACzE,KAA/D,GAAhB,CAAR,CACArC,QAAQ,CAACpC,IAAI,CAACmK,yBAAL,CAA+B,CAAElH,WAAW,CAAXA,WAAF,CAAemH,OAAO,CAAE,EAAxB,CAA4B,UAAWlB,qBAAqB,CAACzE,KAA7D,CAA/B,CAAD,CAAR,CACA,GAAI,EAAExB,WAAW,GAAK/C,GAAG,CAACc,OAAtB,CAAJ,CAAoC,CAChCoB,QAAQ,CAACpC,IAAI,CAACqK,kBAAL,CAAwBnB,qBAAqB,CAACzE,KAA9C,CAAD,CAAR,CACH,CACJ,CACDK,aAAa,CAAC,CAAEL,KAAK,CAAE,EAAT,CAAaC,KAAK,CAAE,KAApB,CAAD,CAAb,CACAE,cAAc,CAAC,CAAEH,KAAK,CAAE,EAAT,CAAaC,KAAK,CAAE,KAApB,CAAD,CAAd,CACAF,iBAAiB,CAAC,EAAD,CAAjB,CACA,MAAO,WAAM,CACTpC,QAAQ,CAAC7B,sBAAsB,CAAC,EAAD,CAAvB,CAAR,CACA6B,QAAQ,CAACrB,oBAAoB,CAAC,EAAD,CAArB,CAAR,CACAqB,QAAQ,CAACpC,IAAI,CAACsK,gCAAL,CAAsC,EAAtC,CAAD,CAAR,CACAlF,gBAAgB,CAAC,KAAD,CAAhB,CACAF,uBAAuB,CAAC,IAAD,CAAvB,CACAU,iBAAiB,CAAC,EAAD,CAAjB,CACAxD,QAAQ,CAACpC,IAAI,CAAC0J,6BAAL,CAAmC,EAAnC,CAAD,CAAR,CACH,CARD,CAWH,CAxBQ,CAwBN,CAACR,qBAAD,CAxBM,CAAT,CA0BArL,SAAS,CAAC,UAAM,CAAE;AAEd,GAAKwL,cAAc,EAAIG,YAAvB,CAAsC,CAElC,GAAIe,WAAU,CAAG,IAAjB,CACA,GAAIlB,cAAJ,CAAoB,CAChB/F,WAAW,CAAC7B,QAAQ,CAAC4B,QAAV,CAAX,CACAkH,UAAU,CAAG9I,QAAQ,CAAC8H,SAAtB,CACH,CAHD,IAIK,IAAIC,YAAJ,CAAkB,CACnBe,UAAU,CAAGpI,KAAK,CAACoH,SAAnB,CACAjG,WAAW,CAACnB,KAAK,CAACkB,QAAP,CAAX,CACAF,WAAW,CAAC,IAAD,CAAX,CACH,CACD,GAAIoH,UAAJ,CAAgB,CACZnI,QAAQ,CAACpC,IAAI,CAACwK,wBAAL,CAAiC,cAAjC,aAAoDvK,MAAM,CAACwK,uBAAP,CAA+BC,MAAM,CAACH,UAAU,CAACI,WAAZ,CAAN,CAA+BC,OAA/B,CAAuC,CAAvC,CAA/B,CAApD,EAAD,CAAR,CACAtG,YAAY,CAACiG,UAAU,CAACM,SAAZ,CAAZ,CAEA,GAAI5H,WAAW,GAAK/C,GAAG,CAACc,OAAxB,CAAiC,CAC7BwD,iBAAiB,CAAC,CACdE,KAAK,CAAE6F,UAAU,CAACO,YADJ,CAEdrG,KAAK,CAAE8F,UAAU,CAACQ,QAFJ,CAAD,CAAjB,CAIH,CALD,IAKO,CACHvG,iBAAiB,CAAC,CACdE,KAAK,CAAE6F,UAAU,CAACS,YADJ,CAEdvG,KAAK,CAAE8F,UAAU,CAAC9H,QAFJ,CAAD,CAAjB,CAIH,CACDmB,eAAe,CAAC2G,UAAU,CAACU,YAAZ,CAAf,CACAjH,YAAY,CAAC,CAAEU,KAAK,CAAE6F,UAAU,CAACW,eAApB,CAAqCzG,KAAK,CAAE8F,UAAU,CAACY,iBAAvD,CAAD,CAAZ,CACArH,WAAW,CAAC,CAAEY,KAAK,CAAE6F,UAAU,CAACa,cAApB,CAAoC3G,KAAK,CAAE8F,UAAU,CAACc,gBAAtD,CAAD,CAAX,CACA3H,cAAc,CAAC6G,UAAU,CAACe,WAAZ,CAAd,CACApK,OAAO,CAAG,EAAV,CACAA,OAAO,CAAGqJ,UAAV,CACA;AACA/E,kBAAkB,CAAC,CAAEf,KAAK,CAAE8F,UAAU,CAACgB,MAApB,CAA4B7G,KAAK,CAAE6F,UAAU,CAACiB,UAA9C,CAAD,CAAlB,CAEApH,WAAW,CAACmG,UAAU,CAACkB,QAAZ,CAAX,CACAvH,aAAa,CAACqG,UAAU,CAACmB,UAAZ,CAAb,CAEA,gBAAoCnB,UAApC,mCAAQoB,kBAAR,CAAQA,kBAAR,gCAA6B,EAA7B,uBACA,GAAMC,kBAAiB,CAAGD,kBAAkB,CAACE,GAAnB,CAAuB,SAAAC,CAAC,QAAK,CACnDrH,KAAK,CAAEqH,CAAC,CAACtJ,EAD0C,CAEnDkC,KAAK,CAAEoH,CAAC,CAACC,iBAF0C,CAGnDC,SAAS,CAAE,CAHwC,CAAL,EAAxB,CAA1B,CAMA,GAAMC,WAAU,CAAG1B,UAAU,CAAC2B,UAAX,CAAsBL,GAAtB,CAA0B,SAACM,GAAD,CAAMC,CAAN,CAAY,CACrDD,GAAG,CAAC,IAAD,CAAH,CAAYC,CAAC,CAAG,CAAhB,CACA,MAAOD,IAAP,CACH,CAHkB,CAAnB,CAIAvG,iBAAiB,CAACqG,UAAD,CAAjB,CACA3G,mBAAmB,CAACsG,iBAAD,CAAnB,CACH,CACDxJ,QAAQ,CAACpC,IAAI,CAACqM,kBAAL,CAAwB,CAAEC,MAAM,CAAE,KAAV,CAAxB,CAAD,CAAR,CACAvJ,gBAAgB,CAACwH,UAAU,CAACgC,SAAZ,CAAhB,CACH,CAvDD,IAuDO,CACHnK,QAAQ,CAACpC,IAAI,CAACwK,wBAAL,CAA8BrJ,oBAA9B,CAAD,CAAR,CACH,CACJ,CA5DQ,CA4DN,EA5DM,CAAT,CA8DAtD,SAAS,sEAAC,mMACD0J,OAAO,CAAC+E,MAAR,GAAmB,IAApB,EAA8B/E,OAAO,CAACiF,UAAR,GAAuB,GAArD,EAA6D,EAAEnJ,QAAQ,GAAKlD,IAAI,CAACsM,WAApB,CAD3D,2BAEFrK,QAAQ,CAACpC,IAAI,CAAC0M,sBAAL,CAA4B,CAAEJ,MAAM,CAAE,KAAV,CAA5B,CAAD,CAAR,CACApH,uBAAuB,CAAC,IAAD,CAAvB,CACAE,gBAAgB,CAAC,KAAD,CAAhB,CACA;AACAE,mBAAmB,CAAC,EAAD,CAAnB,CACA;AACAI,oBAAoB,CAAC,KAAD,CAApB,CACAE,iBAAiB,CAAC,EAAD,CAAjB,CACApB,iBAAiB,CAAC,EAAD,CAAjB,CAEA;AACMmI,QAbJ,CAae,KAbf,CAasB;AAClBC,kBAdJ,CAc0BrF,OAAO,CAACsF,aAAR,CAAwB,CAdlD,MAgBG5J,WAAW,GAAK/C,GAAG,CAAC2B,OAArB,EAAiC8K,QAAjC,EAA6CC,kBAhB/C,2BAgBqE;AAC/DE,MAjBN,CAiBe,CAAEC,OAAO,CAAExF,OAAO,CAACyF,OAAnB,CAjBf,CAmBE5K,QAAQ,CAACpC,IAAI,CAACiN,4BAAL,CAAkCH,MAAlC,CAAD,CAAR,CAnBF,+BAqBM;AAGJ1K,QAAQ,CAACpC,IAAI,CAAC0J,6BAAL,CAAmC,EAAnC,CAAD,CAAR,CAxBF,KAyBOzG,WAAW,GAAK/C,GAAG,CAACc,OAArB,EAAkCuG,OAAO,CAAC2F,eAzBhD,2BA2BYC,QA3BZ,CA2BuB5I,cA3BvB,CA4BY6I,QA5BZ,CA4BuBC,IAAI,CAACC,SAAL,CAAe,CAC5BC,QAAQ,CAAEhG,OAAO,CAACyF,OAAR,CAAgBQ,QAAhB,EADkB,CAE5BC,QAAQ,CAAEpJ,SAFkB,CAG5B0G,QAAQ,CAAExG,cAAc,CAACE,KAHG,CAI5BiJ,KAAK,CAAExE,qBAAqB,CAACzE,KAJD,CAAf,CA5BvB,CAkCMrC,QAAQ,CAACpC,IAAI,CAAC2N,qBAAL,CAA2B,CAChCP,QAAQ,CAARA,QADgC,CAEhCnK,WAAW,CAAE/C,GAAG,CAAC0N,SAFe,CAGhCC,IAAI,CAAE3N,GAAG,CAAC0N,SAHsB,CAIhCvK,QAAQ,CAAElD,IAAI,CAACiD,WAJiB,CAKhC+J,QAAQ,CAARA,QALgC,CAMhCW,QAAQ,CAAE,gDANsB,CAA3B,CAAD,CAAR,CAlCN,sDA4CsBrO,YAAW,CAAC,CACxBsO,IAAI,CAAE,CADkB,CAExBC,OAAO,CAAEzG,OAAO,CAACyG,OAFO,CAAD,CA5CjC,SA4CYC,CA5CZ,eAgDM,GAAIA,CAAJ,CAAO,CACH5M,OAAO,CAAC6M,IAAR,CAAa,CACTxM,QAAQ,CAAEH,QADD,CAET4M,iBAAiB,CAAE5G,OAAO,CAACyF,OAFlB,CAAb,EAIH,CArDP,uCA0DD,GAAKzF,OAAO,CAAC+E,MAAR,GAAmB,IAApB,EAA6B,EAAEjJ,QAAQ,GAAKlD,IAAI,CAACsM,WAApB,CAAjC,CAAmE,CAEpErK,QAAQ,CAACpC,IAAI,CAAC0M,sBAAL,CAA4B,CAAEJ,MAAM,CAAE,KAAV,CAA5B,CAAD,CAAR,CACA7M,WAAW,CAAC,CACRsO,IAAI,CAAE,CADE,CAERC,OAAO,CAAEX,IAAI,CAACC,SAAL,CAAe/F,OAAO,CAACyG,OAAvB,CAFD,CAAD,CAAX,CAIH,CAjEK,uDAAD,GAkEN,CAACzG,OAAD,CAlEM,CAAT,CAoEA1J,SAAS,CAAC,iBAAM6C,mBAAkB,CAAC,CAC/B8G,SAAS,CAATA,SAD+B,CACpBtE,QAAQ,CAARA,QADoB,CAE/B7B,OAAO,CAAPA,OAF+B,CAEtBe,QAAQ,CAARA,QAFsB,CAG/BgM,YAAY,CAAEpO,IAAI,CAACqO,oBAHY,CAI/B9M,QAAQ,CAAEA,QAJqB,CAAD,CAAxB,EAAD,CAKL,CAACiG,SAAD,CALK,CAAT,CAOA3J,SAAS,CAAC,iBAAM2C,mBAAkB,CAAC,CAAC;AAChCoC,KAAK,CAALA,KAD+B,CAE/BC,QAAQ,CAARA,QAF+B,CAG/B+E,SAAS,CAATA,SAH+B,CAAD,CAAxB,EAAD,CAIL,CAACA,SAAD,CAJK,CAAT,CAMA/J,SAAS,CAAC,iBAAM4C,qBAAoB,CAAC,cAAD,CAA1B,EAAD,CAA6C,CAACkF,cAAD,CAA7C,CAAT,CAEA9H,SAAS,CAAC,UAAM,CACZ,GAAImK,cAAc,CAACsE,MAAf,GAA0B,IAA9B,CAAoC,CAChC5G,oBAAoB,CAAC,IAAD,CAApB,CACH,CACJ,CAJQ,CAIN,CAACsC,cAAD,CAJM,CAAT,CAMAnK,SAAS,CAAC,UAAM,CACZ,GAAI6I,cAAJ,CAAoB,CAChB,0BAAmDA,cAAnD,CAAMwF,UAAN,CAAMA,UAAN,gCAAmB,EAAnB,6CAAmDxF,cAAnD,CAAuBiF,kBAAvB,CAAuBA,kBAAvB,gCAA4C,EAA5C,uBACA,GAAI,CAAC1G,oBAAL,CAA2B,CAAEW,iBAAiB,CAACsG,UAAD,CAAjB,CAA+B,CAC5DlH,oBAAoB,CAACkH,UAAU,CAACL,GAAX,CAAe,SAAAC,CAAC,wCAAUA,CAAV,MAAarH,KAAK,CAAEqH,CAAC,CAACwC,OAAtB,CAA+B5J,KAAK,CAAEoH,CAAC,CAACyC,QAAxC,IAAhB,CAAD,CAApB,CAEAjJ,mBAAmB,CAACqG,kBAAD,CAAnB,CACAvJ,QAAQ,CAACpC,IAAI,CAAC0J,6BAAL,CAAmC,EAAnC,CAAD,CAAR,CACH,CACJ,CATQ,CASN,CAAChD,cAAD,CATM,CAAT,CAWA7I,SAAS,CAAC,UAAM,CACZ,GAAKoJ,eAAe,CAACuH,MAAhB,CAAyB,CAA1B,EAAiC,EAAGnF,cAAc,EAAIG,YAArB,CAArC,CAA2E,CACvE1F,WAAW,CAACmD,eAAe,CAAC,CAAD,CAAhB,CAAX,CACAjD,YAAY,CAACiD,eAAe,CAAC,CAAD,CAAhB,CAAZ,CACH,CACJ,CALQ,CAKN,CAACA,eAAD,CALM,CAAT,CAOApJ,SAAS,CAAC,UAAM,CACZ,GAAKuJ,SAAS,CAACoH,MAAV,CAAmB,CAApB,EAA2B,EAAGnF,cAAc,EAAIG,YAArB,CAA/B,CAAqE,CACjEhE,kBAAkB,CAAC,CACff,KAAK,CAAE2C,SAAS,CAAC,CAAD,CAAT,CAAa5E,EADL,CAEfkC,KAAK,CAAE0C,SAAS,CAAC,CAAD,CAAT,CAAaqH,IAFL,CAAD,CAAlB,CAIH,CACJ,CAPQ,CAON,CAACrH,SAAD,CAPM,CAAT,CASAvJ,SAAS,CAAC,UAAM,CACZ+C,iBAAiB,CAAC,CAAEwB,QAAQ,CAARA,QAAF,CAAY2F,cAAc,CAAdA,cAAZ,CAAD,CAAjB,CACH,CAFQ,CAEN,CAACA,cAAD,CAFM,CAAT,CAIAlK,SAAS,CAAC,UAAM,CACZgD,oBAAoB,CAAC,CAAEuB,QAAQ,CAARA,QAAF,CAAY0F,gBAAgB,CAAhBA,gBAAZ,CAA8BvG,QAAQ,CAARA,QAA9B,CAAwCF,OAAO,CAAPA,OAAxC,CAAD,CAApB,CACH,CAFQ,CAEN,CAACyG,gBAAD,CAFM,CAAT,CAIAjK,SAAS,CAAC,UAAM,CACZ,GAAI,CACA6Q,QAAQ,CAACC,cAAT,CAAwB,sBAAxB,EAAgDC,KAAhD,CAAsDC,OAAtD,CAAkEtK,cAAc,CAACE,KAAf,CAAuB,CAAxB,EAA+BoB,mBAA/B,EAAuD,CAACkD,YAAzD,CAAyE,OAAzE,CAAmF,MAAnJ,CACH,CAAC,MAAO+F,CAAP,CAAU,CAAG,CAClB,CAJQ,CAIN,CAAC/F,YAAD,CAAexE,cAAf,CAA+BsB,mBAA/B,CAJM,CAAT,CAMAhI,SAAS,CAAC,UAAM,CACZ,GAAI8K,oBAAoB,CAAC2D,MAArB,GAAgC,IAAhC,EAAwC3D,oBAAoB,CAAC6D,UAArB,GAAoC,GAAhF,CAAqF,CACjFnL,OAAO,CAAC6M,IAAR,CAAa,CACTxM,QAAQ,CAAEiH,oBAAoB,CAACkF,IADtB,CAAb,EAGH,CACJ,CANQ,CAMN,CAAClF,oBAAD,CANM,CAAT,CAQA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA9K,SAAS,CAAC,UAAM,CACZ,SACA,GAAIyI,iBAAJ,CAAuB,CACnB,GAAMyI,sBAAqB,CAAGpJ,cAAc,CAACkG,GAAf,CAAmB,SAACmD,IAAD,wCAC1CA,IAD0C,MAE7CC,QAAQ,CAAEhJ,gBAFmC,CAG7CiJ,YAAY,CAAE/I,eAAe,CAAC1B,KAHe,IAAnB,CAA9B,CAMA;AACAsK,qBAAqB,CAACI,OAAtB,CAA8B,SAACH,IAAD,CAAU,CACpCI,wBAAwB,CAACJ,IAAD,CAAOK,SAAP,CAAkBN,qBAAlB,CAAxB,CACH,CAFD,EAIA;AACAnJ,iBAAiB,CAACmJ,qBAAD,CAAjB,CACH,CACJ,CAjBQ,CAiBN,CAACzI,iBAAD,CAAoBL,gBAApB,CAAsCE,eAAe,CAAC1B,KAAtD,CAjBM,CAAT,CAmBA,GAAM6K,gBAAe,CAAGzI,sBAAsB,CAACgF,GAAvB,CAA2B,SAACC,CAAD,QAAQ,CACvDrH,KAAK,CAAEqH,CAAC,CAACtJ,EAD8C,CAEvDkC,KAAK,CAAEoH,CAAC,CAAC2C,IAF8C,CAGvDc,WAAW,CAAEzD,CAAC,CAACyD,WAHwC,CAIvDC,KAAK,CAAE1D,CAAC,CAAC0D,KAJ8C,CAKvDC,OAAO,CAAE3D,CAAC,CAAC2D,OAL4C,CAMvDC,UAAU,CAAE5D,CAAC,CAAC4D,UANyC,CAOvDC,aAAa,CAAE7D,CAAC,CAAC8D,GAPsC,CAAR,EAA3B,CAAxB,CAWA,GAAMC,iBAAgB,CAAGzI,SAAS,CAACyE,GAAV,CAAc,SAACC,CAAD,QAAQ,CAC3CrH,KAAK,CAAEqH,CAAC,CAACtJ,EADkC,CAE3CkC,KAAK,CAAEoH,CAAC,CAAC2C,IAFkC,CAAR,EAAd,CAAzB,CAKA,GAAMqB,kBAAiB,CAAGvH,UAAU,CAACsD,GAAX,CAAe,SAACkE,KAAD,QAAY,CACjDtL,KAAK,CAAEsL,KAAK,CAACvN,EADoC,CAEjDkC,KAAK,CAAEqL,KAAK,CAACtB,IAFoC,CAGjDuB,QAAQ,CAAED,KAAK,CAACC,QAHiC,CAAZ,EAAf,CAA1B,CAMA,GAAMC,aAAY,CAAGH,iBAAiB,CAACI,MAAlB,CAAyB,SAACH,KAAD,CAAW,CACrD,MAAOA,MAAK,CAACC,QAAN,GAAmB,IAA1B,CACH,CAFoB,CAArB,CAIAC,YAAY,CAACE,OAAb,CAAqB,CACjB1L,KAAK,CAAE,EADU,CAEjBC,KAAK,CAAE,KAFU,CAArB,EAKA,GAAM0L,iBAAgB,CAAG,CACrB,CACIC,SAAS,CAAE,WADf,CAEIC,IAAI,CAAE,OAFV,CAGIC,OAAO,CAAE,sBAHb,CAIIC,IAAI,CAAE,IAJV,CAKIC,KAAK,CAAE,eAACC,IAAD,CAAOC,GAAP,CAAYC,QAAZ,CAAsBC,QAAtB,QAAoC,CAAE,aAAc,WAAhB,CAApC,EALX,CAMIC,WAAW,CAAE,sBAAM,CACf,MAAO,CAAEC,QAAQ,CAAE,OAAZ,CAAqBC,SAAS,CAAE,QAAhC,CAAP,CACH,CARL,CADqB,CAWrB,CACIX,SAAS,CAAE,cADf,CAEIC,IAAI,CAAE,UAFV,CAGIC,OAAO,CAAE,sBAHb,CAIIC,IAAI,CAAE,IAJV,CAKIC,KAAK,CAAE,eAACC,IAAD,CAAOC,GAAP,CAAYC,QAAZ,CAAsBC,QAAtB,QAAoC,CAAE,aAAc,cAAhB,CAApC,EALX,CAMIC,WAAW,CAAE,sBAAM,CACf,MAAO,CAAEC,QAAQ,CAAE,OAAZ,CAAqBC,SAAS,CAAE,QAAhC,CAAP,CACH,CARL,CAXqB,CAsBrB,CAAC;AACGX,SAAS,CAAE,UADf,CAEIC,IAAI,CAAE,WAFV,CAGIC,OAAO,CAAE,sBAHb,CAIIE,KAAK,CAAE,eAACC,IAAD,CAAOC,GAAP,CAAYC,QAAZ,CAAsBC,QAAtB,QAAoC,CAAE,aAAc,UAAhB,CAA4B,aAAc,MAA1C,CAApC,EAJX,CAKIL,IAAI,CAAE,IALV,CAMIM,WAAW,CAAE,sBAAM,CACf,MAAO,CAAEC,QAAQ,CAAE,OAAZ,CAAqBC,SAAS,CAAE,QAAhC,CAAP,CACH,CARL,CASIC,SAAS,CAAE,mBAACP,IAAD,CAAOC,GAAP,QAAeA,IAAG,CAAC,UAAD,CAAlB,EATf,CAUIO,eAAe,CAAE,yBAACzM,KAAD,CAAQkM,GAAR,CAAavE,CAAb,CAAgB+E,CAAhB,CAAsB,CACnC,mBACI,aAAK,SAAS,CAAC,gCAAf,wBACI,kCADJ,cAII,YAAK,OAAO,CAAEC,kBAAd,uBACI,aAAM,EAAE,CAAE,sBAAV,CAAkC,KAAK,CAAE,CAAEvC,OAAO,CAAE,MAAX,CAAmBwC,MAAM,CAAE,SAA3B,CAAzC,CAAiF,SAAS,CAAC,mDAA3F,0BADJ,EAJJ,GAAqDV,GAAG,CAACnO,EAAzD,CADJ,CAaH,CAxBL,CAtBqB,CAgDrB,CACI6N,SAAS,CAAE,eADf,CAEIC,IAAI,CAAE,gBAFV,CAGIC,OAAO,CAAE,sBAHb,CAIIe,KAAK,CAAE,uBAAM,OAAN,EAJX,CAKIb,KAAK,CAAE,eAACC,IAAD,CAAOC,GAAP,CAAYC,QAAZ,CAAsBC,QAAtB,QAAoC,CAAE,aAAc,eAAhB,CAApC,EALX,CAMIL,IAAI,CAAE,IANV,CAOIM,WAAW,CAAE,sBAAM,CACf,MAAO,CAAEC,QAAQ,CAAE,OAAZ,CAAqBC,SAAS,CAAE,QAAhC,CAAP,CACH,CATL,CAhDqB,CA4DrB,CAAE;AACEV,IAAI,CAAE,UADV,CAEIC,OAAO,CAAE,sBAFb,CAGIE,KAAK,CAAE,eAACC,IAAD,CAAOC,GAAP,CAAYC,QAAZ,CAAsBC,QAAtB,QAAoC,CAAE,aAAc,UAAhB,CAApC,EAHX,CAIIC,WAAW,CAAE,sBAAM,CACf,MAAO,CAAES,KAAK,CAAE,KAAT,CAAgBP,SAAS,CAAE,QAA3B,CAAP,CACH,CANL,CAOIQ,eAAe,CAAE,CAAEC,SAAS,CAAE9L,cAAb,CAPrB,CAQI+L,SAAS,CAAE,mBAACjN,KAAD,CAAQkM,GAAR,CAAavE,CAAb,OAAkC,IAAhBqF,UAAgB,OAAhBA,SAAgB,CAEzC,mBACI,sCACI,KAAC,MAAD,EAEI,EAAE,oBAAcrF,CAAd,CAFN,CAGI,QAAQ,CAAErM,cAHd,CAII,YAAY,CAAE4Q,GAAG,CAACgB,QAJtB,CAKI,YAAY,CAAC,KALjB,CAMI,SAAS,CAAC,WANd,CAOI,QAAQ,CAAE,kBAAC7C,CAAD,CAAO,CACb6B,GAAG,CAAC,UAAD,CAAH,CAAkB7B,CAAC,CAAC8C,MAAF,CAASnN,KAA3B,CACA2K,wBAAwB,CAACuB,GAAD,CAAMtB,SAAN,CAAiBoC,SAAjB,CAAxB,CACH,CAVL,qBACqBrF,CADrB,EADJ,EADJ,CAgBH,CA1BL,CA5DqB,CA0FrB,CAAG;AACCkE,IAAI,CAAE,MADV,CAEIC,OAAO,CAAE,sBAFb,CAGIF,SAAS,CAAE,EAHf,CAIII,KAAK,CAAE,eAACC,IAAD,CAAOC,GAAP,CAAYC,QAAZ,CAAsBC,QAAtB,QAAoC,CAAE,aAAc,MAAhB,CAApC,EAJX,CAKIC,WAAW,CAAE,sBAAM,CACf,MAAO,CAAES,KAAK,CAAE,IAAT,CAAeP,SAAS,CAAE,QAA1B,CAAP,CACH,CAPL,CAQIQ,eAAe,CAAE,CAAEC,SAAS,CAAE9L,cAAb,CARrB,CASI+L,SAAS,CAAE,mBAACjN,KAAD,CAAQkM,GAAR,CAAakB,GAAb,OAAoC,IAAhBJ,UAAgB,OAAhBA,SAAgB,CAE3C,GAAI,CAACd,GAAG,CAACmB,QAAT,CAAmB,CAgBf;AAhBe,GAkBNC,YAlBM,CAkBf,QAASA,YAAT,CAAqBjG,CAArB,CAAwB,CACpB6E,GAAG,CAAC,SAAD,CAAH,CAAiB7E,CAAC,CAACkG,MAAnB,CACArB,GAAG,CAAC,YAAD,CAAH,CAAoB7E,CAAC,CAACkG,MAAtB,CACArB,GAAG,CAAC,UAAD,CAAH,CAAkB7E,CAAC,CAACgG,QAApB,CACAnB,GAAG,CAAC,kBAAD,CAAH,CAA0B7E,CAAC,CAACmG,gBAA5B,CACAtB,GAAG,CAAC,MAAD,CAAH,CAAc,CAAE7E,CAAC,CAACmG,gBAAF,CAAqBnG,CAAC,CAACoG,sBAAxB,CAAkDpG,CAAC,CAACqG,IAArD,EAA2DvH,OAA3D,CAAmE,CAAnE,CAAd,CACH,CAxBc,CACf+F,GAAG,CAAC,SAAD,CAAH,CAAiB,CAAjB,CACAA,GAAG,CAAC,UAAD,CAAH,CAAkB,MAAlB,CAEAA,GAAG,CAACyB,WAAJ,CAAgBjD,OAAhB,CAAwB,SAAArD,CAAC,CAAI,CACzB,GAAKA,CAAC,CAACuG,aAAH,EAAqB,EAAEpP,WAAW,GAAK/C,GAAG,CAACc,OAAtB,CAAzB,CAAyD,CACrD+Q,WAAW,CAACjG,CAAD,CAAX,CACH,CAFD,IAGK,IAAKA,CAAC,CAACwG,aAAH,EAAsBrP,WAAW,GAAK/C,GAAG,CAACc,OAA9C,CAAwD,CACzD+Q,WAAW,CAACjG,CAAD,CAAX,CACH,CACJ,CAPD,EAQA;AACA,GAAK6E,GAAG,CAAC,UAAD,CAAH,GAAoB,MAArB,EAAgCA,GAAG,CAACyB,WAAJ,CAAgB5D,MAAhB,CAAyB,CAA7D,CAAgE,CAC5DuD,WAAW,CAACpB,GAAG,CAACyB,WAAJ,CAAgB,CAAhB,CAAD,CAAX,CACH,CAWJ,CA1BD,IA0BO,CACHzB,GAAG,CAACyB,WAAJ,CAAgBjD,OAAhB,CAAwB,SAAArD,CAAC,CAAI,CACzB,GAAK6E,GAAG,CAAC4B,OAAJ,GAAgBzG,CAAC,CAACkG,MAAvB,CAAgC,CAC5BrB,GAAG,CAAC,kBAAD,CAAH,CAA0B7E,CAAC,CAACmG,gBAA5B,CACAtB,GAAG,CAAC,UAAD,CAAH,CAAkB7E,CAAC,CAACgG,QAApB,CACH,CACJ,CALD,EAOH,CACD,GAAIzO,QAAQ,GAAKlD,IAAI,CAACqS,IAAtB,CAA4B,CAExB,GAAI,CAAC7B,GAAG,CAAC,UAAD,CAAR,CAAsB,CAClB,GAAIA,GAAG,CAACgB,QAAJ,CAAe,CAAnB,CAAsB,CAClBhB,GAAG,CAAC,WAAD,CAAH,CAAmB,IAAnB,CACAA,GAAG,CAAC,UAAD,CAAH,CAAkBA,GAAG,CAACgB,QAAtB,CAEH,CAJD,IAIO,CACHhB,GAAG,CAAC,UAAD,CAAH,CAAkB,CAAlB,CACAA,GAAG,CAAC,WAAD,CAAH,CAAmB,KAAnB,CACH,CACJ,CAED,GAAI,CAACA,GAAG,CAAC,cAAD,CAAR,CAA0B,CACtBA,GAAG,CAAC,cAAD,CAAH,CAAsBA,GAAG,CAAC4B,OAA1B,CACH,CAED,GAAI,CAAC5B,GAAG,CAAC,eAAD,CAAR,CAA2B,CACvBA,GAAG,CAAC,eAAD,CAAH,CAAuBA,GAAG,CAAC1B,QAA3B,CACH,CACD,GAAI,CAAC0B,GAAG,CAAC,mBAAD,CAAR,CAA+B,CAC3BA,GAAG,CAAC,mBAAD,CAAH,CAA2BA,GAAG,CAACzB,YAA/B,CACH,CACJ,CAED,mBACI,kCACI,KAAC,MAAD,EACI,EAAE,CAAE,SADR,CAGI,YAAY,CAAE,CAAEzK,KAAK,CAAEkM,GAAG,CAAC4B,OAAb,CAAsB7N,KAAK,CAAEiM,GAAG,CAACmB,QAAjC,CAHlB,CAII,OAAO,CACHnB,GAAG,CAACyB,WAAJ,CAAgBvG,GAAhB,CAAoB,SAAAC,CAAC,QAAK,CACtBpH,KAAK,CAAEoH,CAAC,CAACgG,QADa,CAEtBrN,KAAK,CAAEqH,CAAC,CAACkG,MAFa,CAItBC,gBAAgB,CAAEnG,CAAC,CAACmG,gBAJE,CAKtBE,IAAI,CAAErG,CAAC,CAACqG,IALc,CAMtBD,sBAAsB,CAAEpG,CAAC,CAACoG,sBANJ,CAAL,EAArB,CALR,CAcI,QAAQ,CAAE,kBAAApD,CAAC,CAAI,CACX6B,GAAG,CAAC,SAAD,CAAH,CAAiB7B,CAAC,CAACrK,KAAnB,CACAkM,GAAG,CAAC,UAAD,CAAH,CAAkB7B,CAAC,CAACpK,KAApB,CACAiM,GAAG,CAAC,kBAAD,CAAH,CAA0B7B,CAAC,CAACmD,gBAA5B,CAEAtB,GAAG,CAAC,MAAD,CAAH,CAAc,CAAE7B,CAAC,CAACmD,gBAAF,CAAqBnD,CAAC,CAACoD,sBAAxB,CAAkDpD,CAAC,CAACqD,IAArD,EAA2DvH,OAA3D,CAAmE,CAAnE,CAAd,CACAwE,wBAAwB,CAACuB,GAAD,CAAMtB,SAAN,CAAiBoC,SAAjB,CAAxB,CAEA/C,QAAQ,CAACC,cAAT,gBAAgCkD,GAAhC,GAAuCY,SAAvC,CAAmDxS,MAAM,CAACwK,uBAAP,CAA+BC,MAAM,CAACiG,GAAG,CAACwB,IAAL,CAAN,CAAiBvH,OAAjB,CAAyB,CAAzB,CAA/B,CAAnD,CACH,CAvBL,mBAEmB+F,GAAG,CAACnO,EAFvB,EADJ,EADJ,CA8BH,CArGL,CA1FqB,CAmMrB,CAAC;AACG8N,IAAI,CAAE,YADV,CAEIC,OAAO,CAAE,sBAFb,CAGIF,SAAS,CAAE,EAHf,CAIII,KAAK,CAAE,eAACC,IAAD,CAAOC,GAAP,CAAYC,QAAZ,CAAsBC,QAAtB,QAAoC,CAAE,aAAc,YAAhB,CAApC,EAJX,CAKIC,WAAW,CAAE,sBAAM,CACf,MAAO,CAAES,KAAK,CAAE,IAAT,CAAeP,SAAS,CAAE,QAA1B,CAAP,CACH,CAPL,CAQIQ,eAAe,CAAE,CAAEC,SAAS,CAAE9L,cAAb,CARrB,CASI+L,SAAS,CAAE,mBAACjN,KAAD,CAAQkM,GAAR,CAAavE,CAAb,OAAkC,IAAhBqF,UAAgB,OAAhBA,SAAgB,CACzC,GAAIxO,WAAW,GAAK/C,GAAG,CAACyB,OAAxB,CAAiC,CAC7B,mBACI,YAAkB,SAAS,CAAC,UAA5B,uBACI,KAAC,MAAD,EACI,IAAI,CAAC,MADT,CAEI,EAAE,gBAAUyK,CAAV,CAFN,CAGI,QAAQ,CAAEtM,WAHd,CAII,YAAY,CAAE6Q,GAAG,CAACwB,IAJtB,CAKI,SAAS,CAAC,UALd,CAMI,QAAQ,CAAE,kBAACO,KAAD,CAAW,CACjB/B,GAAG,CAACwB,IAAJ,CAAWO,KAAK,CAACd,MAAN,CAAanN,KAAxB,CACA2K,wBAAwB,CAACuB,GAAD,CAAMtB,SAAN,CAAiBoC,SAAjB,CAAxB,CAEH,CAVL,EADJ,EAAUd,GAAG,CAACnO,EAAd,CADJ,CAiBH,CAlBD,IAmBK,CACD,mBACI,YAAkB,SAAS,CAAC,UAA5B,uBAEI,aAAM,EAAE,gBAAU4J,CAAV,CAAR,UAAwBnM,MAAM,CAACwK,uBAAP,CAA+BC,MAAM,CAACiG,GAAG,CAACwB,IAAL,CAAN,CAAiBvH,OAAjB,CAAyB,CAAzB,CAA/B,CAAxB,EAFJ,EAAU+F,GAAG,CAACnO,EAAd,CADJ,CAMH,CAEJ,CAtCL,CAnMqB,CA6OrB,CAAC;AACG8N,IAAI,CAAE,KADV,CAEIC,OAAO,CAAE,sBAFb,CAGIF,SAAS,CAAE,EAHf,CAIII,KAAK,CAAE,eAACC,IAAD,CAAOC,GAAP,CAAYC,QAAZ,CAAsBC,QAAtB,QAAoC,CAAE,aAAc,KAAhB,CAApC,EAJX,CAKIC,WAAW,CAAE,sBAAM,CACf,MAAO,CAAES,KAAK,CAAE,IAAT,CAAeP,SAAS,CAAE,QAA1B,CAAP,CACH,CAPL,CAQIU,SAAS,CAAE,mBAACjN,KAAD,CAAQkM,GAAR,CAAavE,CAAb,CAAmB,CAE1B,mBACI,YAAkB,SAAS,CAAC,UAA5B,uBACI,sBAAOuE,GAAG,CAACgC,QAAX,EADJ,EAAUhC,GAAG,CAACnO,EAAd,CADJ,CAKH,CAfL,CA7OqB,CA+PrB,CAAC;AACG8N,IAAI,CAAE,eADV,CAEID,SAAS,CAAE,EAFf,CAGImB,eAAe,CAAE,CACbvL,gBAAgB,CAAEA,gBADL,CAEbE,eAAe,CAAEA,eAFJ,CAGbG,iBAAiB,CAAEA,iBAHN,CAIbE,WAAW,CAAEA,WAJA,CAKbiL,SAAS,CAAE9L,cALE,CAHrB,CAUI8K,KAAK,CAAE,eAACC,IAAD,CAAOC,GAAP,CAAYC,QAAZ,CAAsBC,QAAtB,QAAoC,CAAE,aAAc,eAAhB,CAApC,EAVX,CAWIC,WAAW,CAAE,sBAAM,CACf,MAAO,CAAES,KAAK,CAAE,KAAT,CAAgBP,SAAS,CAAE,QAA3B,CAAP,CACH,CAbL,CAcIE,eAAe,CAAE,0BAAM,CACnB,mBACI,YAAK,SAAS,CAAC,EAAf,UACKvL,cAAc,CAAC6I,MAAf,EAAyB,CAAzB,cACG,YAAK,SAAS,CAAC,gBAAf,uBACI,KAAC,KAAD,4BADJ,EADH,cAKG,aAAK,SAAS,CAAC,KAAf,wBACI,YAAK,SAAS,CAAC,cAAf,uBACI,KAAC,KAAD,4BADJ,EADJ,cAII,YAAK,SAAS,CAAC,WAAf,uBACI,KAAC,MAAD,EACI,IAAI,CAAC,MADT,CAEI,YAAY,CAAErI,eAFlB,CAGI,eAAe,CAAC,mBAHpB,CAII,OAAO,CAAEE,kBAJb,CAKI,UAAU,CAAGpD,WAAW,GAAK/C,GAAG,CAAC2B,OALrC,CAMI,KAAK,CAAE,CAAEmP,SAAS,CAAE,OAAb,CANX,CAOI,QAAQ,CAAE,kBAAClC,CAAD,CAAO,CACbvI,oBAAoB,CAAC,IAAD,CAApB,CACAH,kBAAkB,CAAC0I,CAAD,CAAlB,CACA5I,mBAAmB,CAAC,EAAD,CAAnB,CACH,CAXL,EADJ,EAJJ,cAmBI,YAAK,SAAS,CAAC,WAAf,uBACI,KAAC,MAAD,EACI,IAAI,CAAC,MADT,CAEI,SAAS,CAAC,OAFd,CAGI,KAAK,CAAE,CAAE8K,SAAS,CAAE,OAAb,CAHX,CAII,QAAQ,CAAElR,WAJd,CAKI,KAAK,CAAEmG,gBALX,CAMI,QAAQ,CAAGhD,WAAW,GAAK/C,GAAG,CAAC2B,OANnC,CAOI,QAAQ,CAAE,kBAACiN,CAAD,CAAO,CACb,SACA,GAAI8D,MAAK,CAAGlI,MAAM,CAACoE,CAAC,CAAC8C,MAAF,CAASnN,KAAV,CAAlB,CAEA;AACA,GAAI0B,eAAe,CAAC1B,KAAhB,GAA0B,CAA9B,CAAiC,CAAC;AAC9B;AACA,GAAImO,KAAK,CAAG,GAAZ,CAAiB,CACb9D,CAAC,CAAC8C,MAAF,CAASnN,KAAT,CAAiB,GAAjB,CAAsB;AACzB,CAFD,IAEO,IAAI,EAAEmO,KAAK,EAAI,CAAT,EAAcA,KAAK,CAAG,GAAxB,CAAJ,CAAkC,CACrC9D,CAAC,CAAC8C,MAAF,CAASnN,KAAT,CAAiB,EAAjB,CAAqB;AACxB,CACJ,CAED8B,oBAAoB,CAAC,IAAD,CAApB,CACAL,mBAAmB,CAAC4I,CAAC,CAAC8C,MAAF,CAASnN,KAAV,CAAnB,CACH,CAvBL,EADJ,EAnBJ,GANR,EADJ,CAyDH,CAxEL,CA0EI8L,OAAO,CAAE,yBAAM,oBAAN,EA1Eb,CA2EImB,SAAS,CAAE,mBAACmB,WAAD,CAAcC,MAAd,CAAsBjB,GAAtB,CAA2BL,eAA3B,CAA+C,CACtD,SACA,GAAMC,UAAN,CAAuDD,eAAvD,CAAMC,SAAN,CAAiBxL,gBAAjB,CAAuDuL,eAAvD,CAAiBvL,gBAAjB,CAAmCE,eAAnC,CAAuDqL,eAAvD,CAAmCrL,eAAnC,CAEA;AACA;AACA;AACA;AACA;AACA,GAAI,CAAC2M,MAAM,CAAC5D,YAAZ,CAA0B,CAAE4D,MAAM,CAAC5D,YAAP,CAAsB/I,eAAe,CAAC1B,KAAtC,CAA6C,CAEzE,GAAMsO,yBAAwB,CAC1BD,MAAM,CAAC5D,YAAP,GAAwB,CAAxB,CAA4B7I,kBAAkB,CAAC,CAAD,CAA9C,CAAoDA,kBAAkB,CAAC,CAAD,CAD1E,CAGA,mBACI,wCACI,YAAK,SAAS,CAAC,MAAf,uBACI,aAAK,SAAS,CAAC,QAAf,wBACI,YAAK,SAAS,CAAC,OAAf,uBACI,cAAO,SAAS,CAAC,OAAjB,8BADJ,EADJ,cAII,YAAK,SAAS,CAAC,OAAf,uBACI,KAAC,MAAD,EACI,EAAE,uBAAiBwL,GAAjB,CADN,CAEI,eAAe,CAAC,mBAFpB,CAII,KAAK,CAAEkB,wBAJX,CAKI,UAAU,CAAG9P,WAAW,GAAK/C,GAAG,CAAC2B,OALrC,CAMI,OAAO,CAAEwE,kBANb,CAOI,QAAQ,CAAE,kBAACyI,CAAD,CAAO,CACbvI,oBAAoB,CAAC,KAAD,CAApB,CACAE,cAAc,CAAC,CAACD,WAAF,CAAd,CACAsM,MAAM,CAAC5D,YAAP,CAAsBJ,CAAC,CAACrK,KAAxB,CACAqO,MAAM,CAAC7D,QAAP,CAAkB,EAAlB,CACAG,wBAAwB,CAAC0D,MAAD,CAASzD,SAAT,CAAoBoC,SAApB,CAAxB,CACH,CAbL,wBAGwBI,GAHxB,aAG+BiB,MAAM,CAACtQ,EAHtC,EADJ,EAJJ,GADJ,EADJ,cAyBI,kCACI,aAAK,SAAS,CAAC,QAAf,wBACI,YAAK,SAAS,CAAC,OAAf,uBACI,cAAO,SAAS,CAAC,OAAjB,uBADJ,EADJ,cAII,YAAK,SAAS,CAAC,OAAf,uBACI,KAAC,MAAD,EACI,SAAS,CAAC,OADd,CAEI,EAAE,mBAAaqP,GAAb,aAAoBiB,MAAM,CAACtQ,EAA3B,CAFN,CAGI,KAAK,CAAE,CAAEwO,SAAS,CAAE,OAAb,CAHX,CAII,IAAI,CAAC,MAJT,CAKI,KAAK,CAAE8B,MAAM,CAAC7D,QALlB,CAMI,QAAQ,CAAGhM,WAAW,GAAK/C,GAAG,CAAC2B,OANnC,CAOI,QAAQ,CAAE/B,WAPd,CAQI,QAAQ,CAAE,kBAACgP,CAAD,CAAO,CAEb,GAAI8D,MAAK,CAAGlI,MAAM,CAACoE,CAAC,CAAC8C,MAAF,CAASnN,KAAV,CAAlB,CACA;AACA,GAAIqO,MAAM,CAAC5D,YAAP,GAAwB,CAA5B,CAA+B,CAAE;AAC7B;AACA,GAAI0D,KAAK,CAAG,GAAZ,CAAiB,CACb9D,CAAC,CAAC8C,MAAF,CAASnN,KAAT,CAAiB,GAAjB,CAAsB;AACzB,CAFD,IAEO,IAAI,EAAEmO,KAAK,EAAI,CAAT,EAAcA,KAAK,CAAG,GAAxB,CAAJ,CAAkC,CACrC9D,CAAC,CAAC8C,MAAF,CAASnN,KAAT,CAAiB,EAAjB,CAAqB;AACxB,CACJ,CACDqO,MAAM,CAAC7D,QAAP,CAAkBH,CAAC,CAAC8C,MAAF,CAASnN,KAA3B,CACA8B,oBAAoB,CAAC,KAAD,CAApB,CACAE,cAAc,CAAC,CAACD,WAAF,CAAd,CACA4I,wBAAwB,CAAC0D,MAAD,CAASzD,SAAT,CAAoBoC,SAApB,CAAxB,CACH,CAxBL,EADJ,EAJJ,GADJ,EAzBJ,GADJ,CAsEH,CA/JL,CA/PqB,CAiarB,CAAE;AACEnB,IAAI,CAAE,SADV,CAEIC,OAAO,CAAE,sBAFb,CAGIF,SAAS,CAAE,EAHf,CAIII,KAAK,CAAE,eAACC,IAAD,CAAOC,GAAP,CAAYC,QAAZ,CAAsBC,QAAtB,QAAoC,CAAE,aAAc,SAAhB,CAApC,EAJX,CAKIa,SAAS,CAAE,mBAACjN,KAAD,CAAQkM,GAAR,CAAavE,CAAb,CAAmB,CAC1B,mBACI,mCACI,KAAC,KAAD,EAAO,IAAI,CAAC,MAAZ,CACI,EAAE,kBAAYA,CAAZ,CADN,CAII,YAAY,CAAEuE,GAAG,CAACqC,OAJtB,CAKI,YAAY,CAAC,KALjB,CAMI,QAAQ,CAAE,kBAAClE,CAAD,CAAO,CAAE6B,GAAG,CAAC,SAAD,CAAH,CAAiB7B,CAAC,CAAC8C,MAAF,CAASnN,KAA1B,CAAiC,CANxD,mBAEmBkM,GAAG,CAACnO,EAFvB,EADJ,EADJ,CAYH,CAlBL,CAoBIsO,WAAW,CAAE,sBAAM,CACf,MAAO,CAAES,KAAK,CAAE,IAAT,CAAeP,SAAS,CAAE,QAA1B,CAAP,CACH,CAtBL,CAjaqB,CAAzB,CA2bA,GAAMiC,cAAa,CAAG,CAClB,CACI5C,SAAS,CAAE,UADf,CAC2B;AACvB6C,KAAK,CAAE,KAAO;AAFlB,CADkB,CAAtB,CAOA,QAASC,iBAAT,CAA0BrE,CAA1B,CAA6B,CAEzBtK,iBAAiB,CAACsK,CAAD,CAAjB,CACA,GAAI7L,WAAW,GAAK/C,GAAG,CAACc,OAAxB,CAAiC,CAC7BoB,QAAQ,CAACpC,IAAI,CAACqK,kBAAL,CAAwByE,CAAC,CAACrK,KAA1B,CAAD,CAAR,CACA,GAAI2O,MAAI,CAAG/Q,eAAX,CACA,GAAKyM,CAAC,CAACS,WAAF,GAAkB,EAAnB,EAA2BT,CAAC,CAACS,WAAF,GAAkB,IAAjD,CAAwD,CACpDvJ,wBAAwB,CAAC,yDAAD,CAAxB,CACH,CAFD,IAGK,IAAI8I,CAAC,CAACS,WAAF,CAAgB6D,KAApB,CAA0B,CAC3BpN,wBAAwB,CAAC,eAAD,CAAxB,CACH,CAFI,IAEE,CACHA,wBAAwB,CAAC,EAAD,CAAxB,CACH,CACJ,CACDJ,iBAAiB,CAAC,EAAD,CAAjB,CACAd,aAAa,CAAC,EAAD,CAAb,CACAuO,eAAe,CAACvE,CAAC,CAACrK,KAAH,CAAf,CACH,EAED,QAAS6O,mBAAT,CAA4BxE,CAA5B,CAA+B,CAC3BhK,aAAa,CAACgK,CAAD,CAAb,CACH,EAED,QAASyE,iBAAT,EAA4B,CACxB7N,oBAAoB,CAAC,KAAD,CAApB,CACAtD,QAAQ,CAACpC,IAAI,CAACwT,sBAAL,CAA4B,CAAElH,MAAM,CAAE,KAAV,CAA5B,CAAD,CAAR,CACArM,MAAM,CAACwT,oBAAP,CAA4B,CAAErR,QAAQ,CAARA,QAAF,CAAYsR,OAAO,CAAEnQ,mBAArB,CAA5B,EACA8P,eAAe,GAClB,EAED,QAASM,cAAT,CAAuBjB,KAAvB,CAA8B,CAC1BlO,iBAAiB,CAAC,EAAD,CAAjB,CACApC,QAAQ,CAACpC,IAAI,CAACmK,yBAAL,CAA+B,CAAElH,WAAW,CAAXA,WAAF,CAAemH,OAAO,CAAEsI,KAAK,CAACjO,KAA9B,CAAqC,UAAWyE,qBAAqB,CAACzE,KAAtE,CAA/B,CAAD,CAAR,CACAG,cAAc,CAAC8N,KAAD,CAAd,CACH,CA15BoB,QA45BNtB,mBA55BM,kKA45BrB,kBAAkCsB,KAAlC,8JACIA,KAAK,CAACkB,eAAN,GACMC,OAFV,CAEoB5Q,WAAW,GAAK/C,GAAG,CAACyB,OAApB,CAA8B4C,cAAc,CAACE,KAA7C,CAAqDyE,qBAAqB,CAACzE,KAF/F,CAGUqI,MAHV,CAGmB,CACXgH,MAAM,CAAED,OADG,CAEXnG,KAAK,CAAEmG,OAFI,CAGXE,OAAO,CAAE5T,IAAI,CAAC6T,UAHH,CAIX/Q,WAAW,CAAXA,WAJW,CAKXgR,KAAK,0BAAoB1P,cAAc,CAACE,KAAnC,CALM,CAHnB,wBAW8BhF,YAAW,CAAC,CAClCsO,IAAI,CAAE,CAD4B,CAElCC,OAAO,CAAE,6BAFyB,CAAD,CAXzC,QAWUkG,WAXV,gBAgBI,GAAIA,WAAJ,CAAiB,CAEP9G,QAFO,CAEIC,IAAI,CAACC,SAAL,gCAAoBrN,MAAM,CAACiK,aAAP,EAApB,EAA+C,CAAEiK,OAAO,CAAEN,OAAX,CAA/C,EAFJ,CAIbzR,QAAQ,CAAC/B,eAAe,CAAC,CAAE+M,QAAQ,CAARA,QAAF,CAAYN,MAAM,CAANA,MAAZ,CAAD,CAAhB,CAAR,CACA1K,QAAQ,CAACpC,IAAI,CAAC0J,6BAAL,CAAmC,EAAnC,CAAD,CAAR,CACH,EAtBL,wDA55BqB,qDAm7BpB,CAED,QAAS0F,yBAAT,CAAkCuB,GAAlC,CAAuCyD,aAAvC,CAAsD3C,SAAtD,CAAiE,CAC7D,SACA,GAAM4C,UAAS,CAAGvV,kBAAkB,CAAC6R,GAAD,CAApC,CAA0C;AAC1CA,GAAG,CAAC,QAAD,CAAH,CAAgB0D,SAAS,CAACC,kBAA1B,CACA,GAAIC,YAAW,CAAG9C,SAAS,CAAC+C,MAAV,CAAiB,SAACC,WAAD,CAAcC,aAAd,QAAgCD,YAAW,EAAI/J,MAAM,CAACgK,aAAa,CAAC,QAAD,CAAd,CAAN,EAAmC,CAAvC,CAA3C,EAAjB,CAAuG,CAAvG,CAAlB,CACA;AACAtS,QAAQ,CAACpC,IAAI,CAACwK,wBAAL,CAAiC,cAAjC,aAAoDvK,MAAM,CAACwK,uBAAP,CAA+BC,MAAM,CAAC6J,WAAD,CAAN,CAAoB3J,OAApB,CAA4B,CAA5B,CAA/B,CAApD,EAAD,CAAR,CACH,EAED,GAAM+J,sBAAqB,CAAG,QAAxBA,sBAAwB,EAAM,CAEhCvP,gBAAgB,CAAC,IAAD,CAAhB,CAEA,GAAIwP,QAAO,CAAGjP,cAAc,CAACkP,IAAf,CAAoB,SAAA/I,CAAC,QAAIA,EAAC,CAACrH,KAAF,GAAYI,UAAU,CAACJ,KAA3B,EAArB,CAAd,CAEA,GAAI,CAACI,UAAL,CAAiB,CACbpF,WAAW,CAAC,CAAEsO,IAAI,CAAE,CAAR,CAAWC,OAAO,mBAAlB,CAAD,CAAX,CACH,CAFD,IAGK,IAAI4G,OAAO,GAAKvF,SAAhB,CAA2B,CAC5BzJ,iBAAiB,CAAC,CAACf,UAAD,EAAaiQ,MAAb,CAAoBnP,cAApB,CAAD,CAAjB,CACH,CAFI,IAGA,CACDlG,WAAW,CAAC,CAAEsO,IAAI,CAAE,CAAR,CAAWC,OAAO,CAAE,yBAApB,CAAD,CAAX,CACH,CACDlJ,aAAa,CAAC,EAAD,CAAb,CACH,CAhBD,CAkBA,GAAMuO,gBAAe,2FAAG,kBAAO0B,cAAP,qKAEhB,CAACxQ,cAAD,CAAkB,CAAlB,EAAuB,CAACwQ,cAFR,kDAGVtV,YAAW,CAAC,CACdsO,IAAI,CAAE,CADQ,CAEdC,OAAO,yBAAmB5E,UAAU,CAAC3G,QAA9B,CAFO,CAAD,CAHD,iDAShBwR,KATgB,iBASChR,WATD,EAUpBhD,MAAM,CAAC+U,iBAAP,CAAyB,CAAEf,KAAK,CAALA,KAAF,CAASrR,KAAK,CAAE,IAAhB,CAAzB,EAEAR,QAAQ,CAACpC,IAAI,CAACwK,wBAAL,CAA8BrJ,oBAA9B,CAAD,CAAR,CAGI8T,OAfgB,CAeN,CACVvH,KAAK,CAAEqH,cAAc,CAAGA,cAAH,CAAoBxQ,cAAc,CAACE,KAD9C,CAEVsG,QAAQ,CAAE7B,qBAAqB,CAACzE,KAFtB,CAGVyQ,SAAS,CAAEhM,qBAAqB,CAACzE,KAHvB,CAIV0Q,aAAa,CAAE9Q,SAJL,CAKV2I,OAAO,CAAG3J,QAAQ,GAAKlD,IAAI,CAACiD,WAAnB,CAAkC,CAAlC,CAAsClC,OAAO,CAACsB,EAL7C,CAMV4S,SAAS,CAAE1V,UAAU,CAAC2V,aANZ,CAfM,CAuBhBC,OAvBgB,CAuBN,CACV5H,KAAK,CAAExE,qBAAqB,CAACzE,KADnB,CAC0B;AACpCsG,QAAQ,CAAEgK,cAAc,CAAGA,cAAH,CAAoBxQ,cAAc,CAACE,KAFjD,CAEuD;AACjEyQ,SAAS,CAAEH,cAAc,CAAGA,cAAH,CAAoBxQ,cAAc,CAACE,KAHlD,CAIV0Q,aAAa,CAAE9Q,SAJL,CAKV2I,OAAO,CAAG3J,QAAQ,GAAKlD,IAAI,CAACiD,WAAnB,CAAkC,CAAlC,CAAsClC,OAAO,CAACsB,EAL7C,CAMV4S,SAAS,CAAE1V,UAAU,CAAC6V,SANZ,CAvBM,CAiCJ;AAChB,GAAItS,WAAW,GAAK/C,GAAG,CAACc,OAAxB,CAAiC,CAC7BoM,QAAQ,CAAGC,IAAI,CAACC,SAAL,kBAAoBgI,OAApB,EAAX,CACH,CAFD,IAGK,CACDlI,QAAQ,CAAGC,IAAI,CAACC,SAAL,kBAAoB2H,OAApB,EAAX,CACH,CACGnI,MAxCgB,CAwCP,CAAE7J,WAAW,CAAXA,WAAF,CAAemK,QAAQ,CAARA,QAAf,CAAyB6G,KAAK,CAALA,KAAzB,CAxCO,CAyCpB7R,QAAQ,CAACpC,IAAI,CAACwV,sBAAL,CAA4B1I,MAA5B,CAAD,CAAR,CAzCoB,yDAAH,kBAAfuG,gBAAe,8CAArB,CA4CA;AACA,GAAMoC,YAAW,2FAAG,kBAAO/C,KAAP,+VAChBA,KAAK,CAACgD,cAAN,GAEA;AACMC,QAJU,CAICjD,KAAK,CAACd,MAAN,CAAapP,EAJd,CAKV0K,eALU,CAKQyI,QAAQ,CAACC,SAAT,CAAmB,CAAnB,CAAsB,EAAtB,IAA8B,gBALtC,kBA+CZ;AACSC,gBAhDG,CAgDZ,QAASA,iBAAT,OAA4C,IAAhB7G,KAAgB,OAAhBA,IAAgB,CAAV8G,MAAU,OAAVA,MAAU,CAExC;AACA9G,IAAI,CAAC2C,QAAL,CAAgB,CAACjH,MAAM,CAACsE,IAAI,CAAC2C,QAAN,CAAP,CAAyB,CAAzB,CAA6B3C,IAAI,CAAC2C,QAAlD,CAEA;AACA,GAAK3C,IAAI,CAAC2C,QAAL,CAAgB,CAAjB,EAAwB3C,IAAI,CAACmD,IAAL,CAAY,CAApC,EAA0C,EAAE5M,eAAe,CAACd,KAAhB,GAA0B,CAA5B,CAA9C,CAA8E,CAC1E;AACAsR,mBAAmB,CAAC,CAAE/G,IAAI,CAAJA,IAAF,CAAQ8G,MAAM,CAANA,MAAR,CAAgBE,QAAQ,CAAE,KAA1B,CAAD,CAAnB,CACH,CAHD,IAIK,IAAI,EAAEhH,IAAI,CAAC2C,QAAL,CAAgB,CAAlB,GAAyB3C,IAAI,CAACiH,SAA9B,EAA4C,EAAE1Q,eAAe,CAACd,KAAhB,GAA0B,CAA5B,CAAhD,CAAgF,CACjF;AACAsR,mBAAmB,CAAC,CAAE/G,IAAI,CAAJA,IAAF,CAAQ8G,MAAM,CAANA,MAAR,CAAgBE,QAAQ,CAAE,IAA1B,CAAD,CAAnB,CACH,CAHI,IAIA,IAAI,EAAEhH,IAAI,CAAC2C,QAAL,CAAgB,CAAlB,GAAwB,CAAE3C,IAAI,CAACiH,SAA/B,EAA6C,EAAE1Q,eAAe,CAACd,KAAhB,GAA0B,CAA5B,CAAjD,CAAiF,CAClF;AACA,OACH,CAHI,IAIA,IAAKuK,IAAI,CAAC2C,QAAL,CAAgB,CAAjB,EAAwB3C,IAAI,CAACmD,IAAL,CAAY,CAAxC,CAA4C,CAAE;AAC/C,GAAInD,IAAI,CAACkH,GAAT,CAAc,CACV,GAAKjK,UAAU,CAACuC,MAAX,GAAsB,CAA3B,CAA+B,CAC3B;AACAuH,mBAAmB,CAAC,CAAE/G,IAAI,CAAJA,IAAF,CAAQ8G,MAAM,CAANA,MAAR,CAAgBE,QAAQ,CAAE,KAA1B,CAAD,CAAnB,CACH,CAHD,IAGO,CACH,GAAIG,uBAAuB,CAAC3H,MAAxB,GAAmC,CAAvC,CAA0C,CACtC2H,uBAAuB,CAACjI,IAAxB,oBAAgC,aAAhC,CAAgD,qDAAhD,GACH,CACJ,CACJ,CATD,IASO,CACHiI,uBAAuB,CAACjI,IAAxB,oBAAgCc,IAAI,CAACT,QAArC,CAAgD,4BAAhD,GACH,CACJ,CAbI,IAcA,IAAKS,IAAI,CAAC2C,QAAL,CAAgB,CAAjB,EAAwB3C,IAAI,CAACiH,SAAjC,CAA6C,CAC9C,GAAIjH,IAAI,CAACkH,GAAT,CAAc,CACV,GAAKjK,UAAU,CAACuC,MAAX,GAAsB,CAA3B,CAA+B,CAC3B;AACAuH,mBAAmB,CAAC,CAAE/G,IAAI,CAAJA,IAAF,CAAQ8G,MAAM,CAANA,MAAR,CAAgBE,QAAQ,CAAE,IAA1B,CAAD,CAAnB,CACH,CAHD,IAGO,CACH,GAAIG,uBAAuB,CAAC3H,MAAxB,GAAmC,CAAvC,CAA0C,CACtC2H,uBAAuB,CAACjI,IAAxB,oBAAgC,aAAhC,CAAgD,qDAAhD,GACH,CACJ,CACJ,CATD,IASO,CACHiI,uBAAuB,CAACjI,IAAxB,oBAAgCc,IAAI,CAACT,QAArC,CAAgD,4BAAhD,GACH,CACJ,CACJ,CA9FW,CAgGZ;AACSwH,mBAjGG,CAiGZ,QAASA,oBAAT,OAAyD,IAA1B/G,KAA0B,OAA1BA,IAA0B,CAApB8G,MAAoB,OAApBA,MAAoB,CAAZE,QAAY,OAAZA,QAAY,CAErD,GAAMI,WAAU,CAAGtX,kBAAkB,CAACkQ,IAAD,CAAO,CAAEqH,OAAO,CAAE9R,cAAc,CAACiL,KAA1B,CAAiC8G,OAAO,CAAErW,MAAM,CAACsW,cAAP,EAA1C,CAAP,CAArC,CAEA;AACA,GAAMC,UAAS,CAAG,CACd7T,IAAI,CAAEqM,IAAI,CAACV,OADG,CAEdqD,QAAQ,CAAEqE,QAAQ,CAAG,CAAH,CAAOhH,IAAI,CAAC2C,QAFhB,CAGd8E,GAAG,CAAEzH,IAAI,CAAC0H,MAHI,CAId/D,QAAQ,CAAE3D,IAAI,CAAC2D,QAJD,CAKdR,IAAI,CAAEnD,IAAI,CAACmD,IALG,CAMdwE,IAAI,CAAE3H,IAAI,CAACuD,OANG,CAOdN,gBAAgB,CAAE,CAACvH,MAAM,CAACsE,IAAI,CAACiD,gBAAN,CAAN,CAAgCvH,MAAM,CAACsE,IAAI,CAAC2C,QAAN,CAAvC,EAAwD/G,OAAxD,CAAgE,CAAhE,CAPJ,CAQdgM,MAAM,CAAE,EARM,CASdC,GAAG,CAAE7H,IAAI,CAAC8H,MATI,CAUdC,IAAI,CAAEX,UAAU,CAACY,WAVH,CAWdC,IAAI,CAAEb,UAAU,CAACc,WAXH,CAYdC,IAAI,CAAEf,UAAU,CAACgB,WAZH,CAadC,aAAa,CAAEjB,UAAU,CAACkB,cAbZ,CAcdC,cAAc,CAAEnB,UAAU,CAACoB,eAdb,CAedC,cAAc,CAAErB,UAAU,CAACsB,eAfb,CAgBdC,cAAc,CAAEvB,UAAU,CAACwB,eAhBb,CAiBdC,WAAW,CAAEzB,UAAU,CAAC0B,WAjBV,CAkBdC,SAAS,CAAE3B,UAAU,CAAC4B,gBAlBR,CAmBdC,MAAM,CAAE7B,UAAU,CAAC9B,kBAnBL,CAoBd4D,OAAO,CAAE,KApBK,CAqBdhJ,YAAY,CAAEF,IAAI,CAACE,YArBL,CAsBdD,QAAQ,CAAEvE,MAAM,CAACsE,IAAI,CAACC,QAAN,CAAN,EAAyB,CAtBrB,CAuBdkJ,cAAc,CAAEzN,MAAM,CAAC0L,UAAU,CAACgC,WAAZ,CAAN,CAA+BxN,OAA/B,CAAuC,CAAvC,CAvBF,CAwBdoB,SAAS,CAAE8J,MAxBG,CAwBK;AACnB9C,OAAO,CAAEhE,IAAI,CAACgE,OAzBA,CAAlB,CA4BA/G,UAAU,CAACiC,IAAX,CAAgBsI,SAAhB,EACH,CAnIW,CAqIZ;AA7HA;AACM6B,QATM,CASKnP,qBAAqB,CAACzE,KAT3B,CAUN6T,QAVM,CAUK/T,cAAc,CAACE,KAVpB,CAYN8T,kBAZM,CAYe,EAZf,CAYmB;AACzBtM,UAbM,CAaO,EAbP,CAaW;AACjBkK,uBAdM,CAcoB,EAdpB,CAcwB;AAChCqC,gBAfQ,CAeW,CAfX,CAea;AAEzB;AAjBY,wBAkBN7S,eAAc,CAACwJ,OAAf,CAAuB,SAAAH,IAAI,CAAI,CAEjC;AACA,GAAKA,IAAI,CAAC2C,QAAL,CAAgB,CAAjB,EAAuB,EAAE3C,IAAI,CAACmD,IAAL,CAAY,CAAd,CAA3B,CAA6C,CACzCoG,kBAAkB,CAACrK,IAAnB,oBAA2Bc,IAAI,CAACT,QAAhC,CAA2C,+BAA3C,GACH,CAFD,IAGK,IAAIlL,QAAQ,GAAKlD,IAAI,CAACqS,IAAtB,CAA4B,CAC7B;AACA,GAAMiG,SAAQ,CACV,EAAE/N,MAAM,CAACsE,IAAI,CAAC0J,QAAN,CAAN,GAA0BhO,MAAM,CAACsE,IAAI,CAAC2C,QAAN,CAAlC,GACG,EAAE3C,IAAI,CAAC2J,YAAL,GAAsB3J,IAAI,CAACuD,OAA7B,CADH,EAEG,EAAE7H,MAAM,CAACsE,IAAI,CAAC4J,aAAN,CAAN,GAA+BlO,MAAM,CAACsE,IAAI,CAACC,QAAN,CAAvC,CAFH,EAGG,EAAEvE,MAAM,CAACsE,IAAI,CAAC6J,iBAAN,CAAN,GAAmCnO,MAAM,CAACsE,IAAI,CAACE,YAAN,CAA3C,CAJP,CAOA,GAAI4G,OAAM,CAAG,CAAb,CACA,GAAI2C,QAAQ,EAAI,EAAEzJ,IAAI,CAAC0J,QAAL,GAAkB,CAApB,CAAhB,CAAwC,CACpC5C,MAAM,CAAG,CAAT,CACH,CACDD,gBAAgB,CAAC,CAAE7G,IAAI,CAAJA,IAAF,CAAQ8G,MAAM,CAANA,MAAR,CAAD,CAAhB,CACH,CAdI,IAeA,CACD,GAAMA,QAAM,CAAG,CAAf,CACAD,gBAAgB,CAAC,CAAE7G,IAAI,CAAJA,IAAF,CAAQ8G,MAAM,CAANA,OAAR,CAAD,CAAhB,CACH,CACD0C,gBAAgB,CAAG,CAAC9N,MAAM,CAAC8N,gBAAD,CAAN,CAA2B9N,MAAM,CAACsE,IAAI,CAAC,QAAD,CAAL,CAAlC,EAAoDpE,OAApD,CAA4D,CAA5D,CAAnB,CAAkF;AAErF,CA3BK,CAlBM,iCAsIqBvF,iBAAgB,CAACwG,GAAjB,CAAqB,SAAAmD,IAAI,QAAK,CAC3DjD,iBAAiB,CAAEiD,IAAI,CAACvK,KADmC,CAE3DuH,SAAS,CAAEgD,IAAI,CAAChD,SAF2C,CAAL,EAAzB,CAtIrB,SAsIN8M,kBAtIM,qBA6IR3C,uBAAuB,CAAC3H,MAAxB,CAAiC,CA7IzB,4BA8IR/O,WAAW,CAAC,CACRsO,IAAI,CAAE,CADE,CAERC,OAAO,CAAEmI,uBAFD,CAAD,CAAX,CA9IQ,+CAoJRoC,kBAAkB,CAAC/J,MAAnB,CAA4B,CApJpB,4BAqJR/O,WAAW,CAAC,CACRsO,IAAI,CAAE,CADE,CAERC,OAAO,CAAEuK,kBAFD,CAAD,CAAX,CArJQ,+CA2JRtM,UAAU,CAACuC,MAAX,GAAsB,CA3Jd,4BA4JR/O,WAAW,CAAC,CACRsO,IAAI,CAAE,CADE,CAERC,OAAO,CAAE,+BAFD,CAAD,CAAX,CA5JQ,+CAkKRzI,eAAe,CAACiJ,MAAhB,GAA2B,CAlKnB,4BAmKR/O,WAAW,CAAC,CACRsO,IAAI,CAAE,CADE,CAERC,OAAO,CAAE,uBAFD,CAAD,CAAX,CAnKQ,+CAyKP8K,kBAAkB,CAACtK,MAAnB,GAA8B,CAA/B,EAAqC,EAAEvL,WAAW,GAAK/C,GAAG,CAAC2B,OAAtB,CAArC,EACG,EAAEoB,WAAW,GAAK/C,GAAG,CAACc,OAAtB,CADH,EACqC,EAAEiC,WAAW,GAAK/C,GAAG,CAAC6B,QAAtB,CA1K7B,4BA4KRtC,WAAW,CAAC,CACRsO,IAAI,CAAE,CADE,CAERC,OAAO,CAAE,sCAFD,CAAD,CAAX,CA5KQ,0CAmLN+K,WAnLM,CAmLQ,CAChBhO,QAAQ,CAAEsN,QADM,CAEhB5V,QAAQ,CAAE6V,QAFM,CAGhBlD,SAAS,CAAE1V,UAAU,CAAC2V,aAHN,CAIhB2D,SAAS,CAAE,KAAO;AAJF,CAnLR,CAyLNC,WAzLM,CAyLQ,CAChBlO,QAAQ,CAAEuN,QADM,CACG;AACnB7V,QAAQ,CAAE4V,QAFM,CAEG;AACnBjD,SAAS,CAAE1V,UAAU,CAAC6V,SAHN,CAIhByD,SAAS,CAAE,IAAO;AAJF,CAzLR,CA+LNE,WA/LM,CA+LQ,CAChBC,UAAU,CAAE9U,SADI,CAEhB+U,YAAY,CAAEZ,gBAFE,CAGhBa,UAAU,CAAEpN,UAHI,CAIhBlB,QAAQ,CAAEsN,QAJM,CAKhB5V,QAAQ,CAAE6V,QALM,CAMhBlD,SAAS,CAAE1V,UAAU,CAAC2V,aANN,CA/LR,CAuMNiE,aAvMM,CAuMU,CAClBzO,SAAS,CAAElH,YADO,CACM;AACxBsH,YAAY,CAAEtH,YAFI,CAGlBgH,WAAW,CAAE6N,gBAHK,CAIlBe,SAAS,CAAEtN,UAJO,CAMlBX,WAAW,CAAE7H,WANK,CAOlB2H,cAAc,CAAEvH,QAAQ,CAACY,KAPP,CAQlByG,eAAe,CAAEnH,SAAS,CAACU,KART,CASlB+U,OAAO,CAAE,CATS,CAUlBC,eAAe,CAAE,QAVC,CAWlBC,QAAQ,CAAErB,QAXQ,CAYlB9M,MAAM,CAAEhG,eAAe,CAACd,KAZN,CAalBiH,UAAU,CAAEnG,eAAe,CAACd,KAAhB,GAA0B,CAA1B,CAA8BpC,eAA9B,CAAgD4B,UAb1C,CAclBwH,QAAQ,CAAElG,eAAe,CAACd,KAAhB,GAA0B,CAA1B,CAA8BpC,eAA9B,CAAgD8B,QAdxC,CAelBoI,SAAS,CAAEtM,MAAM,CAAC0Z,WAAP,EAfO,CAgBlBC,SAAS,CAAE3Z,MAAM,CAAC0Z,WAAP,EAhBO,CAiBlBE,uBAAuB,CAAEf,kBAjBP,CAvMV,CA4NI;AAChB,GAAI7V,WAAW,GAAK/C,GAAG,CAAC6B,QAAxB,CAAkC,CAC9BqL,QAAQ,CAAGC,IAAI,CAACC,SAAL,gCAAoBgM,aAApB,EAAsCJ,WAAtC,EAAX,CACH,CAFD,IAGK,IAAIjW,WAAW,GAAK/C,GAAG,CAACc,OAAxB,CAAiC,CAClCoM,QAAQ,CAAGC,IAAI,CAACC,SAAL,gCAAoBgM,aAApB,EAAsCL,WAAtC,EAAX,CACH,CAFI,IAGA,CACD7L,QAAQ,CAAGC,IAAI,CAACC,SAAL,gCAAoBgM,aAApB,EAAsCP,WAAtC,EAAX,CACH,CACD;AAEA,GAAI1V,QAAQ,GAAKlD,IAAI,CAACqS,IAAtB,CAA4B,CACxBpQ,QAAQ,CAACpC,IAAI,CAAC8Z,mBAAL,CAAyB,CAAE1M,QAAQ,CAARA,QAAF,CAAY2M,QAAQ,CAAE7Y,OAAO,CAACsB,EAA9B,CAAkC0K,eAAe,CAAfA,eAAlC,CAAzB,CAAD,CAAR,CAEH,CAHD,IAGO,CAEH9K,QAAQ,CAACpC,IAAI,CAACga,eAAL,CAAqB,CAAE5M,QAAQ,CAARA,QAAF,CAAYnK,WAAW,CAAXA,WAAZ,CAAyBiK,eAAe,CAAfA,eAAzB,CAArB,CAAD,CAAR,CACH,CA9OW,qFAgPZjN,MAAM,CAACga,aAAP,CAAqB,aAArB,eAhPY,uEAAH,kBAAXxE,YAAW,8CAAjB,CAoPA,GAAI,EAAElS,mBAAmB,GAAK,EAA1B,CAAJ,CAAmC,CAC/B,mBACI,MAAC,KAAD,CAAO,QAAP,yBACI,KAAC,QAAD,WAAWtD,MAAM,CAACia,YAAP,CAAoB3W,mBAApB,CAAX,EADJ,cAEI,KAAC,kBAAD,EAAoB,SAAS,CAAE,CAACqE,SAAhC,EAFJ,cAGI,aAAK,SAAS,CAAC,iBAAf,WACKkB,mBAAmB,eAAI,YAAK,SAAS,CAAC,qBAAf,uBACpB,aAAK,SAAS,CAAC,QAAf,wBACI,YAAK,SAAS,CAAC,EAAf,uBACI,aAAM,SAAS,CAAC,4BAAhB,4BADJ,EADJ,cAII,KAAC,eAAD,IAJJ,GADoB,EAD5B,cAWI,aAAK,SAAS,CAAC,cAAf,wBAEI,KAAC,sBAAD,EAAwB,QAAQ,CAAEzF,QAAlC,EAFJ,cAII,oCACI,YAAK,SAAS,CAAC,sCAAf,uBAEI,oCACI,MAAC,GAAD,yBACI,KAAC,GAAD,EAAK,EAAE,CAAC,GAAR,uBACI,MAAC,SAAD,EAAW,SAAS,CAAC,WAArB,wBACI,KAAC,KAAD,EAAO,SAAS,CAAC,cAAjB,CACI,KAAK,CAAE,CAAEkO,KAAK,CAAE,OAAT,CADX,2BADJ,cAGI,KAAC,GAAD,EAAK,EAAE,CAAC,GAAR,uBACI,KAAC,YAAD,EACI,OAAO,CAAE,CACL4I,QAAQ,CAAE,IADL,CAELC,SAAS,CAAE,OAFN,CAGLC,UAAU,CAAE,OAHP,CADb,CAMI,IAAI,CAAC,cANT,CAOI,KAAK,CAAE1W,YAPX,CAQI,QAAQ,CAAGgC,cAAc,CAAC6I,MAAf,CAAwB,CAAxB,EAA6BnL,QAAQ,GAAK,MAA3C,CAAqD,IAArD,CAA4D,KAR1E,CASI,QAAQ,CAAE,kBAACyL,CAAD,CAAIwL,IAAJ,CAAa,CAAE1W,eAAe,CAAC0W,IAAD,CAAf,CAAuB,CATpD,EADJ,EAHJ,GADJ,EADJ,CAqBMrX,WAAW,GAAKjC,OAAjB,cACG,KAAC,GAAD,EAAK,EAAE,CAAC,GAAR,uBACI,MAAC,SAAD,EAAW,SAAS,CAAC,YAArB,wBACI,KAAC,KAAD,EAAO,SAAS,CAAC,cAAjB,CACI,KAAK,CAAE,CAAEuQ,KAAK,CAAE,MAAT,CADX,UAC+BnI,UAAU,CAAC1G,KAD1C,EADJ,cAGI,KAAC,GAAD,EAAK,EAAE,CAAC,GAAR,uBAEI,KAAC,QAAD,EACI,eAAe,CAAC,cADpB,CAEI,KAAK,CAAEiC,WAFX,CAGI,OAAO,CAAEsL,YAHb,CAII,UAAU,CAAGtK,cAAc,CAAC6I,MAAf,CAAwB,CAAxB,EAA6BnL,QAAQ,GAAK,MAA1C,EAAoD0F,YAArD,CAAqE,IAArE,CAA4E,KACxF;AALJ,CAMI,QAAQ,CAAE,kBAAC+F,CAAD,CAAO,CAAE6E,aAAa,CAAC7E,CAAD,CAAb,CAAkB,CANzC,CAOI,SAAS,CAAErG,iBAPf,CAQI,MAAM,CAAE,CACJ8R,IAAI,CAAE,cAAAC,QAAQ,wCAAUA,QAAV,MAAoBC,MAAM,CAAE,CAA5B,IADV,CARZ,EAFJ,EAHJ,GADJ,EADH,cAuBK,KAAC,GAAD,EAAK,EAAE,CAAC,GAAR,EA5CV,cA+CI,KAAC,GAAD,EAAK,EAAE,CAAC,GAAR,CAAY,SAAS,CAAC,EAAtB,uBACI,MAAC,SAAD,EAAW,SAAS,CAAC,UAArB,wBACI,KAAC,KAAD,EAAO,SAAS,CAAC,cAAjB,CACI,KAAK,CAAE,CAAElJ,KAAK,CAAE,OAAT,CADX,UACgCnI,UAAU,CAAC3G,QAD3C,EADJ,cAGI,MAAC,GAAD,EAAK,EAAE,CAAC,GAAR,wBACI,KAAC,QAAD,EACI,KAAK,CAAE8B,cADX,CAEI,UAAU,CAAGoB,cAAc,CAAC6I,MAAf,CAAwB,CAAxB,EAA6BnL,QAAQ,GAAK,MAA1C,EAAoD0F,YAArD,CAAqE,IAArE,CAA4E,KAF5F,CAGI,OAAO,CAAEuG,eAHb,CAII,QAAQ,CAAE6D,gBAJd,CAKI,SAAS,CAAEpM,mBALf,CAMI,MAAM,CAAE,CACJwT,IAAI,CAAE,cAAAC,QAAQ,wCAAUA,QAAV,MAAoBC,MAAM,CAAE,CAA5B,IADV,CANZ,EADJ,CAWM1U,qBAAD,eACG,aAAM,SAAS,CAAC,iBAAhB,uBACI,yBAAQA,qBAAR,OADJ,EAZR,GAHJ,GADJ,EA/CJ,cAwEI,MAAC,GAAD,EAAK,EAAE,CAAC,GAAR,iDAEI,YAAK,SAAS,CAAC,gBAAf,UACK1C,QAAQ,GAAKlD,IAAI,CAACiD,WAAlB,CACG;AACC,CAAC+B,aAAF,cAEI,KAAE,SAAF,EACI,OAAO,CAAE4D,YADb,CAEI,EAAE,iBAAW9F,WAAX,CAFN,CAGI,OAAO,CAAE,iBAAC6L,CAAD,CAAO,CACZ,GAAI5F,qBAAqB,CAACzE,KAAtB,GAAgC,CAApC,CAAuC,CACnChF,WAAW,CAAC,CACRsO,IAAI,CAAE,CADE,CAERC,OAAO,CAAE,cAFD,CAAD,CAAX,CAIA,OACH,CACD,GAAIzJ,cAAc,GAAK,EAAvB,CAA2B,CACvB9E,WAAW,CAAC,CACRsO,IAAI,CAAE,CADE,CAERC,OAAO,yBAAmB5E,UAAU,CAAC3G,QAA9B,CAFC,CAAD,CAAX,CAIA,OACH,CACDyC,uBAAuB,CAAC,KAAD,CAAvB,CACAU,iBAAiB,CAACb,qBAAD,CAAjB,CACAD,aAAa,CAAC,CAAEL,KAAK,CAAE,EAAT,CAAaC,KAAK,CAAE,KAApB,CAAD,CAAb,CACAU,gBAAgB,CAAC,IAAD,CAAhB,CACH,CAtBL,EAFJ,CAyBO,CAACH,oBAAF,eACF,KAAC,aAAD,EACI,EAAE,qBAAehC,WAAf,CADN,CAEI,OAAO,CAAE,iBAAC6L,CAAD,CAAO,CACZtK,iBAAiB,CAAC,EAAD,CAAjB,CACAY,gBAAgB,CAAC,KAAD,CAAhB,CACAF,uBAAuB,CAAC,IAAD,CAAvB,CACAU,iBAAiB,CAAC,EAAD,CAAjB,CACAd,aAAa,CAAC,CAAEL,KAAK,CAAE,EAAT,CAAaC,KAAK,CAAE,KAApB,CAAD,CAAb,CACAtC,QAAQ,CAACpC,IAAI,CAAC0J,6BAAL,CAAmC,EAAnC,CAAD,CAAR,CACH,CATL,EA5BP,CAuCK,IAxCV,EAFJ,GAxEJ,GADJ,cAyHI,MAAC,GAAD,yBACI,MAAC,GAAD,EAAK,EAAE,CAAC,GAAR,0DACI,MAAC,SAAD,EAAW,SAAS,CAAC,UAArB,wBACI,KAAC,KAAD,EAAO,SAAS,CAAC,cAAjB,CACI,KAAK,CAAE,CAAE6H,KAAK,CAAE,OAAT,CADX,yBADJ,cAGI,YAAK,SAAS,CAAC,OAAf,uBACI,KAAC,KAAD,EAAO,IAAI,CAAC,MAAZ,CACI,KAAK,CAAE9N,WADX,CAEI,WAAW,CAAC,yBAFhB,CAGI,QAAQ,CAAE,kBAAAqL,CAAC,QAAIpL,eAAc,CAACoL,CAAC,CAAC8C,MAAF,CAASnN,KAAV,CAAlB,EAHf,EADJ,EAHJ,GADJ,GADJ,cAgBI,KAAC,GAAD,EAAK,EAAE,CAAC,GAAR,EAhBJ,cAiBI,KAAC,GAAD,EAAK,EAAE,CAAC,GAAR,uBACI,MAAC,SAAD,EAAW,SAAS,CAAC,UAArB,wBACI,KAAC,KAAD,EAAO,SAAS,CAAC,cAAjB,CACI,KAAK,CAAE,CAAE8M,KAAK,CAAE,OAAT,CADX,UACgCnI,UAAU,CAACzG,IAD3C,EADJ,cAII,KAAC,GAAD,EAAK,EAAE,CAAC,GAAR,uBACI,KAAC,QAAD,EACI,KAAK,CAAEkC,UADX,CAEI,UAAU,CAAGxB,QAAQ,GAAK,MAAb,EAAuB0F,YAAxB,CAAwC,IAAxC,CAA+C,KAF/D,CAGI,OAAO,CAAEhE,qBAHb,CAII,SAAS,CAAEgE,YAJf,CAKI,QAAQ,CAAEuK,kBALd,CAMI,MAAM,CAAE,CACJiH,IAAI,CAAE,cAAAC,QAAQ,wCAAUA,QAAV,MAAoBC,MAAM,CAAE,CAA5B,IADV,CANZ,EADJ,EAJJ,GADJ,EAjBJ,cAqCI,KAAC,GAAD,EAAK,EAAE,CAAC,GAAR,UAEKpX,QAAQ,GAAKlD,IAAI,CAACiD,WAAlB,cACG,YAAK,SAAS,CAAC,eAAf,UACM6B,oBAAoB,EAAIF,qBAAqB,CAACyJ,MAAtB,CAA+B,CAAxD,cACG,KAAC,MAAD,EACI,SAAS,KADb,CAEI,KAAK,CAAC,6CAFV,CAGI,QAAQ,CAAEzF,YAHd,CAII,OAAO,CAAE,yBAAM4L,sBAAqB,EAA3B,EAJb,sBADH,CASK5P,qBAAqB,CAACyJ,MAAtB,CAA+B,CAAjC,eACA,KAAC,MAAD,EACI,KAAK,CAAC,yCADV,CAEI,SAAS,CAAC,aAFd,CAGI,QAAQ,CAAEzF,YAHd,CAII,OAAO,CAAE,kBAAM,CACXvE,iBAAiB,CAAC,EAAD,CAAjB,CACAY,gBAAgB,CAAC,KAAD,CAAhB,CACAF,uBAAuB,CAAC,IAAD,CAAvB,CACAU,iBAAiB,CAAC,EAAD,CAAjB,CACAd,aAAa,CAAC,EAAD,CAAb,CACA1C,QAAQ,CAACpC,IAAI,CAAC0J,6BAAL,CAAmC,EAAnC,CAAD,CAAR,CACH,CAXL,uBAXR,EADH,CA6BY,IA/BjB,EArCJ,GAzHJ,GAFJ,EADJ,cAyMI,aAAK,SAAS,CAAC,mCAAf,yCACI,YAAK,SAAS,CAAC,KAAf,uDADJ,CAyBKzG,WAAW,GAAK/C,GAAG,CAACyB,OAApB,cAA8B,oEAC3B,aAAK,SAAS,CAAC,WAAf,wBAEI,aAAK,SAAS,CAAC,WAAf,wDACI,MAAC,SAAD,EAAW,SAAS,CAAC,OAArB,wBACI,KAAC,KAAD,EAAO,SAAS,CAAC,MAAjB,CACI,KAAK,CAAE,CAAE4P,KAAK,CAAE,OAAT,CADX,6BADJ,cAGI,YAAK,SAAS,CAAC,WAAf,uBACI,KAAC,QAAD,EACI,KAAK,CAAE1N,QADX,CAEI,eAAe,CAAC,kBAFpB,CAGI,OAAO,CAAEoD,eAHb,CAII,QAAQ,CAAE,kBAAC6H,CAAD,CAAO,CAAEhL,WAAW,CAACgL,CAAD,CAAX,CAAgB,CAJvC,CAKI,SAAS,CAAE5H,sBALf,CAMI,MAAM,CAAE,CACJqT,IAAI,CAAE,cAAAC,QAAQ,wCAAUA,QAAV,MAAoBC,MAAM,CAAE,CAA5B,IADV,CANZ,EADJ,EAHJ,GADJ,GAFJ,cAqBI,aAAK,SAAS,CAAC,WAAf,0DACI,MAAC,SAAD,EAAW,SAAS,CAAC,OAArB,wBACI,KAAC,KAAD,EAAO,SAAS,CAAC,MAAjB,CACI,KAAK,CAAE,CAAElJ,KAAK,CAAE,OAAT,CADX,8BADJ,cAGI,YAAK,SAAS,CAAC,WAAf,uBACI,KAAC,MAAD,EACI,KAAK,CAAExN,SADX,CAEI,eAAe,CAAC,kBAFpB,CAGI,MAAM,CAAE,CACJwW,IAAI,CAAE,cAAAC,QAAQ,wCAAUA,QAAV,MAAoBC,MAAM,CAAE,CAA5B,IADV,CAHZ,CAMI,SAAS,CAAEvT,sBANf,CAOI,OAAO,CAAED,eAPb,CAQI,QAAQ,CAAE,kBAAC6H,CAAD,CAAO,CAAE9K,YAAY,CAAC8K,CAAD,CAAZ,CAAiB,CARxC,EADJ,EAHJ,GADJ,GArBJ,GAD2B,cA0C3B,aAAK,SAAS,CAAC,KAAf,mEACI,aAAK,SAAS,CAAC,WAAf,yDACI,MAAC,SAAD,EAAW,SAAS,CAAC,QAArB,wBACI,KAAC,KAAD,EAAO,SAAS,CAAC,MAAjB,CACI,KAAK,CAAE,CAAEyC,KAAK,CAAE,OAAT,CADX,qBADJ,cAGI,YAAK,SAAS,CAAC,YAAf,uBACI,KAAC,MAAD,EACI,KAAK,CAAEhM,eADX,CAEI,eAAe,CAAC,kBAFpB,CAGI,OAAO,CAAEsK,gBAHb,CAII,QAAQ,CAAE,kBAACf,CAAD,CAAO,CAAEtJ,kBAAkB,CAACsJ,CAAD,CAAlB,CAAuB,CAJ9C,CAKI,SAAS,CAAEzH,oBALf,CAMI,MAAM,CAAE,CACJkT,IAAI,CAAE,cAAAC,QAAQ,wCAAUA,QAAV,MAAoBC,MAAM,CAAE,CAA5B,IADV,CANZ,EADJ,EAHJ,GADJ,GADJ,GA1C2B,CAgEzBlV,eAAe,CAACb,KAAhB,GAA0B,SAA3B,cACG,aAAK,SAAS,CAAC,KAAf,+DACI,YAAK,SAAS,CAAC,WAAf,uBACI,MAAC,SAAD,EAAW,SAAS,CAAC,OAArB,wBACI,KAAC,KAAD,EAAO,SAAS,CAAC,MAAjB,CACI,KAAK,CAAE,CAAE6M,KAAK,CAAE,OAAT,CADX,0BADJ,cAGI,YAAK,SAAS,CAAC,YAAf,uBACI,KAAC,YAAD,EACI,EAAE,CAAC,YADP,CAEI,IAAI,CAAC,YAFT,CAGI,KAAK,CAAEtN,UAHX,CAII,QAAQ,CAAE,kBAAC6K,CAAD,CAAIwL,IAAJ,CAAa,CAAEpW,aAAa,CAACoW,IAAD,CAAb,CAAqB,CAJlD,EADJ,EAHJ,GADJ,EADJ,cAgBI,aAAK,SAAS,CAAC,WAAf,mDACI,MAAC,SAAD,EAAW,SAAS,CAAC,QAArB,wBACI,KAAC,KAAD,EAAO,SAAS,CAAC,MAAjB,CACI,KAAK,CAAE,CAAE/I,KAAK,CAAE,OAAT,CADX,wBADJ,cAGI,YAAK,SAAS,CAAC,YAAf,uBACI,KAAC,YAAD,EACI,EAAE,CAAC,UADP,CAEI,IAAI,CAAC,UAFT,CAGI,KAAK,CAAEpN,QAHX,CAII,QAAQ,CAAE,kBAAC2K,CAAD,CAAIwL,IAAJ,CAAa,CAAElW,WAAW,CAACkW,IAAD,CAAX,CAAmB,CAJhD,EADJ,EAHJ,GADJ,GAhBJ,GADH,CA+BY,IA/Fc,GAA9B,CAiGK,IA1HV,GAzMJ,GAJJ,cA8UI,KAAC,eAAD,EACI,QAAQ,CAAE,SADd,CAEI,IAAI,CAAE3U,cAFV,CAGI,OAAO,CAAEyK,gBAHb,CAII,MAAM,KAJV,UAMK,kBAACsK,YAAD,qBACG,KAAC,KAAD,CAAO,QAAP,wBACI,KAAC,GAAD,wBACI,KAAC,GAAD,EAAK,EAAE,CAAC,IAAR,uBACI,aAAK,SAAS,CAAC,yBAAf,CAAyC,KAAK,CAAE,CAAEC,SAAS,CAAE,MAAb,CAAhD,wBACI,KAAC,cAAD,gBACI,QAAQ,CAAE,SADd,CAEI,EAAE,CAAC,aAFP,CAGI,aAAa,CAAE,CAAC1V,oBAAD,CAAwBgO,aAAxB,CAAwC,EAH3D,CAII,OAAO,CAAC,cACR;AALJ,CAMI,gBAAgB,cACZ,YAAK,SAAS,CAAC,8CAAf,iCAPR,CAWI,gBAAgB,CAAE,0BAACnE,CAAD,CAAO,CACrB7O,MAAM,CAAC2a,yBAAP,CAAiC,cAAjC,EACH,CAbL,EAcQF,YAAY,CAACG,SAdrB,EADJ,CAiBKxb,aAAa,CAACqb,YAAY,CAACI,WAAd,CAjBlB,GADJ,EADJ,EADJ,EADH,EANL,EA9UJ,cAkXI,KAAC,mBAAD,EAAqB,SAAS,CAAEzV,gBAAhC,CAAkD,OAAO,CAAEC,mBAA3D,CAAgF,QAAQ,CAAEpE,OAAO,CAACyK,kBAAlG,CAAsH,SAAS,CAAEhG,cAAjI,EAlXJ,CAqXUA,cAAc,CAAC6I,MAAf,CAAwB,CAAzB,EAAgC,CAAC/I,iBAAlC,cAAwD,aAAK,SAAS,CAAC,WAAf,CAA2B,KAAK,CAAE,CAAEsV,aAAa,CAAE,QAAjB,CAAlC,wBACpD,KAAC,GAAD,wBACI,KAAC,UAAD,EACI,OAAO,CAAE/R,cADb,CAEI,aAAa,CAAElG,aAFnB,CAGI,QAAQ,CAAEO,QAHd,CAII,OAAO,CAAEE,mBAJb,CAKI,OAAO,CAAEkS,WALb,CAMI,aAAa,CAAExM,qBANnB,EADJ,EADoD,CAY/ChG,WAAW,GAAK/C,GAAG,CAACc,OAArB,EAAkCqC,QAAQ,GAAKlD,IAAI,CAACiD,WAApD,cACI,KAAC,GAAD,wBACI,KAAC,cAAD,EACI,aAAa,CAAE6F,qBADnB,CAEI,OAAO,CAAEA,qBAFb,CAGI,QAAQ,CAAE5F,QAHd,CAII,OAAO,CAAEE,mBAJb,CAKI,OAAO,CAAEkS,WALb,EADJ,EADJ,CASa,IArBmC,GAAxD,cAuBM,YAAK,SAAS,CAAC,WAAf,EA5Yd,GAXJ,GAHJ,cA8ZI,KAAC,KAAD,EACI,MAAM,CAAEhQ,iBADZ,CAEI,MAAM,CAAE,iBAAM,CACVC,oBAAoB,CAAC,KAAD,CAApB,CACH,CAJL,CAKI,IAAI,CAAC,IALT,uBAQI,KAAC,UAAD,EACI,SAAS,CAAEsC,cAAc,CAACgT,IAD9B,CAEI,QAAQ,CAAE,IAFd,CAGI,UAAU,CAAE9a,GAAG,CAAC+J,SAHpB,CAII,YAAY,CAAEhH,WAJlB,CAKI,WAAW,CAAEsQ,gBALjB,CAMI,QAAQ,CAAEpT,IAAI,CAAC6T,UANnB,EARJ,EA9ZJ,GADJ,CAobH,CArbD,IAqbO,CACH,MAAO,KAAP,CACH,CAEJ,CA1qDD,CA4qDA,cAAe9R,MAAf"},"metadata":{},"sourceType":"module"}