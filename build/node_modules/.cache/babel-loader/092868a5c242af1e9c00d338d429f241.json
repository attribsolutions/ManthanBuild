{"ast":null,"code":"import _regeneratorRuntime from\"D:/Rohit/Git projects/Manthan/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"D:/Rohit/Git projects/Manthan/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import jsPDF from\"jspdf\";import\"jspdf-autotable\";import*as style from'./ReportStyle';import{compareGSTINState,loginSystemSetting}from\"../../components/Common/CommonFunction\";import InvioceReporta5 from\"../Invoice report a5/Page\";var pageHeder=function pageHeder(doc,data){style.pageBorder(doc,data);style.pageHeder(doc,data);//Title\nstyle.reportHeder1(doc,data);style.reportHeder2(doc,data);style.reportHeder3(doc,data);//Invoice ID , Date\nreturn true;};var reportBody=function reportBody(doc,data){var isIGST=compareGSTINState(data.CustomerGSTIN,data.PartyGSTIN);if(isIGST){style.tableBodyWithIGST(doc,data);//table Body\n}else{style.tableBody(doc,data);}};function pageFooter(doc,data){style.pageFooter(doc,data);style.reportFooter(doc,data);}var invioceReport_A4=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(data){var doc,url,urlObject,generateSaveAndOpenPDFReport;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:generateSaveAndOpenPDFReport=function _generateSaveAndOpenP(){var pdfUrl=URL.createObjectURL(doc.output('blob'));window.open(pdfUrl);};debugger;if(data.InvoiceUploads.length>0){if(data.InvoiceUploads[0].QRCodeUrl!==null){data[\"isQR\"]=true;}else{data[\"isQR\"]=false;}}doc=new jsPDF('p','pt','a4');if(data.InvoiceUploads.length>0){url=data.InvoiceUploads[0].QRCodeUrl;try{doc.addImage(url,'JPEG',323,18,83,83);urlObject=new URL(url);debugger;}catch(w){}// const image = await loadImage(`/E_invoiceQRCode${desiredPart}`);\n// if (image) {\n//     doc.addImage(url, 'JPEG', 323, 18, 83, 83);\n//     console.log(image.currentSrc)\n// } else {\n//     doc.text('Image Not Found', 323, 18);\n// }\n}// function loadImage(url) {\n//     return new Promise((resolve, reject) => {\n//         const img = new Image();\n//         img.onload = () => resolve(img);\n//         img.onerror = () => reject();\n//         img.src = url;\n//     });\n// }\npageHeder(doc,data);reportBody(doc,data);pageFooter(doc,data);doc.setProperties({title:\"InvoiceReport/\".concat(data.InvoiceDate,\"-\").concat(data.CustomerName,\" \")});generateSaveAndOpenPDFReport();case 10:case\"end\":return _context.stop();}}},_callee);}));return function invioceReport_A4(_x){return _ref.apply(this,arguments);};}();var InvioceReport=function InvioceReport(data){var SettingData=loginSystemSetting();data[\"SettingData\"]=SettingData;if(SettingData.A4Print===\"1\"&&!data.forceA5){invioceReport_A4(data);}else{InvioceReporta5(data);}};export default InvioceReport;","map":{"version":3,"names":["jsPDF","style","compareGSTINState","loginSystemSetting","InvioceReporta5","pageHeder","doc","data","pageBorder","reportHeder1","reportHeder2","reportHeder3","reportBody","isIGST","CustomerGSTIN","PartyGSTIN","tableBodyWithIGST","tableBody","pageFooter","reportFooter","invioceReport_A4","generateSaveAndOpenPDFReport","pdfUrl","URL","createObjectURL","output","window","open","InvoiceUploads","length","QRCodeUrl","url","addImage","urlObject","w","setProperties","title","InvoiceDate","CustomerName","InvioceReport","SettingData","A4Print","forceA5"],"sources":["D:/Rohit/Git projects/Manthan/src/Reports/InvioceReport/Page.js"],"sourcesContent":["import jsPDF from \"jspdf\";\r\nimport \"jspdf-autotable\";\r\nimport * as style from './ReportStyle';\r\nimport { compareGSTINState, loginSystemSetting } from \"../../components/Common/CommonFunction\";\r\nimport InvioceReporta5 from \"../Invoice report a5/Page\";\r\n\r\nconst pageHeder = (doc, data) => {\r\n    style.pageBorder(doc, data);\r\n    style.pageHeder(doc, data);     //Title\r\n    style.reportHeder1(doc, data);\r\n    style.reportHeder2(doc, data);\r\n    style.reportHeder3(doc, data);    //Invoice ID , Date\r\n    return true;\r\n};\r\n\r\nconst reportBody = (doc, data) => {\r\n    const isIGST = compareGSTINState(data.CustomerGSTIN, data.PartyGSTIN);\r\n    if (isIGST) {\r\n        style.tableBodyWithIGST(doc, data); //table Body\r\n    } else {\r\n        style.tableBody(doc, data);\r\n    }\r\n};\r\n\r\nfunction pageFooter(doc, data) {\r\n    style.pageFooter(doc, data);\r\n    style.reportFooter(doc, data);\r\n}\r\n\r\nconst invioceReport_A4 = async (data) => {\r\n    debugger\r\n    if (data.InvoiceUploads.length > 0) {\r\n        if (data.InvoiceUploads[0].QRCodeUrl !== null) {\r\n            data[\"isQR\"] = true;\r\n        } else {\r\n            data[\"isQR\"] = false;\r\n        }\r\n    }\r\n    var doc = new jsPDF('p', 'pt', 'a4');\r\n\r\n    if (data.InvoiceUploads.length > 0) {\r\n        const url = data.InvoiceUploads[0].QRCodeUrl;\r\n        try {\r\n            doc.addImage(url, 'JPEG', 323, 18, 83, 83);\r\n            const urlObject = new URL(url);\r\n            debugger\r\n        } catch (w) { }\r\n\r\n        // const image = await loadImage(`/E_invoiceQRCode${desiredPart}`);\r\n        // if (image) {\r\n        //     doc.addImage(url, 'JPEG', 323, 18, 83, 83);\r\n        //     console.log(image.currentSrc)\r\n        // } else {\r\n        //     doc.text('Image Not Found', 323, 18);\r\n        // }\r\n    }\r\n\r\n    // function loadImage(url) {\r\n\r\n    //     return new Promise((resolve, reject) => {\r\n    //         const img = new Image();\r\n    //         img.onload = () => resolve(img);\r\n    //         img.onerror = () => reject();\r\n    //         img.src = url;\r\n    //     });\r\n    // }\r\n    pageHeder(doc, data);\r\n    reportBody(doc, data);\r\n    pageFooter(doc, data);\r\n\r\n    doc.setProperties({\r\n        title: `InvoiceReport/${data.InvoiceDate}-${data.CustomerName} `\r\n    });\r\n\r\n    function generateSaveAndOpenPDFReport() {\r\n        const pdfUrl = URL.createObjectURL(doc.output('blob'));\r\n        window.open(pdfUrl);\r\n    }\r\n    generateSaveAndOpenPDFReport();\r\n}\r\n\r\nconst InvioceReport = (data) => {\r\n\r\n    const SettingData = loginSystemSetting();\r\n    data[\"SettingData\"] = SettingData;\r\n\r\n    if (SettingData.A4Print === \"1\" && !data.forceA5) {\r\n        invioceReport_A4(data)\r\n    } else {\r\n        InvioceReporta5(data)\r\n    }\r\n\r\n}\r\n\r\nexport default InvioceReport;\r\n\r\n\r\n"],"mappings":"6NAAA,MAAOA,MAAP,KAAkB,OAAlB,CACA,MAAO,iBAAP,CACA,MAAO,GAAKC,MAAZ,KAAuB,eAAvB,CACA,OAASC,iBAAT,CAA4BC,kBAA5B,KAAsD,wCAAtD,CACA,MAAOC,gBAAP,KAA4B,2BAA5B,CAEA,GAAMC,UAAS,CAAG,QAAZA,UAAY,CAACC,GAAD,CAAMC,IAAN,CAAe,CAC7BN,KAAK,CAACO,UAAN,CAAiBF,GAAjB,CAAsBC,IAAtB,EACAN,KAAK,CAACI,SAAN,CAAgBC,GAAhB,CAAqBC,IAArB,EAAgC;AAChCN,KAAK,CAACQ,YAAN,CAAmBH,GAAnB,CAAwBC,IAAxB,EACAN,KAAK,CAACS,YAAN,CAAmBJ,GAAnB,CAAwBC,IAAxB,EACAN,KAAK,CAACU,YAAN,CAAmBL,GAAnB,CAAwBC,IAAxB,EAAkC;AAClC,MAAO,KAAP,CACH,CAPD,CASA,GAAMK,WAAU,CAAG,QAAbA,WAAa,CAACN,GAAD,CAAMC,IAAN,CAAe,CAC9B,GAAMM,OAAM,CAAGX,iBAAiB,CAACK,IAAI,CAACO,aAAN,CAAqBP,IAAI,CAACQ,UAA1B,CAAhC,CACA,GAAIF,MAAJ,CAAY,CACRZ,KAAK,CAACe,iBAAN,CAAwBV,GAAxB,CAA6BC,IAA7B,EAAoC;AACvC,CAFD,IAEO,CACHN,KAAK,CAACgB,SAAN,CAAgBX,GAAhB,CAAqBC,IAArB,EACH,CACJ,CAPD,CASA,QAASW,WAAT,CAAoBZ,GAApB,CAAyBC,IAAzB,CAA+B,CAC3BN,KAAK,CAACiB,UAAN,CAAiBZ,GAAjB,CAAsBC,IAAtB,EACAN,KAAK,CAACkB,YAAN,CAAmBb,GAAnB,CAAwBC,IAAxB,EACH,CAED,GAAMa,iBAAgB,0FAAG,iBAAOb,IAAP,wBA6CZc,4BA7CY,iHA6CZA,4BA7CY,iCA6CmB,CACpC,GAAMC,OAAM,CAAGC,GAAG,CAACC,eAAJ,CAAoBlB,GAAG,CAACmB,MAAJ,CAAW,MAAX,CAApB,CAAf,CACAC,MAAM,CAACC,IAAP,CAAYL,MAAZ,EACH,CAhDoB,CACrB,SACA,GAAIf,IAAI,CAACqB,cAAL,CAAoBC,MAApB,CAA6B,CAAjC,CAAoC,CAChC,GAAItB,IAAI,CAACqB,cAAL,CAAoB,CAApB,EAAuBE,SAAvB,GAAqC,IAAzC,CAA+C,CAC3CvB,IAAI,CAAC,MAAD,CAAJ,CAAe,IAAf,CACH,CAFD,IAEO,CACHA,IAAI,CAAC,MAAD,CAAJ,CAAe,KAAf,CACH,CACJ,CACGD,GATiB,CASX,GAAIN,MAAJ,CAAU,GAAV,CAAe,IAAf,CAAqB,IAArB,CATW,CAWrB,GAAIO,IAAI,CAACqB,cAAL,CAAoBC,MAApB,CAA6B,CAAjC,CAAoC,CAC1BE,GAD0B,CACpBxB,IAAI,CAACqB,cAAL,CAAoB,CAApB,EAAuBE,SADH,CAEhC,GAAI,CACAxB,GAAG,CAAC0B,QAAJ,CAAaD,GAAb,CAAkB,MAAlB,CAA0B,GAA1B,CAA+B,EAA/B,CAAmC,EAAnC,CAAuC,EAAvC,EACME,SAFN,CAEkB,GAAIV,IAAJ,CAAQQ,GAAR,CAFlB,CAGA,SACH,CAAC,MAAOG,CAAP,CAAU,CAAG,CAEf;AACA;AACA;AACA;AACA;AACA;AACA;AACH,CAED;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA7B,SAAS,CAACC,GAAD,CAAMC,IAAN,CAAT,CACAK,UAAU,CAACN,GAAD,CAAMC,IAAN,CAAV,CACAW,UAAU,CAACZ,GAAD,CAAMC,IAAN,CAAV,CAEAD,GAAG,CAAC6B,aAAJ,CAAkB,CACdC,KAAK,yBAAmB7B,IAAI,CAAC8B,WAAxB,aAAuC9B,IAAI,CAAC+B,YAA5C,KADS,CAAlB,EAQAjB,4BAA4B,GAjDP,uDAAH,kBAAhBD,iBAAgB,4CAAtB,CAoDA,GAAMmB,cAAa,CAAG,QAAhBA,cAAgB,CAAChC,IAAD,CAAU,CAE5B,GAAMiC,YAAW,CAAGrC,kBAAkB,EAAtC,CACAI,IAAI,CAAC,aAAD,CAAJ,CAAsBiC,WAAtB,CAEA,GAAIA,WAAW,CAACC,OAAZ,GAAwB,GAAxB,EAA+B,CAAClC,IAAI,CAACmC,OAAzC,CAAkD,CAC9CtB,gBAAgB,CAACb,IAAD,CAAhB,CACH,CAFD,IAEO,CACHH,eAAe,CAACG,IAAD,CAAf,CACH,CAEJ,CAXD,CAaA,cAAegC,cAAf"},"metadata":{},"sourceType":"module"}