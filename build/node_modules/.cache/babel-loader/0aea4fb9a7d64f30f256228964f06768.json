{"ast":null,"code":"var _jsxFileName = \"D:\\\\Rohit\\\\Git projects\\\\Manthan\\\\src\\\\Reports\\\\RetailerDataReport\\\\RetailerDataReport.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { Col, FormGroup, Label } from \"reactstrap\";\nimport { useHistory } from \"react-router-dom\";\nimport { Go_Button } from \"../../components/Common/CommonButton\";\nimport * as _cfunc from \"../../components/Common/CommonFunction\";\nimport { url, mode } from \"../../routes/index\";\nimport { MetaTags } from \"react-meta-tags\";\nimport Select from \"react-select\";\nimport * as XLSX from 'xlsx';\nimport { SSDD_List_under_Company } from \"../../store/actions\";\nimport { customAlert } from \"../../CustomAlert/ConfirmDialog\";\nimport { postRetailerData_API, postRetailerData_API_Success } from \"../../store/Report/RetailerDataRedux/action\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst RetailerDataReport = props => {\n  _s();\n\n  const dispatch = useDispatch();\n  const history = useHistory();\n\n  const isSCMParty = _cfunc.loginIsSCMParty();\n\n  const [userPageAccessState, setUserAccState] = useState('');\n  const [partydropdown, setPartydropdown] = useState('');\n  const reducers = useSelector(state => ({\n    listBtnLoading: state.RetailerDataReducer.listBtnLoading,\n    RetailerGobtn: state.RetailerDataReducer.RetailerGobtn,\n    userAccess: state.Login.RoleAccessUpdateData,\n    SSDD_List: state.CommonAPI_Reducer.SSDD_List,\n    pageField: state.CommonPageFieldReducer.pageFieldList\n  }));\n  const {\n    userAccess,\n    SSDD_List,\n    listBtnLoading\n  } = reducers;\n  const {\n    RetailerGobtn = []\n  } = reducers; // Featch Modules List data  First Rendering\n\n  const location = { ...history.location\n  };\n  const hasShowModal = props.hasOwnProperty(mode.editValue); // userAccess useEffect\n\n  useEffect(() => {\n    let userAcc = null;\n    let locationPath = location.pathname;\n\n    if (hasShowModal) {\n      locationPath = props.masterPath;\n    }\n\n    ;\n    userAcc = userAccess.find(inx => {\n      return `/${inx.ActualPagePath}` === locationPath;\n    });\n\n    if (userAcc) {\n      setUserAccState(userAcc);\n\n      _cfunc.breadcrumbReturnFunc({\n        dispatch,\n        userAcc\n      });\n    }\n\n    ;\n  }, [userAccess]);\n  useEffect(() => {\n    dispatch(SSDD_List_under_Company());\n  }, []);\n  useEffect(() => {\n    if (RetailerGobtn.Status === true && RetailerGobtn.StatusCode === 200) {\n      const {\n        Data\n      } = RetailerGobtn;\n      const worksheet = XLSX.utils.json_to_sheet(Data);\n      const workbook = XLSX.utils.book_new();\n      XLSX.utils.book_append_sheet(workbook, worksheet, \"RetailerDataReport\");\n      XLSX.writeFile(workbook, \"Retailer Data Report.xlsx\");\n      dispatch(postRetailerData_API_Success([]));\n    }\n  }, [RetailerGobtn]);\n  const Party_Option = SSDD_List.map(i => ({\n    value: i.id,\n    label: i.Name\n  }));\n\n  function goButtonHandler() {\n    if (partydropdown === \"\") {\n      customAlert({\n        Type: 3,\n        Message: \"Please Select Party\"\n      });\n    } else {\n      const btnId = `gobtn-${url.RETAILER_DATA_REPORT}`;\n      const jsonBody = JSON.stringify({\n        \"Party\": partydropdown.value\n      });\n      dispatch(postRetailerData_API({\n        jsonBody,\n        btnId\n      }));\n    }\n  }\n\n  return /*#__PURE__*/_jsxDEV(React.Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(MetaTags, {\n      children: _cfunc.metaTagLabel(userPageAccessState)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"page-content\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"px-2   c_card_filter text-black\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row\",\n          children: [isSCMParty && /*#__PURE__*/_jsxDEV(Col, {\n            sm: 4,\n            children: /*#__PURE__*/_jsxDEV(FormGroup, {\n              className: \"mb- row mt-3 mb-2\",\n              children: [/*#__PURE__*/_jsxDEV(Label, {\n                className: \"col-sm-4 p-2\",\n                style: {\n                  width: \"65px\"\n                },\n                children: \"Party\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 107,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(Col, {\n                sm: \"8\",\n                children: /*#__PURE__*/_jsxDEV(Select, {\n                  name: \"party\",\n                  value: partydropdown,\n                  isSearchable: true,\n                  className: \"react-dropdown\",\n                  classNamePrefix: \"dropdown\",\n                  styles: {\n                    menu: provided => ({ ...provided,\n                      zIndex: 2\n                    })\n                  },\n                  options: Party_Option,\n                  onChange: e => {\n                    setPartydropdown(e);\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 110,\n                  columnNumber: 41\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 109,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 106,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            sm: \"1\",\n            className: \"mt-3 mb-3 \",\n            children: /*#__PURE__*/_jsxDEV(Go_Button, {\n              onClick: goButtonHandler,\n              loading: listBtnLoading\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 129,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 128,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 98,\n    columnNumber: 9\n  }, this);\n};\n\n_s(RetailerDataReport, \"8zrPcZJ3URCtsCjPoFU9a0aWCAc=\", false, function () {\n  return [useDispatch, useHistory, useSelector];\n});\n\n_c = RetailerDataReport;\nexport default RetailerDataReport;\n\nvar _c;\n\n$RefreshReg$(_c, \"RetailerDataReport\");","map":{"version":3,"names":["React","useEffect","useState","useSelector","useDispatch","Col","FormGroup","Label","useHistory","Go_Button","_cfunc","url","mode","MetaTags","Select","XLSX","SSDD_List_under_Company","customAlert","postRetailerData_API","postRetailerData_API_Success","RetailerDataReport","props","dispatch","history","isSCMParty","loginIsSCMParty","userPageAccessState","setUserAccState","partydropdown","setPartydropdown","reducers","state","listBtnLoading","RetailerDataReducer","RetailerGobtn","userAccess","Login","RoleAccessUpdateData","SSDD_List","CommonAPI_Reducer","pageField","CommonPageFieldReducer","pageFieldList","location","hasShowModal","hasOwnProperty","editValue","userAcc","locationPath","pathname","masterPath","find","inx","ActualPagePath","breadcrumbReturnFunc","Status","StatusCode","Data","worksheet","utils","json_to_sheet","workbook","book_new","book_append_sheet","writeFile","Party_Option","map","i","value","id","label","Name","goButtonHandler","Type","Message","btnId","RETAILER_DATA_REPORT","jsonBody","JSON","stringify","metaTagLabel","width","menu","provided","zIndex","e"],"sources":["D:/Rohit/Git projects/Manthan/src/Reports/RetailerDataReport/RetailerDataReport.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { Col, FormGroup, Label } from \"reactstrap\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { Go_Button } from \"../../components/Common/CommonButton\";\r\nimport * as _cfunc from \"../../components/Common/CommonFunction\";\r\nimport { url, mode, } from \"../../routes/index\"\r\nimport { MetaTags } from \"react-meta-tags\";\r\nimport Select from \"react-select\";\r\nimport * as XLSX from 'xlsx';\r\nimport { SSDD_List_under_Company } from \"../../store/actions\";\r\nimport { customAlert } from \"../../CustomAlert/ConfirmDialog\";\r\nimport { postRetailerData_API, postRetailerData_API_Success } from \"../../store/Report/RetailerDataRedux/action\";\r\n\r\nconst RetailerDataReport = (props) => {\r\n\r\n    const dispatch = useDispatch();\r\n    const history = useHistory();\r\n    const isSCMParty = _cfunc.loginIsSCMParty();\r\n\r\n    const [userPageAccessState, setUserAccState] = useState('');\r\n    const [partydropdown, setPartydropdown] = useState('')\r\n\r\n\r\n    const reducers = useSelector(\r\n        (state) => ({\r\n            listBtnLoading: state.RetailerDataReducer.listBtnLoading,\r\n            RetailerGobtn: state.RetailerDataReducer.RetailerGobtn,\r\n            userAccess: state.Login.RoleAccessUpdateData,\r\n            SSDD_List: state.CommonAPI_Reducer.SSDD_List,\r\n            pageField: state.CommonPageFieldReducer.pageFieldList\r\n        })\r\n    );\r\n    const { userAccess, SSDD_List, listBtnLoading } = reducers;\r\n    const { RetailerGobtn = [] } = reducers\r\n\r\n    // Featch Modules List data  First Rendering\r\n    const location = { ...history.location }\r\n    const hasShowModal = props.hasOwnProperty(mode.editValue)\r\n\r\n    // userAccess useEffect\r\n    useEffect(() => {\r\n        let userAcc = null;\r\n        let locationPath = location.pathname;\r\n        if (hasShowModal) {\r\n            locationPath = props.masterPath;\r\n        };\r\n        userAcc = userAccess.find((inx) => {\r\n            return (`/${inx.ActualPagePath}` === locationPath)\r\n        })\r\n        if (userAcc) {\r\n            setUserAccState(userAcc)\r\n            _cfunc.breadcrumbReturnFunc({ dispatch, userAcc });\r\n        };\r\n    }, [userAccess])\r\n\r\n    useEffect(() => {\r\n        dispatch(SSDD_List_under_Company());\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n\r\n        if (RetailerGobtn.Status === true && RetailerGobtn.StatusCode === 200) {\r\n            const { Data } = RetailerGobtn\r\n            const worksheet = XLSX.utils.json_to_sheet(Data);\r\n            const workbook = XLSX.utils.book_new();\r\n            XLSX.utils.book_append_sheet(workbook, worksheet, \"RetailerDataReport\");\r\n            XLSX.writeFile(workbook, \"Retailer Data Report.xlsx\");\r\n            dispatch(postRetailerData_API_Success([]));\r\n        }\r\n    }, [RetailerGobtn]);\r\n\r\n\r\n    const Party_Option = SSDD_List.map(i => ({\r\n        value: i.id,\r\n        label: i.Name\r\n    }));\r\n\r\n\r\n    function goButtonHandler() {\r\n        if (partydropdown === \"\") {\r\n            customAlert({\r\n                Type: 3,\r\n                Message: \"Please Select Party\",\r\n            })\r\n        }\r\n        else {\r\n            const btnId = `gobtn-${url.RETAILER_DATA_REPORT}`\r\n            const jsonBody = JSON.stringify({\r\n                \"Party\": partydropdown.value\r\n            });\r\n            dispatch(postRetailerData_API({ jsonBody, btnId }));\r\n        }\r\n\r\n    }\r\n\r\n    return (\r\n        <React.Fragment>\r\n            <MetaTags>{_cfunc.metaTagLabel(userPageAccessState)}</MetaTags>\r\n            <div className=\"page-content\">\r\n                <div className=\"px-2   c_card_filter text-black\" >\r\n                    <div className=\"row\" >\r\n\r\n                        {isSCMParty &&\r\n                            <Col sm={4} >\r\n                                <FormGroup className=\"mb- row mt-3 mb-2\" >\r\n                                    <Label className=\"col-sm-4 p-2\"\r\n                                        style={{ width: \"65px\" }}>Party</Label>\r\n                                    <Col sm=\"8\">\r\n                                        <Select\r\n                                            name=\"party\"\r\n                                            value={partydropdown}\r\n                                            isSearchable={true}\r\n                                            className=\"react-dropdown\"\r\n                                            classNamePrefix=\"dropdown\"\r\n                                            styles={{\r\n                                                menu: provided => ({ ...provided, zIndex: 2 })\r\n                                            }}\r\n                                            options={Party_Option}\r\n                                            onChange={(e) => { setPartydropdown(e) }}\r\n\r\n                                        />\r\n                                    </Col>\r\n                                </FormGroup>\r\n                            </Col>\r\n                        }\r\n\r\n                        <Col sm=\"1\" className=\"mt-3 mb-3 \">\r\n                            <Go_Button onClick={goButtonHandler} loading={listBtnLoading} />\r\n                        </Col>\r\n                    </div>\r\n                </div>\r\n\r\n            </div>\r\n        </React.Fragment >\r\n    )\r\n}\r\n\r\nexport default RetailerDataReport;"],"mappings":"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"},"metadata":{},"sourceType":"module"}