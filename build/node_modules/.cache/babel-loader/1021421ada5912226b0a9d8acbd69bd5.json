{"ast":null,"code":"var _jsxFileName = \"D:\\\\Rohit\\\\Git projects\\\\Manthan\\\\src\\\\pages\\\\Purchase\\\\Order\\\\Order.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useLayoutEffect, useState } from \"react\";\nimport { MetaTags } from \"react-meta-tags\";\nimport { useHistory } from \"react-router-dom\";\nimport { Button, Col, FormGroup, Input, Label, Modal, Row } from \"reactstrap\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport Select from \"react-select\";\nimport ToolkitProvider from \"react-bootstrap-table2-toolkit\";\nimport BootstrapTable from \"react-bootstrap-table-next\";\nimport { orderCalculateFunc } from \"./OrderPageCalulation\";\nimport { SaveButton, Go_Button, Change_Button, GotoInvoiceBtn } from \"../../../components/Common/CommonButton\";\nimport { mySearchProps } from \"../../../components/Common/SearchBox/MySearch\";\nimport OrderPageTermsTable from \"./OrderPageTermsTable\";\nimport { initialFiledFunc } from \"../../../components/Common/validationFunction\";\nimport PartyItems from \"../../Adminisrator/PartyItemPage/PartyItems\";\nimport { customAlert } from \"../../../CustomAlert/ConfirmDialog\";\nimport { order_Type } from \"../../../components/Common/C-Varialbes\";\nimport { CInput, C_DatePicker, decimalRegx, onlyNumberRegx } from \"../../../CustomValidateForm/index\";\nimport * as _act from \"../../../store/actions\";\nimport * as _cfunc from \"../../../components/Common/CommonFunction\";\nimport { url, mode, pageId } from \"../../../routes/index\";\nimport { editPartyItemID } from \"../../../store/Administrator/PartyItemsRedux/action\";\nimport { getPartyListAPI } from \"../../../store/Administrator/PartyRedux/action\";\nimport { pageFieldUseEffect, table_ArrowUseEffect, updateMsgUseEffect, userAccessUseEffect } from \"../../../components/Common/CommonUseEffect\";\nimport { orderApprovalFunc, orderApprovalMessage } from \"./orderApproval\";\nimport { GetRoutesList } from \"../../../store/Administrator/RoutesRedux/actions\";\nimport { ORDER_4 } from \"../../../routes/route_url\";\nimport PartyDropdown_Common from \"../../../components/Common/PartyDropdown\";\nimport \"./order.scss\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nlet editVal = {};\nlet initial_BredcrumbMsg = \"Order Amount :0.00\";\n\nfunction initialState(history) {\n  let page_Id = '';\n  let listPath = '';\n  let sub_Mode = history.location.pathname;\n\n  if (sub_Mode === url.ORDER_1) {\n    page_Id = pageId.ORDER_1;\n    listPath = url.ORDER_LIST_1;\n  } else if (sub_Mode === url.ORDER_2) {\n    page_Id = pageId.ORDER_2;\n    listPath = url.ORDER_LIST_2;\n  } else if (sub_Mode === url.IB_ORDER) {\n    page_Id = pageId.IB_ORDER;\n    listPath = url.IB_ORDER_PO_LIST;\n  } else if (sub_Mode === url.ORDER_4) {\n    page_Id = pageId.ORDER_4;\n    listPath = url.ORDER_LIST_4;\n  }\n\n  return {\n    page_Id,\n    listPath\n  };\n}\n\n;\n\nconst Order = props => {\n  _s();\n\n  const dispatch = useDispatch();\n  const history = useHistory();\n\n  const currentDate_ymd = _cfunc.date_ymd_func();\n\n  const userAdminRole = _cfunc.loginUserAdminRole();\n\n  const fileds = {\n    id: \"\",\n    Supplier: \"\",\n    Route: \"\",\n    Item: ''\n  };\n  const [state, setState] = useState(() => initialFiledFunc(fileds));\n  const [editCreatedBy, seteditCreatedBy] = useState(\"\");\n  const [page_id] = useState(() => initialState(history).page_Id);\n  const [listPath] = useState(() => initialState(history).listPath);\n  const [subPageMode] = useState(history.location.pathname);\n  const [modalCss, setModalCss] = useState(false);\n  const [pageMode, setPageMode] = useState(mode.defaultsave);\n  const [userPageAccessState, setUserAccState] = useState('');\n  const [description, setDescription] = useState('');\n  const [deliverydate, setdeliverydate] = useState(currentDate_ymd);\n  const [billAddr, setbillAddr] = useState('');\n  const [shippAddr, setshippAddr] = useState('');\n  const [poFromDate, setpoFromDate] = useState(currentDate_ymd);\n  const [poToDate, setpoToDate] = useState(currentDate_ymd);\n  const [orderdate, setorderdate] = useState(currentDate_ymd);\n  const [supplierSelect, setsupplierSelect] = useState('');\n  const [routeSelect, setRouteSelect] = useState('');\n  const [partySelect, setPartySelect] = useState('');\n  const [itemSelect, setItemSelect] = useState({\n    value: '',\n    label: \"All\"\n  });\n  const [itemSelectDropOptions, setitemSelectOptions] = useState([]);\n  const [selecedItemWiseOrder, setSelecedItemWiseOrder] = useState(true);\n  const [goBtnDissable, setGoBtnDissable] = useState(false);\n  const [orderAmount, setOrderAmount] = useState(0);\n  const [termsAndConTable, setTermsAndConTable] = useState([]);\n  const [orderTypeSelect, setorderTypeSelect] = useState('');\n  const [isOpen_assignLink, setisOpen_assignLink] = useState(false);\n  const [orderItemTable, setOrderItemTable] = useState([]);\n  const [findPartyItemAccess, setFindPartyItemAccess] = useState(false);\n  const [FSSAI_Date_Is_Expired, setFSSAI_Date_Is_Expired] = useState(\"\"); // for Order page heder dicount functionality useSate ************************************\n\n  const [discountValueAll, setDiscountValueAll] = useState(\"\");\n  const [discountTypeAll, setDiscountTypeAll] = useState({\n    value: 2,\n    label: \" % \"\n  });\n  const [discountDropOption] = useState([{\n    value: 1,\n    label: \"Rs\"\n  }, {\n    value: 2,\n    label: \"%\"\n  }]);\n  const [changeAllDiscount, setChangeAllDiscount] = useState(false);\n  const [forceReload, setForceReload] = useState(false); // ****************************************************************************\n\n  const {\n    goBtnOrderdata,\n    postMsg,\n    vendorSupplierCustomer,\n    userAccess,\n    orderType,\n    updateMsg,\n    supplierAddress,\n    pageField,\n    partyList_redux,\n    assingItemData = '',\n    approvalDetail,\n    orderApprovalMsg,\n    gobutton_Add_invoice,\n    goBtnloading,\n    saveBtnloading,\n    gotoInvoiceBtnLoading,\n    RoutesList\n  } = useSelector(state => ({\n    goBtnOrderdata: state.OrderReducer.goBtnOrderAdd,\n    vendorSupplierCustomer: state.CommonAPI_Reducer.vendorSupplierCustomer,\n    supplierAddress: state.CommonAPI_Reducer.supplierAddress,\n    orderType: state.CommonAPI_Reducer.orderType,\n    postMsg: state.OrderReducer.postMsg,\n    updateMsg: state.OrderReducer.updateMsg,\n    userAccess: state.Login.RoleAccessUpdateData,\n    pageField: state.CommonPageFieldReducer.pageField,\n    orderApprovalMsg: state.OrderReducer.orderApprovalMsg,\n    approvalDetail: state.OrderReducer.approvalDetail,\n    assingItemData: state.PartyItemsReducer.editData,\n    partyList_redux: state.PartyMasterReducer.partyList,\n    gobutton_Add_invoice: state.InvoiceReducer.gobutton_Add,\n    RoutesList: state.RoutesReducer.RoutesList,\n    goBtnloading: state.OrderReducer.loading,\n    saveBtnloading: state.OrderReducer.saveBtnloading,\n    gotoInvoiceBtnLoading: state.OrderReducer.gotoInvoiceBtnLoading\n  }));\n  ;\n  const {\n    fieldLabel\n  } = state;\n  const location = { ...history.location\n  };\n  const hasShowloction = location.hasOwnProperty(mode.editValue);\n  const hasShowModal = props.hasOwnProperty(mode.editValue);\n  useLayoutEffect(() => {\n    dispatch(_act.commonPageFieldSuccess(null));\n    dispatch(_act.GoButton_For_Order_AddSuccess(null));\n    dispatch(_act.commonPageField(page_id));\n    dispatch(_act.getTermAndCondition());\n    dispatch(_act.getOrderType());\n    dispatch(GetRoutesList());\n    dispatch(getPartyListAPI());\n    dispatch(_act.GetVenderSupplierCustomer({\n      subPageMode,\n      RouteID: \"\"\n    }));\n\n    if (!(subPageMode === url.ORDER_4)) {\n      dispatch(_act.getSupplierAddress(_cfunc.loginPartyID()));\n    }\n  }, []);\n  useEffect(() => userAccessUseEffect({\n    // userAccess useEffect \n    props,\n    userAccess,\n    dispatch,\n    setUserAccState,\n    otherloginAccss // for other pages login role access chack\n\n  }), [userAccess]);\n\n  const otherloginAccss = ind => {\n    if (ind.id === pageId.PARTYITEM && !(subPageMode === url.IB_ORDER)) {\n      setFindPartyItemAccess(true);\n    }\n  };\n\n  useEffect(() => {\n    // hasEditVal useEffect\n    if (hasShowloction || hasShowModal) {\n      let hasEditVal = null;\n\n      if (hasShowloction) {\n        setPageMode(location.pageMode);\n        hasEditVal = location.editValue;\n      } else if (hasShowModal) {\n        hasEditVal = props.editValue;\n        setPageMode(props.pageMode);\n        setModalCss(true);\n      }\n\n      if (hasEditVal) {\n        dispatch(_act.BreadcrumbShowCountlabel(`${\"Order Amount\"} :${hasEditVal.OrderAmount}`));\n        setorderdate(hasEditVal.OrderDate);\n\n        if (subPageMode === url.ORDER_4) {\n          setsupplierSelect({\n            label: hasEditVal.CustomerName,\n            value: hasEditVal.Customer\n          });\n        } else {\n          setsupplierSelect({\n            label: hasEditVal.SupplierName,\n            value: hasEditVal.Supplier\n          });\n        }\n\n        setdeliverydate(hasEditVal.DeliveryDate);\n        setshippAddr({\n          label: hasEditVal.ShippingAddress,\n          value: hasEditVal.ShippingAddressID\n        });\n        setbillAddr({\n          label: hasEditVal.BillingAddress,\n          value: hasEditVal.BillingAddressID\n        });\n        setDescription(hasEditVal.Description);\n        editVal = {};\n        editVal = hasEditVal;\n        setOrderAmount(hasEditVal.OrderAmount);\n        setorderTypeSelect({\n          value: hasEditVal.POType,\n          label: hasEditVal.POTypeName\n        });\n        setpoToDate(hasEditVal.POToDate);\n        setpoFromDate(hasEditVal.POFromDate);\n        const {\n          TermsAndConditions = []\n        } = hasEditVal;\n        const termsAndCondition = TermsAndConditions.map(i => ({\n          value: i.id,\n          label: i.TermsAndCondition,\n          IsDeleted: 0\n        }));\n        const orderItems = hasEditVal.OrderItems.map((ele, k) => {\n          ele[\"id\"] = k + 1;\n          return ele;\n        });\n        setOrderItemTable(orderItems);\n        setTermsAndConTable(termsAndCondition);\n      }\n\n      dispatch(_act.editOrderIdSuccess({\n        Status: false\n      }));\n      seteditCreatedBy(hasEditVal.CreatedBy);\n    } else {\n      dispatch(_act.BreadcrumbShowCountlabel(initial_BredcrumbMsg));\n    }\n  }, []);\n  useEffect(async () => {\n    if (postMsg.Status === true && postMsg.StatusCode === 200 && !(pageMode === mode.dropdownAdd)) {\n      dispatch(_act.saveOrderActionSuccess({\n        Status: false\n      }));\n      setSelecedItemWiseOrder(true);\n      setGoBtnDissable(false);\n      setOrderAmount(0);\n      setTermsAndConTable([]);\n      setorderTypeSelect('');\n      setisOpen_assignLink(false);\n      setOrderItemTable([]);\n      setsupplierSelect(''); // ??******************************+++++++++++++++++++++++++++++++++++++++++\n\n      const liveMode = false; // temporary not working code thats why false use line no. 253 to 289\n\n      const aprovalSapCallMode = postMsg.IsSAPCustomer > 0;\n\n      if (subPageMode === url.ORDER_2 && liveMode && aprovalSapCallMode) {\n        //        SAP OEDER-APROVUAL CODE\n        let config = {\n          orderId: postMsg.OrderID\n        };\n        dispatch(_act.getOrderApprovalDetailAction(config));\n      } else {\n        // ??******************************+++++++++++++++++++++++++++++++++++++++++++++++\n        dispatch(_act.GoButton_For_Order_AddSuccess([]));\n\n        if (subPageMode === url.ORDER_4 && postMsg.gotoInvoiceMode) {\n          const customer = supplierSelect;\n          const jsonBody = JSON.stringify({\n            OrderIDs: postMsg.OrderID.toString(),\n            FromDate: orderdate,\n            Customer: supplierSelect.value,\n            Party: _cfunc.loginPartyID()\n          });\n          dispatch(_act.GoButtonForinvoiceAdd({\n            jsonBody,\n            subPageMode: url.INVOICE_1,\n            path: url.INVOICE_1,\n            pageMode: mode.defaultsave,\n            customer,\n            errorMsg: \"Order Save Successfully But Can't Make Invoice\"\n          }));\n        } else {\n          const a = await customAlert({\n            Type: 1,\n            Message: postMsg.Message\n          });\n\n          if (a) {\n            history.push({\n              pathname: listPath\n            });\n          }\n        }\n      }\n    } else if (postMsg.Status === true && !(pageMode === mode.dropdownAdd)) {\n      dispatch(_act.saveOrderActionSuccess({\n        Status: false\n      }));\n      customAlert({\n        Type: 4,\n        Message: JSON.stringify(postMsg.Message)\n      });\n    }\n  }, [postMsg]);\n  useEffect(() => updateMsgUseEffect({\n    updateMsg,\n    modalCss,\n    history,\n    dispatch,\n    updateSuccss: _act.updateOrderIdSuccess,\n    listPath: listPath\n  }), [updateMsg]);\n  useEffect(() => pageFieldUseEffect({\n    // useEffect common pagefield for master\n    state,\n    setState,\n    pageField\n  }), [pageField]);\n  useEffect(() => table_ArrowUseEffect(\"#table_Arrow\"), [orderItemTable]);\n  useEffect(() => {\n    if (assingItemData.Status === true) {\n      setisOpen_assignLink(true);\n    }\n  }, [assingItemData]);\n  useEffect(() => {\n    if (goBtnOrderdata) {\n      let {\n        OrderItems = [],\n        TermsAndConditions = []\n      } = goBtnOrderdata;\n\n      if (!selecedItemWiseOrder) {\n        setOrderItemTable(OrderItems);\n      }\n\n      setitemSelectOptions(OrderItems.map(i => ({ ...i,\n        value: i.Item_id,\n        label: i.ItemName\n      })));\n      setTermsAndConTable(TermsAndConditions);\n      dispatch(_act.GoButton_For_Order_AddSuccess(''));\n    }\n  }, [goBtnOrderdata]);\n  useEffect(() => {\n    if (supplierAddress.length > 0 && !(hasShowloction || hasShowModal)) {\n      setbillAddr(supplierAddress[0]);\n      setshippAddr(supplierAddress[0]);\n    }\n  }, [supplierAddress]);\n  useEffect(() => {\n    if (orderType.length > 0 && !(hasShowloction || hasShowModal)) {\n      setorderTypeSelect({\n        value: orderType[0].id,\n        label: orderType[0].Name\n      });\n    }\n  }, [orderType]);\n  useEffect(() => {\n    orderApprovalFunc({\n      dispatch,\n      approvalDetail\n    });\n  }, [approvalDetail]);\n  useEffect(() => {\n    orderApprovalMessage({\n      dispatch,\n      orderApprovalMsg,\n      listPath,\n      history\n    });\n  }, [orderApprovalMsg]);\n  useEffect(() => {\n    try {\n      document.getElementById(\"__assignItem_onClick\").style.display = supplierSelect.value > 0 && findPartyItemAccess && !goBtnloading ? \"block\" : \"none\";\n    } catch (e) {}\n  }, [goBtnloading, supplierSelect, findPartyItemAccess]);\n  useEffect(() => {\n    if (gobutton_Add_invoice.Status === true && gobutton_Add_invoice.StatusCode === 200) {\n      history.push({\n        pathname: gobutton_Add_invoice.path\n      });\n    }\n  }, [gobutton_Add_invoice]);\n  const supplierOptions = vendorSupplierCustomer.map(i => ({\n    value: i.id,\n    label: i.Name,\n    FSSAIExipry: i.FSSAIExipry,\n    GSTIN: i.GSTIN,\n    FSSAINo: i.FSSAINo,\n    IsTCSParty: i.IsTCSParty,\n    ISCustomerPAN: i.PAN\n  }));\n  const orderTypeOptions = orderType.map(i => ({\n    value: i.id,\n    label: i.Name\n  }));\n  const Party_DropdownOptions = partyList_redux.map(data => ({\n    value: data.id,\n    label: data.Name\n  }));\n  const RoutesListOptions = RoutesList.map(index => ({\n    value: index.id,\n    label: index.Name,\n    IsActive: index.IsActive\n  }));\n  const RouteOptions = RoutesListOptions.filter(index => {\n    return index.IsActive === true;\n  });\n  RouteOptions.unshift({\n    value: \"\",\n    label: \"All\"\n  });\n  const pagesListColumns = [{\n    dataField: \"GroupName\",\n    text: \"Group\",\n    classes: 'table-cursor-pointer',\n    sort: true,\n    headerStyle: () => {\n      return {\n        minWidth: '100px',\n        textAlign: 'center'\n      };\n    }\n  }, {\n    dataField: \"SubGroupName\",\n    text: \"SubGroup\",\n    classes: 'table-cursor-pointer',\n    sort: true,\n    headerStyle: () => {\n      return {\n        minWidth: '100px',\n        textAlign: 'center'\n      };\n    }\n  }, {\n    //------------- ItemName column ----------------------------------\n    dataField: \"ItemName\",\n    text: \"Item Name\",\n    classes: 'table-cursor-pointer',\n    sort: true,\n    headerStyle: () => {\n      return {\n        minWidth: '200px',\n        textAlign: 'center'\n      };\n    },\n    sortValue: (cell, row) => row[\"ItemName\"],\n    headerFormatter: (value, row, k, f) => {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"d-flex justify-content-between\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: \"Item Name\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 467,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          onClick: assignItem_onClick,\n          children: /*#__PURE__*/_jsxDEV(\"samp\", {\n            id: \"__assignItem_onClick\",\n            style: {\n              display: \"none\",\n              cursor: \"pointer\"\n            },\n            className: \"text-primary fst-italic text-decoration-underline\",\n            children: \"Assign-Items\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 471,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 470,\n          columnNumber: 25\n        }, this)]\n      }, row.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 466,\n        columnNumber: 21\n      }, this);\n    }\n  }, {\n    dataField: \"StockQuantity\",\n    text: \"Stock Quantity\",\n    classes: 'table-cursor-pointer',\n    align: () => \"right\",\n    sort: true,\n    headerStyle: () => {\n      return {\n        minWidth: '100px',\n        textAlign: 'center'\n      };\n    }\n  }, {\n    //------------- Quantity column ----------------------------------\n    text: \"Quantity\",\n    classes: 'table-cursor-pointer',\n    headerStyle: () => {\n      return {\n        width: '10%',\n        textAlign: 'center'\n      };\n    },\n    formatExtraData: {\n      tableList: orderItemTable\n    },\n    formatter: (value, row, k, _ref) => {\n      let {\n        tableList\n      } = _ref;\n      return /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: /*#__PURE__*/_jsxDEV(CInput, {\n          id: `Quantity-${k}`,\n          cpattern: onlyNumberRegx,\n          defaultValue: row.Quantity,\n          autoComplete: \"off\",\n          className: \" text-end\",\n          onChange: e => {\n            row[\"Quantity\"] = e.target.value;\n            itemWise_CalculationFunc(row, undefined, tableList);\n          }\n        }, `Quantity-${k}`, false, {\n          fileName: _jsxFileName,\n          lineNumber: 502,\n          columnNumber: 25\n        }, this)\n      }, void 0, false);\n    }\n  }, {\n    //------------- Unit column ----------------------------------\n    text: \"Unit\",\n    classes: 'table-cursor-pointer',\n    dataField: \"\",\n    headerStyle: () => {\n      return {\n        width: '9%',\n        textAlign: 'center'\n      };\n    },\n    formatExtraData: {\n      tableList: orderItemTable\n    },\n    formatter: (value, row, key, _ref2) => {\n      let {\n        tableList\n      } = _ref2;\n\n      if (!row.UnitName) {\n        row[\"Unit_id\"] = 0;\n        row[\"UnitName\"] = 'null';\n        row.UnitDetails.forEach(i => {\n          if (i.PODefaultUnit && !(subPageMode === url.ORDER_4)) {\n            defaultUnit(i);\n          } else if (i.SODefaultUnit && subPageMode === url.ORDER_4) {\n            defaultUnit(i);\n          }\n        }); // ********************** //if default unit is not selected then auto first indx unit select\n\n        if (row[\"UnitName\"] === 'null' && row.UnitDetails.length > 0) {\n          defaultUnit(row.UnitDetails[0]);\n        } // **********************                   \n\n\n        function defaultUnit(i) {\n          row[\"Unit_id\"] = i.UnitID;\n          row[\"po_Unit_id\"] = i.UnitID;\n          row[\"UnitName\"] = i.UnitName;\n          row[\"BaseUnitQuantity\"] = i.BaseUnitQuantity;\n          row[\"Rate\"] = (i.BaseUnitQuantity / i.BaseUnitQuantityNoUnit * i.Rate).toFixed(2);\n        }\n      } else {\n        row.UnitDetails.forEach(i => {\n          if (row.Unit_id === i.UnitID) {\n            row[\"BaseUnitQuantity\"] = i.BaseUnitQuantity;\n            row[\"UnitName\"] = i.UnitName;\n          }\n        });\n      }\n\n      if (pageMode === mode.edit) {\n        if (!row[\"edit_Qty\"]) {\n          if (row.Quantity > 0) {\n            row[\"editrowId\"] = true;\n            row[\"edit_Qty\"] = row.Quantity;\n          } else {\n            row[\"edit_Qty\"] = 0;\n            row[\"editrowId\"] = false;\n          }\n        }\n\n        if (!row[\"edit_Unit_id\"]) {\n          row[\"edit_Unit_id\"] = row.Unit_id;\n        }\n\n        if (!row[\"edit_Discount\"]) {\n          row[\"edit_Discount\"] = row.Discount;\n        }\n\n        if (!row[\"edit_DiscountType\"]) {\n          row[\"edit_DiscountType\"] = row.DiscountType;\n        }\n      }\n\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(Select, {\n          id: \"ddlUnit\",\n          defaultValue: {\n            value: row.Unit_id,\n            label: row.UnitName\n          },\n          options: row.UnitDetails.map(i => ({\n            label: i.UnitName,\n            value: i.UnitID,\n            BaseUnitQuantity: i.BaseUnitQuantity,\n            Rate: i.Rate,\n            BaseUnitQuantityNoUnit: i.BaseUnitQuantityNoUnit\n          })),\n          onChange: e => {\n            row[\"Unit_id\"] = e.value;\n            row[\"UnitName\"] = e.label;\n            row[\"BaseUnitQuantity\"] = e.BaseUnitQuantity;\n            row[\"Rate\"] = (e.BaseUnitQuantity / e.BaseUnitQuantityNoUnit * e.Rate).toFixed(2);\n            itemWise_CalculationFunc(row, undefined, tableList);\n            document.getElementById(`Rate-${key}`).innerText = _cfunc.amountCommaSeparateFunc(row.Rate);\n          }\n        }, `ddlUnit${row.id}`, false, {\n          fileName: _jsxFileName,\n          lineNumber: 592,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 591,\n        columnNumber: 21\n      }, this);\n    }\n  }, {\n    //------------- Rate column ----------------------------------\n    text: \"Basic Rate\",\n    classes: 'table-cursor-pointer',\n    dataField: \"\",\n    headerStyle: () => {\n      return {\n        width: '9%',\n        textAlign: 'center'\n      };\n    },\n    formatExtraData: {\n      tableList: orderItemTable\n    },\n    formatter: (value, row, k, _ref3) => {\n      let {\n        tableList\n      } = _ref3;\n\n      if (subPageMode === url.ORDER_1) {\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-end\",\n          children: /*#__PURE__*/_jsxDEV(CInput, {\n            type: \"text\",\n            id: `Rate-${k}`,\n            cpattern: decimalRegx,\n            defaultValue: row.Rate,\n            className: \"text-end\",\n            onChange: event => {\n              row.Rate = event.target.value;\n              itemWise_CalculationFunc(row, undefined, tableList);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 636,\n            columnNumber: 29\n          }, this)\n        }, row.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 635,\n          columnNumber: 25\n        }, this);\n      } else {\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-end\",\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            id: `Rate-${k}`,\n            children: _cfunc.amountCommaSeparateFunc(row.Rate)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 656,\n            columnNumber: 29\n          }, this)\n        }, row.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 654,\n          columnNumber: 25\n        }, this);\n      }\n    }\n  }, {\n    //------------- MRP column ----------------------------------\n    text: \"MRP\",\n    classes: 'table-cursor-pointer',\n    dataField: \"\",\n    headerStyle: () => {\n      return {\n        width: '8%',\n        textAlign: 'center'\n      };\n    },\n    formatter: (value, row, k) => {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-end\",\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          children: row.MRPValue\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 676,\n          columnNumber: 25\n        }, this)\n      }, row.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 675,\n        columnNumber: 21\n      }, this);\n    }\n  }, {\n    //***************Discount********************************************************************* */\n    text: \"Discount/unit\",\n    dataField: \"\",\n    formatExtraData: {\n      discountValueAll: discountValueAll,\n      discountTypeAll: discountTypeAll,\n      changeAllDiscount: changeAllDiscount,\n      forceReload: forceReload,\n      tableList: orderItemTable\n    },\n    headerStyle: () => {\n      return {\n        width: '11%',\n        textAlign: 'center'\n      };\n    },\n    headerFormatter: () => {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"\",\n        children: orderItemTable.length <= 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col col-3 mt-2\",\n          children: /*#__PURE__*/_jsxDEV(Label, {\n            children: \"Discount/unit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 700,\n            columnNumber: 33\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 699,\n          columnNumber: 29\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \" mt-n2 mb-n2\",\n            children: /*#__PURE__*/_jsxDEV(Label, {\n              children: \"Discount/unit\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 705,\n              columnNumber: 37\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 704,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col col-6\",\n            children: /*#__PURE__*/_jsxDEV(Select, {\n              type: \"text\",\n              defaultValue: discountTypeAll,\n              classNamePrefix: \"select2-selection\",\n              options: discountDropOption,\n              style: {\n                textAlign: \"right\"\n              },\n              onChange: e => {\n                setChangeAllDiscount(true);\n                setDiscountTypeAll(e);\n                setDiscountValueAll('');\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 708,\n              columnNumber: 37\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 707,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col col-6\",\n            children: /*#__PURE__*/_jsxDEV(CInput, {\n              type: \"text\",\n              className: \"input\",\n              style: {\n                textAlign: \"right\"\n              },\n              cpattern: decimalRegx,\n              value: discountValueAll,\n              onChange: e => {\n                let e_val = Number(e.target.value); // Check if discount type is \"percentage\"\n\n                if (discountTypeAll.value === 2) {\n                  // Discount type 2 represents \"percentage\"\n                  // Limit the input to the range of 0 to 100\n                  if (e_val > 100) {\n                    e.target.value = 100; // Set the input value to 100 if it exceeds 100\n                  } else if (!(e_val >= 0 && e_val < 100)) {\n                    e.target.value = \"\"; // Clear the input value if it is less than 0\n                  }\n                }\n\n                setChangeAllDiscount(true);\n                setDiscountValueAll(e.target.value);\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 722,\n              columnNumber: 37\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 721,\n            columnNumber: 33\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 703,\n          columnNumber: 29\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 697,\n        columnNumber: 21\n      }, this);\n    },\n    classes: () => \"order-discount-row\",\n    formatter: (cellContent, index1, key, formatExtraData) => {\n      let {\n        tableList,\n        discountValueAll,\n        discountTypeAll\n      } = formatExtraData;\n\n      if (formatExtraData.changeAllDiscount) {\n        index1.Discount = discountValueAll;\n        index1.DiscountType = discountTypeAll.value;\n        itemWise_CalculationFunc(index1, undefined, tableList);\n      }\n\n      if (!index1.DiscountType) {\n        index1.DiscountType = discountTypeAll.value;\n      }\n\n      const defaultDiscountTypelabel = index1.DiscountType === 1 ? discountDropOption[0] : discountDropOption[1];\n      return /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-2\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"parent\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"child\",\n              children: /*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"label\",\n                children: \"Type\\xA0\\xA0\\xA0\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 771,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 770,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"child\",\n              children: /*#__PURE__*/_jsxDEV(Select, {\n                id: `DicountType_${key}`,\n                classNamePrefix: \"select2-selection\",\n                value: defaultDiscountTypelabel,\n                options: discountDropOption,\n                onChange: e => {\n                  setChangeAllDiscount(false);\n                  setForceReload(!forceReload);\n                  index1.DiscountType = e.value;\n                  index1.Discount = '';\n                  itemWise_CalculationFunc(index1, undefined, tableList);\n                }\n              }, `DicountType_${key}-${index1.id}`, false, {\n                fileName: _jsxFileName,\n                lineNumber: 774,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 773,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 769,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 768,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"parent\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"child\",\n              children: /*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"label\",\n                children: \"Value\\xA0\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 794,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 793,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"child\",\n              children: /*#__PURE__*/_jsxDEV(CInput, {\n                className: \"input\",\n                id: `Dicount_${key}-${index1.id}`,\n                style: {\n                  textAlign: \"right\"\n                },\n                type: \"text\",\n                value: index1.Discount,\n                cpattern: decimalRegx,\n                onChange: e => {\n                  let e_val = Number(e.target.value); // Check if discount type is \"percentage\"\n\n                  if (index1.DiscountType === 2) {\n                    // Discount type 2 represents \"percentage\"\n                    // Limit the input to the range of 0 to 100\n                    if (e_val > 100) {\n                      e.target.value = 100; // Set the input value to 100 if it exceeds 100\n                    } else if (!(e_val >= 0 && e_val < 100)) {\n                      e.target.value = ''; // Clear the input value if it is less than 0\n                    }\n                  }\n\n                  index1.Discount = e.target.value;\n                  setChangeAllDiscount(false);\n                  setForceReload(!forceReload);\n                  itemWise_CalculationFunc(index1, undefined, tableList);\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 797,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 796,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 792,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 791,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true);\n    }\n  }, {\n    //------------- Comment column ----------------------------------\n    text: \"Comment\",\n    classes: 'table-cursor-pointer',\n    dataField: \"\",\n    formatter: (value, row, k) => {\n      return /*#__PURE__*/_jsxDEV(\"span\", {\n        children: /*#__PURE__*/_jsxDEV(Input, {\n          type: \"text\",\n          id: `Comment${k}`,\n          defaultValue: row.Comment,\n          autoComplete: \"off\",\n          onChange: e => {\n            row[\"Comment\"] = e.target.value;\n          }\n        }, `Comment${row.id}`, false, {\n          fileName: _jsxFileName,\n          lineNumber: 844,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 843,\n        columnNumber: 21\n      }, this);\n    },\n    headerStyle: () => {\n      return {\n        width: '9%',\n        textAlign: 'center'\n      };\n    }\n  }];\n  const defaultSorted = [{\n    dataField: \"ItemName\",\n    // if dataField is not match to any column you defined, it will be ignored.\n    order: \"asc\" // desc or asc\n\n  }];\n\n  function orderdateOnchange(e, date) {\n    setorderdate(date);\n  }\n\n  ;\n\n  function supplierOnchange(e) {\n    setsupplierSelect(e);\n\n    if (subPageMode === url.ORDER_4) {\n      dispatch(_act.getSupplierAddress(e.value));\n      let Date = currentDate_ymd;\n\n      if (e.FSSAIExipry === \"\" || e.FSSAIExipry === null) {\n        setFSSAI_Date_Is_Expired(\"There is No FSSAI Expiry Date Please Insert FSSAI Date!\");\n      } else if (e.FSSAIExipry < Date) {\n        setFSSAI_Date_Is_Expired(\"FSSAI Expired\");\n      } else {\n        setFSSAI_Date_Is_Expired(\"\");\n      }\n    }\n\n    setOrderItemTable([]);\n    setItemSelect('');\n    goButtonHandler(e.value);\n  }\n\n  ;\n\n  function partyOnchange(e) {\n    setPartySelect(e);\n  }\n\n  ;\n\n  function itemSelectOnchange(e) {\n    setItemSelect(e);\n  }\n\n  ;\n\n  function Open_Assign_func() {\n    setisOpen_assignLink(false);\n    dispatch(_act.editPartyItemIDSuccess({\n      Status: false\n    }));\n\n    _cfunc.breadcrumbReturnFunc({\n      dispatch,\n      userAcc: userPageAccessState\n    });\n\n    goButtonHandler();\n  }\n\n  ;\n\n  function RouteOnChange(event) {\n    setsupplierSelect('');\n    dispatch(_act.GetVenderSupplierCustomer({\n      subPageMode,\n      RouteID: event.value\n    }));\n    setRouteSelect(event);\n  }\n\n  async function assignItem_onClick(event) {\n    event.stopPropagation();\n    const isParty = subPageMode === url.ORDER_1 ? supplierSelect.value : _cfunc.loginPartyID();\n    const config = {\n      editId: isParty,\n      Party: isParty,\n      btnmode: mode.assingLink,\n      subPageMode,\n      btnId: `btn-assingLink-${supplierSelect.value}`\n    };\n    const isConfirmed = await customAlert({\n      Type: 7,\n      Message: \"Do you confirm your choice?\"\n    });\n\n    if (isConfirmed) {\n      const jsonBody = JSON.stringify({ ..._cfunc.loginJsonBody(),\n        ...{\n          PartyID: isParty\n        }\n      });\n      dispatch(editPartyItemID({\n        jsonBody,\n        config\n      }));\n      dispatch(_act.GoButton_For_Order_AddSuccess([]));\n    }\n\n    ;\n  }\n\n  ;\n\n  function itemWise_CalculationFunc(row, IsComparGstIn, tableList) {\n    const calculate = orderCalculateFunc(row); //order calculation function \n\n    row[\"roundedTotalAmount\"] = calculate.roundedTotalAmount;\n    let sumOfAmount = tableList.reduce((accumulator, currentObject) => accumulator + (Number(currentObject[\"roundedTotalAmount\"]) || 0), 0);\n    setOrderAmount(sumOfAmount.toFixed(2));\n    dispatch(_act.BreadcrumbShowCountlabel(`${\"Order Amount\"} :${_cfunc.amountCommaSeparateFunc(sumOfAmount)}`));\n  }\n\n  ;\n\n  const item_AddButtonHandler = () => {\n    setGoBtnDissable(true);\n    let isfound = orderItemTable.find(i => i.value === itemSelect.value);\n\n    if (!itemSelect) {\n      customAlert({\n        Type: 4,\n        Message: `Select Item Name`\n      });\n    } else if (isfound === undefined) {\n      setOrderItemTable([itemSelect].concat(orderItemTable));\n    } else {\n      customAlert({\n        Type: 3,\n        Message: \"This Item Already Exist\"\n      });\n    }\n\n    setItemSelect('');\n  };\n\n  const goButtonHandler = async selectSupplier => {\n    if (!supplierSelect > 0 && !selectSupplier) {\n      await customAlert({\n        Type: 4,\n        Message: `Please Select ${fieldLabel.Supplier}`\n      });\n      return;\n    }\n\n    let btnId = `go-btn${subPageMode}`;\n\n    _cfunc.btnIsDissablefunc({\n      btnId,\n      state: true\n    });\n\n    dispatch(_act.BreadcrumbShowCountlabel(initial_BredcrumbMsg));\n    let PO_Body = {\n      Party: selectSupplier ? selectSupplier : supplierSelect.value,\n      Customer: _cfunc.loginPartyID(),\n      RateParty: _cfunc.loginPartyID(),\n      EffectiveDate: orderdate,\n      OrderID: pageMode === mode.defaultsave ? 0 : editVal.id,\n      OrderType: order_Type.PurchaseOrder\n    };\n    let SO_body = {\n      Party: _cfunc.loginPartyID(),\n      //swap  party and customer for sale oerder\n      Customer: selectSupplier ? selectSupplier : supplierSelect.value,\n      //swap  party and customer for sale oerder\n      RateParty: selectSupplier ? selectSupplier : supplierSelect.value,\n      EffectiveDate: orderdate,\n      OrderID: pageMode === mode.defaultsave ? 0 : editVal.id,\n      OrderType: order_Type.SaleOrder\n    };\n    let jsonBody; //json body decleration \n\n    if (subPageMode === url.ORDER_4) {\n      jsonBody = JSON.stringify({ ...SO_body\n      });\n    } else {\n      jsonBody = JSON.stringify({ ...PO_Body\n      });\n    }\n\n    let config = {\n      subPageMode,\n      jsonBody,\n      btnId\n    };\n    dispatch(_act.GoButton_For_Order_Add(config));\n  };\n\n  const saveHandler1 = async event => {\n    event.preventDefault();\n    const btnId = event.target.id;\n    const gotoInvoiceMode = btnId.substring(0, 14) === \"gotoInvoiceBtn\";\n\n    try {\n      const division = _cfunc.loginPartyID();\n\n      const supplier = supplierSelect.value;\n      const validMsg = [];\n      const itemArr = [];\n      const isVDC_POvalidMsg = [];\n      let IsComparGstIn = {\n        GSTIn_1: supplierSelect.GSTIN,\n        GSTIn_2: _cfunc.loginUserGSTIN()\n      };\n      await orderItemTable.forEach(i => {\n        if (i.Quantity > 0 && !(i.Rate > 0)) {\n          validMsg.push({\n            [i.ItemName]: \"This Item Rate Is Require...\"\n          });\n        } else if (pageMode === mode.edit) {\n          const ischange = !(Number(i.edit_Qty) === Number(i.Quantity)) || !(i.edit_Unit_id === i.Unit_id);\n          let isedit = 0;\n\n          if (ischange && !(i.edit_Qty === 0)) {\n            isedit = 1;\n          }\n\n          orderItemFunc({\n            i,\n            isedit\n          });\n        } else {\n          const isedit = 0;\n          orderItemFunc({\n            i,\n            isedit\n          });\n        }\n\n        ;\n      });\n\n      function orderItemFunc(_ref4) {\n        let {\n          i,\n          isedit\n        } = _ref4;\n        i.Quantity = i.Quantity === null || i.Quantity === undefined ? 0 : i.Quantity;\n\n        if (i.Quantity > 0 && i.Rate > 0 && !(orderTypeSelect.value === 3)) {\n          var isdel = false;\n          isRowValueChanged({\n            i,\n            isedit,\n            isdel\n          });\n        } else if (!(i.Quantity < 0) && i.editrowId && !(orderTypeSelect.value === 3)) {\n          var isdel = true;\n          isRowValueChanged({\n            i,\n            isedit,\n            isdel\n          });\n        } else if (!(i.Quantity < 0) && !i.editrowId && !(orderTypeSelect.value === 3)) {\n          return;\n        } else if (i.Quantity > 0 && i.Rate > 0) {\n          //isvdc_po logic\n          if (i.Bom) {\n            if (itemArr.length === 0) {\n              const isdel = false;\n              isRowValueChanged({\n                i,\n                isedit,\n                isdel\n              });\n            } else {\n              if (isVDC_POvalidMsg.length === 0) isVDC_POvalidMsg.push({\n                [\"VDC-PO Type\"]: \"This Type Of Order Only One Item Quantity Accept...\"\n              });\n            }\n          } else {\n            isVDC_POvalidMsg.push({\n              [i.ItemName]: \"This Is Not VDC-PO Item...\"\n            });\n          }\n        } else if (i.Quantity < 1 && i.editrowId) {\n          if (i.Bom) {\n            if (itemArr.length === 0) {\n              const isdel = true;\n              isRowValueChanged({\n                i,\n                isedit,\n                isdel\n              });\n            } else {\n              if (isVDC_POvalidMsg.length === 0) isVDC_POvalidMsg.push({\n                [\"VDC-PO Type\"]: \"This Type of order Only One Item Quantity Accept...\"\n              });\n            }\n          } else {\n            isVDC_POvalidMsg.push({\n              [i.ItemName]: \"This Is Not VDC-PO Item...\"\n            });\n          }\n        }\n\n        ;\n      } // IsComparGstIn= compare Supplier and Customer are Same State by GSTIn Number\n\n\n      function isRowValueChanged(_ref5) {\n        let {\n          i,\n          isedit,\n          isdel\n        } = _ref5;\n        const calculate = orderCalculateFunc(i, IsComparGstIn);\n        const arr = {\n          Item: i.Item_id,\n          Quantity: isdel ? 0 : i.Quantity,\n          MRP: i.MRP_id,\n          MRPValue: i.MRPValue,\n          Rate: i.Rate,\n          Unit: i.Unit_id,\n          BaseUnitQuantity: (Number(i.BaseUnitQuantity) * Number(i.Quantity)).toFixed(2),\n          Margin: \"\",\n          GST: i.GST_id,\n          CGST: calculate.CGST_Amount,\n          SGST: calculate.SGST_Amount,\n          IGST: calculate.IGST_Amount,\n          GSTPercentage: calculate.GST_Percentage,\n          CGSTPercentage: calculate.CGST_Percentage,\n          SGSTPercentage: calculate.SGST_Percentage,\n          IGSTPercentage: calculate.IGST_Percentage,\n          BasicAmount: calculate.basicAmount,\n          GSTAmount: calculate.roundedGstAmount,\n          Amount: calculate.roundedTotalAmount,\n          TaxType: 'GST',\n          DiscountType: i.DiscountType,\n          Discount: Number(i.Discount) || 0,\n          DiscountAmount: Number(calculate.disCountAmt).toFixed(2),\n          IsDeleted: isedit,\n          Comment: i.Comment\n        };\n        itemArr.push(arr);\n      }\n\n      ;\n      const termsAndCondition = await termsAndConTable.map(i => ({\n        TermsAndCondition: i.value,\n        IsDeleted: i.IsDeleted\n      }));\n\n      if (isVDC_POvalidMsg.length > 0) {\n        customAlert({\n          Type: 4,\n          Message: isVDC_POvalidMsg\n        });\n        return;\n      }\n\n      ;\n\n      if (validMsg.length > 0) {\n        customAlert({\n          Type: 4,\n          Message: validMsg\n        });\n        return;\n      }\n\n      if (itemArr.length === 0) {\n        customAlert({\n          Type: 4,\n          Message: \"Please Select 1 Item Quantity\"\n        });\n        return;\n      }\n\n      if (orderTypeSelect.length === 0) {\n        customAlert({\n          Type: 4,\n          Message: \"Please Select PO Type\"\n        });\n        return;\n      }\n\n      if (termsAndCondition.length === 0 && !(subPageMode === url.ORDER_2) && !(subPageMode === url.ORDER_4) && !(subPageMode === url.IB_ORDER)) {\n        customAlert({\n          Type: 4,\n          Message: \"Please Enter One Terms And Condition\"\n        });\n        return;\n      }\n\n      const po_JsonBody = {\n        OrderDate: orderdate,\n        OrderAmount: orderAmount,\n        OrderItem: itemArr,\n        Customer: division,\n        Supplier: supplier,\n        OrderType: order_Type.PurchaseOrder,\n        IsConfirm: false // PO Order then IsConfirm true\n\n      };\n      const SO_JsonBody = {\n        OrderDate: orderdate,\n        OrderAmount: orderAmount,\n        OrderItem: itemArr,\n        Customer: supplier,\n        // swipe supllier \n        Supplier: division,\n        // swipe Customer\n        OrderType: order_Type.SaleOrder,\n        IsConfirm: true // SO Order then IsConfirm true\n\n      };\n      const IB_JsonBody = {\n        DemandDate: orderdate,\n        DemandAmount: orderAmount,\n        DemandItem: itemArr,\n        Customer: division,\n        Supplier: supplier,\n        OrderType: order_Type.PurchaseOrder\n      };\n      const comm_jsonBody = {\n        DeliveryDate: deliverydate,\n        Description: description,\n        BillingAddress: billAddr.value,\n        ShippingAddress: shippAddr.value,\n        OrderNo: 1,\n        FullOrderNumber: \"PO0001\",\n        Division: division,\n        POType: orderTypeSelect.value,\n        POFromDate: orderTypeSelect.value === 1 ? currentDate_ymd : poFromDate,\n        POToDate: orderTypeSelect.value === 1 ? currentDate_ymd : poToDate,\n        CreatedBy: _cfunc.loginUserID(),\n        UpdatedBy: _cfunc.loginUserID(),\n        OrderTermsAndConditions: termsAndCondition\n      };\n      let jsonBody; //json body decleration \n\n      if (subPageMode === url.IB_ORDER) {\n        jsonBody = JSON.stringify({ ...comm_jsonBody,\n          ...IB_JsonBody\n        });\n      } else if (subPageMode === url.ORDER_4) {\n        jsonBody = JSON.stringify({ ...comm_jsonBody,\n          ...SO_JsonBody\n        });\n      } else {\n        jsonBody = JSON.stringify({ ...comm_jsonBody,\n          ...po_JsonBody\n        });\n      } // +*********************************\n\n\n      if (pageMode === mode.edit) {\n        dispatch(_act.updateOrderIdAction({\n          jsonBody,\n          updateId: editVal.id,\n          gotoInvoiceMode\n        }));\n      } else {\n        dispatch(_act.saveOrderAction({\n          jsonBody,\n          subPageMode,\n          gotoInvoiceMode\n        }));\n      }\n    } catch (e) {\n      _cfunc.CommonConsole(\"order_save_\", e);\n    }\n  }; // Function to handle the form submission\n\n\n  const saveHandler = async event => {\n    event.preventDefault(); // Extract the ID from the target element\n\n    const buttonId = event.target.id;\n    const gotoInvoiceMode = buttonId.substring(0, 14) === \"gotoInvoiceBtn\";\n\n    try {\n      // Get the division from the loginPartyID function\n      const division = _cfunc.loginPartyID();\n\n      const supplier = supplierSelect.value;\n      const validationMessages = []; // Stores validation messages for items\n\n      const orderItems = []; // Stores processed order items\n\n      const vdcPoValidationMessages = []; // Stores VDC-PO validation messages\n      // Loop through the order items\n\n      await orderItemTable.forEach(item => {\n        // Check for item quantity and rate validity\n        if (item.Quantity > 0 && !(item.Rate > 0)) {\n          validationMessages.push({\n            [item.ItemName]: \"This Item Rate Is Required...\"\n          });\n        } else if (pageMode === mode.edit) {\n          // Check if the item quantity or unit has changed in edit mode\n          const isChange = !(Number(item.edit_Qty) === Number(item.Quantity)) || !(item.edit_Unit_id === item.Unit_id) || !(Number(item.edit_Discount) === Number(item.Discount)) || !(Number(item.edit_DiscountType) === Number(item.DiscountType));\n          let isEdit = 0;\n\n          if (isChange && !(item.edit_Qty === 0)) {\n            isEdit = 1;\n          }\n\n          processOrderItem({\n            item,\n            isEdit\n          });\n        } else {\n          const isEdit = 0;\n          processOrderItem({\n            item,\n            isEdit\n          });\n        }\n      }); // Function to handle order items\n\n      function processOrderItem(_ref6) {\n        let {\n          item,\n          isEdit\n        } = _ref6;\n        // Handle quantity for null or undefined values\n        item.Quantity = !Number(item.Quantity) ? 0 : item.Quantity; // Check various conditions for item processing\n\n        if (item.Quantity > 0 && item.Rate > 0 && !(orderTypeSelect.value === 3)) {\n          // Item is not deleted and has value changes\n          processValueChanged({\n            item,\n            isEdit,\n            isDelete: false\n          });\n        } else if (!(item.Quantity < 0) && item.editrowId && !(orderTypeSelect.value === 3)) {\n          // Item is deleted (set quantity to 0) and has value changes\n          processValueChanged({\n            item,\n            isEdit,\n            isDelete: true\n          });\n        } else if (!(item.Quantity < 0) && !item.editrowId && !(orderTypeSelect.value === 3)) {\n          // Item is not deleted and has no value changes, skip\n          return;\n        } else if (item.Quantity > 0 && item.Rate > 0) {\n          // Logic for VDC-PO\n          if (item.Bom) {\n            if (orderItems.length === 0) {\n              // First VDC-PO item, not deleted and has value changes\n              processValueChanged({\n                item,\n                isEdit,\n                isDelete: false\n              });\n            } else {\n              if (vdcPoValidationMessages.length === 0) {\n                vdcPoValidationMessages.push({\n                  [\"VDC-PO Type\"]: \"This Type Of Order Only One Item Quantity Accept...\"\n                });\n              }\n            }\n          } else {\n            vdcPoValidationMessages.push({\n              [item.ItemName]: \"This Is Not VDC-PO Item...\"\n            });\n          }\n        } else if (item.Quantity < 1 && item.editrowId) {\n          if (item.Bom) {\n            if (orderItems.length === 0) {\n              // First VDC-PO item, deleted and has value changes\n              processValueChanged({\n                item,\n                isEdit,\n                isDelete: true\n              });\n            } else {\n              if (vdcPoValidationMessages.length === 0) {\n                vdcPoValidationMessages.push({\n                  [\"VDC-PO Type\"]: \"This Type of order Only One Item Quantity Accept...\"\n                });\n              }\n            }\n          } else {\n            vdcPoValidationMessages.push({\n              [item.ItemName]: \"This Is Not VDC-PO Item...\"\n            });\n          }\n        }\n      } // Function to handle value changes in order items\n\n\n      function processValueChanged(_ref7) {\n        let {\n          item,\n          isEdit,\n          isDelete\n        } = _ref7;\n        const calculated = orderCalculateFunc(item, {\n          GSTIn_1: supplierSelect.GSTIN,\n          GSTIn_2: _cfunc.loginUserGSTIN()\n        }); // Create an object for the order item\n\n        const orderItem = {\n          Item: item.Item_id,\n          Quantity: isDelete ? 0 : item.Quantity,\n          MRP: item.MRP_id,\n          MRPValue: item.MRPValue,\n          Rate: item.Rate,\n          Unit: item.Unit_id,\n          BaseUnitQuantity: (Number(item.BaseUnitQuantity) * Number(item.Quantity)).toFixed(2),\n          Margin: \"\",\n          GST: item.GST_id,\n          CGST: calculated.CGST_Amount,\n          SGST: calculated.SGST_Amount,\n          IGST: calculated.IGST_Amount,\n          GSTPercentage: calculated.GST_Percentage,\n          CGSTPercentage: calculated.CGST_Percentage,\n          SGSTPercentage: calculated.SGST_Percentage,\n          IGSTPercentage: calculated.IGST_Percentage,\n          BasicAmount: calculated.basicAmount,\n          GSTAmount: calculated.roundedGstAmount,\n          Amount: calculated.roundedTotalAmount,\n          TaxType: 'GST',\n          DiscountType: item.DiscountType,\n          Discount: Number(item.Discount) || 0,\n          DiscountAmount: Number(calculated.disCountAmt).toFixed(2),\n          IsDeleted: isEdit,\n          // Set to 1 if item is edited, otherwise 0 for delete\n          Comment: item.Comment\n        };\n        orderItems.push(orderItem);\n      } // Get terms and conditions\n\n\n      const termsAndConditions = await termsAndConTable.map(item => ({\n        TermsAndCondition: item.value,\n        IsDeleted: item.IsDeleted\n      })); // Check for any validation errors\n\n      if (vdcPoValidationMessages.length > 0) {\n        customAlert({\n          Type: 4,\n          Message: vdcPoValidationMessages\n        });\n        return;\n      }\n\n      if (validationMessages.length > 0) {\n        customAlert({\n          Type: 4,\n          Message: validationMessages\n        });\n        return;\n      }\n\n      if (orderItems.length === 0) {\n        customAlert({\n          Type: 4,\n          Message: \"Please Select 1 Item Quantity\"\n        });\n        return;\n      }\n\n      if (orderTypeSelect.length === 0) {\n        customAlert({\n          Type: 4,\n          Message: \"Please Select PO Type\"\n        });\n        return;\n      }\n\n      if (termsAndConditions.length === 0 && !(subPageMode === url.ORDER_2) && !(subPageMode === url.ORDER_4) && !(subPageMode === url.IB_ORDER)) {\n        customAlert({\n          Type: 4,\n          Message: \"Please Enter One Terms And Condition\"\n        });\n        return;\n      }\n\n      const po_JsonBody = {\n        OrderDate: orderdate,\n        OrderAmount: orderAmount,\n        OrderItem: orderItems,\n        Customer: division,\n        Supplier: supplier,\n        OrderType: order_Type.PurchaseOrder,\n        IsConfirm: false // PO Order then IsConfirm true\n\n      };\n      const SO_JsonBody = {\n        OrderDate: orderdate,\n        OrderAmount: orderAmount,\n        OrderItem: orderItems,\n        Customer: supplier,\n        // swipe supllier \n        Supplier: division,\n        // swipe Customer\n        OrderType: order_Type.SaleOrder,\n        IsConfirm: true // SO Order then IsConfirm true\n\n      };\n      const IB_JsonBody = {\n        DemandDate: orderdate,\n        DemandAmount: orderAmount,\n        DemandItem: orderItems,\n        Customer: division,\n        Supplier: supplier,\n        OrderType: order_Type.PurchaseOrder\n      };\n      const comm_jsonBody = {\n        DeliveryDate: deliverydate,\n        Description: description,\n        BillingAddress: billAddr.value,\n        ShippingAddress: shippAddr.value,\n        OrderNo: 1,\n        FullOrderNumber: \"PO0001\",\n        Division: division,\n        POType: orderTypeSelect.value,\n        POFromDate: orderTypeSelect.value === 1 ? currentDate_ymd : poFromDate,\n        POToDate: orderTypeSelect.value === 1 ? currentDate_ymd : poToDate,\n        CreatedBy: _cfunc.loginUserID(),\n        UpdatedBy: _cfunc.loginUserID(),\n        OrderTermsAndConditions: termsAndConditions\n      };\n      let jsonBody; //json body decleration \n\n      if (subPageMode === url.IB_ORDER) {\n        jsonBody = JSON.stringify({ ...comm_jsonBody,\n          ...IB_JsonBody\n        });\n      } else if (subPageMode === url.ORDER_4) {\n        jsonBody = JSON.stringify({ ...comm_jsonBody,\n          ...SO_JsonBody\n        });\n      } else {\n        jsonBody = JSON.stringify({ ...comm_jsonBody,\n          ...po_JsonBody\n        });\n      } // +*********************************\n\n\n      if (pageMode === mode.edit) {\n        dispatch(_act.updateOrderIdAction({\n          jsonBody,\n          updateId: editVal.id,\n          gotoInvoiceMode\n        }));\n      } else {\n        dispatch(_act.saveOrderAction({\n          jsonBody,\n          subPageMode,\n          gotoInvoiceMode\n        }));\n      }\n    } catch (error) {\n      _cfunc.CommonConsole(\"order_save_\", error);\n    }\n  };\n\n  if (!(userPageAccessState === \"\")) {\n    return /*#__PURE__*/_jsxDEV(React.Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(MetaTags, {\n        children: _cfunc.metaTagLabel(userPageAccessState)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1502,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"page-content\",\n        style: {\n          marginBottom: \"5cm\"\n        },\n        children: [userAdminRole && /*#__PURE__*/_jsxDEV(PartyDropdown_Common, {\n          partySelect: partySelect,\n          setPartyFunc: partyOnchange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1532,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"px-2 c_card_filter header text-black\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(Row, {\n                children: [/*#__PURE__*/_jsxDEV(Col, {\n                  sm: \"4\",\n                  children: /*#__PURE__*/_jsxDEV(FormGroup, {\n                    className: \" row mt-2\",\n                    children: [/*#__PURE__*/_jsxDEV(Label, {\n                      className: \"col-sm-5 p-2\",\n                      style: {\n                        width: \"115px\"\n                      },\n                      children: \"Delivery Date\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1544,\n                      columnNumber: 45\n                    }, this), /*#__PURE__*/_jsxDEV(Col, {\n                      sm: \"7\",\n                      children: /*#__PURE__*/_jsxDEV(C_DatePicker, {\n                        name: \"orderdate\",\n                        value: orderdate,\n                        disabled: orderItemTable.length > 0 || pageMode === \"edit\" ? true : false,\n                        onChange: orderdateOnchange\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1547,\n                        columnNumber: 49\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1546,\n                      columnNumber: 45\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1543,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1542,\n                  columnNumber: 37\n                }, this), subPageMode === ORDER_4 ? /*#__PURE__*/_jsxDEV(Col, {\n                  sm: \"3\",\n                  children: /*#__PURE__*/_jsxDEV(FormGroup, {\n                    className: \" row mt-2 \",\n                    children: [/*#__PURE__*/_jsxDEV(Label, {\n                      className: \"col-sm-5 p-2\",\n                      style: {\n                        width: \"65px\"\n                      },\n                      children: fieldLabel.Route\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1560,\n                      columnNumber: 49\n                    }, this), /*#__PURE__*/_jsxDEV(Col, {\n                      sm: \"7\",\n                      children: /*#__PURE__*/_jsxDEV(Select, {\n                        classNamePrefix: \"react-select\",\n                        value: routeSelect,\n                        options: RouteOptions,\n                        isDisabled: orderItemTable.length > 0 || pageMode === \"edit\" || goBtnloading ? true : false // onChange={(e) => { setRouteSelect(e) }}\n                        ,\n                        onChange: e => {\n                          RouteOnChange(e);\n                        },\n                        styles: {\n                          menu: provided => ({ ...provided,\n                            zIndex: 2\n                          })\n                        }\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1564,\n                        columnNumber: 53\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1562,\n                      columnNumber: 49\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1559,\n                    columnNumber: 45\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1558,\n                  columnNumber: 41\n                }, this) : /*#__PURE__*/_jsxDEV(Col, {\n                  sm: \"3\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1579,\n                  columnNumber: 43\n                }, this), /*#__PURE__*/_jsxDEV(Col, {\n                  sm: \"4\",\n                  className: \"\",\n                  children: /*#__PURE__*/_jsxDEV(FormGroup, {\n                    className: \"row mt-2\",\n                    children: [/*#__PURE__*/_jsxDEV(Label, {\n                      className: \"col-sm-5 p-2\",\n                      style: {\n                        width: \"115px\"\n                      },\n                      children: fieldLabel.Supplier\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1584,\n                      columnNumber: 45\n                    }, this), /*#__PURE__*/_jsxDEV(Col, {\n                      sm: \"7\",\n                      children: [/*#__PURE__*/_jsxDEV(Select, {\n                        value: supplierSelect,\n                        isDisabled: orderItemTable.length > 0 || pageMode === \"edit\" || goBtnloading ? true : false,\n                        options: supplierOptions,\n                        onChange: supplierOnchange,\n                        styles: {\n                          menu: provided => ({ ...provided,\n                            zIndex: 2\n                          })\n                        }\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1587,\n                        columnNumber: 49\n                      }, this), FSSAI_Date_Is_Expired && /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"text-danger f-8\",\n                        children: /*#__PURE__*/_jsxDEV(\"small\", {\n                          children: [FSSAI_Date_Is_Expired, \" \"]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1598,\n                          columnNumber: 57\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1597,\n                        columnNumber: 53\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1586,\n                      columnNumber: 45\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1583,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1582,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(Col, {\n                  sm: \"1\",\n                  children: [\"                      \", /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"row mt-2  pr-1\",\n                    children: pageMode === mode.defaultsave ? // (!selecedItemWiseOrder && itemSelectDropOptions.length > 0) ?\n                    !goBtnDissable ? /*#__PURE__*/_jsxDEV(Go_Button, {\n                      loading: goBtnloading,\n                      id: `go-btn${subPageMode}`,\n                      onClick: e => {\n                        setSelecedItemWiseOrder(false);\n                        setOrderItemTable(itemSelectDropOptions);\n                        setItemSelect('');\n                        setGoBtnDissable(true);\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1613,\n                      columnNumber: 53\n                    }, this) : !selecedItemWiseOrder && /*#__PURE__*/_jsxDEV(Change_Button, {\n                      id: `change-btn${subPageMode}`,\n                      onClick: e => {\n                        setGoBtnDissable(false);\n                        setSelecedItemWiseOrder(true);\n                        setOrderItemTable([]);\n                        setItemSelect('');\n                        dispatch(_act.GoButton_For_Order_AddSuccess([]));\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1623,\n                      columnNumber: 53\n                    }, this) : null\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1608,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1606,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1541,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(Row, {\n                children: [/*#__PURE__*/_jsxDEV(Col, {\n                  sm: \"4\",\n                  children: [\"                               \", /*#__PURE__*/_jsxDEV(FormGroup, {\n                    className: \"row mt-1\",\n                    children: [/*#__PURE__*/_jsxDEV(Label, {\n                      className: \"col-sm-5 p-2\",\n                      style: {\n                        width: \"115px\"\n                      },\n                      children: \"Description\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1642,\n                      columnNumber: 45\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"col-7\",\n                      children: /*#__PURE__*/_jsxDEV(Input, {\n                        type: \"text\",\n                        value: description,\n                        placeholder: \"Enter Order Description\",\n                        onChange: e => setDescription(e.target.value)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1645,\n                        columnNumber: 49\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1644,\n                      columnNumber: 45\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1641,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1640,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(Col, {\n                  sm: \"3\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1655,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(Col, {\n                  sm: \"4\",\n                  children: /*#__PURE__*/_jsxDEV(FormGroup, {\n                    className: \"row mt-1\",\n                    children: [/*#__PURE__*/_jsxDEV(Label, {\n                      className: \"col-sm-5 p-2\",\n                      style: {\n                        width: \"115px\"\n                      },\n                      children: fieldLabel.Item\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1658,\n                      columnNumber: 45\n                    }, this), /*#__PURE__*/_jsxDEV(Col, {\n                      sm: \"7\",\n                      children: /*#__PURE__*/_jsxDEV(Select, {\n                        value: itemSelect,\n                        isDisabled: pageMode === \"edit\" || goBtnloading ? true : false,\n                        options: itemSelectDropOptions,\n                        onChange: itemSelectOnchange,\n                        styles: {\n                          menu: provided => ({ ...provided,\n                            zIndex: 2\n                          })\n                        }\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1662,\n                        columnNumber: 49\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1661,\n                      columnNumber: 45\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1657,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1656,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(Col, {\n                  sm: \"1\",\n                  children: pageMode === mode.defaultsave ? /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"row mt-2 pr-1\",\n                    children: selecedItemWiseOrder && itemSelectDropOptions.length > 0 ? /*#__PURE__*/_jsxDEV(Button, {\n                      className: true,\n                      color: \"btn btn-outline-info border-1 font-size-12 \",\n                      disabled: goBtnloading,\n                      onClick: () => item_AddButtonHandler(),\n                      children: \"Add Item\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1680,\n                      columnNumber: 53\n                    }, this) : itemSelectDropOptions.length > 0 && /*#__PURE__*/_jsxDEV(Button, {\n                      color: \"btn btn-secondary border-1 font-size-12\",\n                      className: \"text-blac1k\",\n                      disabled: goBtnloading,\n                      onClick: () => {\n                        setOrderItemTable([]);\n                        setSelecedItemWiseOrder(true);\n                      },\n                      children: \"Item Wise\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1690,\n                      columnNumber: 53\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1678,\n                    columnNumber: 45\n                  }, this) : null\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1675,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1639,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1540,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1538,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"px-2  mb-1 c_card_body text-black\",\n            children: [\"              \", /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"row\",\n              children: \"                                         \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1713,\n              columnNumber: 29\n            }, this), subPageMode === url.ORDER_1 ? /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [\"                             \", /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"row  \",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"col col-6\",\n                  children: [\"                             \", /*#__PURE__*/_jsxDEV(FormGroup, {\n                    className: \"row  \",\n                    children: [/*#__PURE__*/_jsxDEV(Label, {\n                      className: \" p-2\",\n                      style: {\n                        width: \"115px\"\n                      },\n                      children: \"Billing Address\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1742,\n                      columnNumber: 45\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"col col-6\",\n                      children: /*#__PURE__*/_jsxDEV(Select, {\n                        value: billAddr,\n                        classNamePrefix: \"select2-Customer\",\n                        options: supplierAddress,\n                        onChange: e => {\n                          setbillAddr(e);\n                        },\n                        styles: {\n                          menu: provided => ({ ...provided,\n                            zIndex: 2\n                          })\n                        }\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1745,\n                        columnNumber: 49\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1744,\n                      columnNumber: 45\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1741,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1740,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"col col-6\",\n                  children: [\"                               \", /*#__PURE__*/_jsxDEV(FormGroup, {\n                    className: \" row \",\n                    children: [/*#__PURE__*/_jsxDEV(Label, {\n                      className: \" p-2\",\n                      style: {\n                        width: \"130px\"\n                      },\n                      children: \"Shipping Address\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1760,\n                      columnNumber: 45\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"col col-6\",\n                      children: /*#__PURE__*/_jsxDEV(Select, {\n                        value: shippAddr,\n                        classNamePrefix: \"select2-Customer\",\n                        styles: {\n                          menu: provided => ({ ...provided,\n                            zIndex: 2\n                          })\n                        },\n                        options: supplierAddress,\n                        onChange: e => {\n                          setshippAddr(e);\n                        }\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1763,\n                        columnNumber: 49\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1762,\n                      columnNumber: 45\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1759,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1758,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1738,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"row\",\n                children: [\"                                        \", /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"col col-6\",\n                  children: [\"                              \", /*#__PURE__*/_jsxDEV(FormGroup, {\n                    className: \" row  \",\n                    children: [/*#__PURE__*/_jsxDEV(Label, {\n                      className: \" p-2\",\n                      style: {\n                        width: \"115px\"\n                      },\n                      children: \"PO Type\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1780,\n                      columnNumber: 45\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"col col-6 \",\n                      children: /*#__PURE__*/_jsxDEV(Select, {\n                        value: orderTypeSelect,\n                        classNamePrefix: \"select2-Customer\",\n                        options: orderTypeOptions,\n                        onChange: e => {\n                          setorderTypeSelect(e);\n                        },\n                        styles: {\n                          menu: provided => ({ ...provided,\n                            zIndex: 2\n                          })\n                        }\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1783,\n                        columnNumber: 49\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1782,\n                      columnNumber: 45\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1779,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1778,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1777,\n                columnNumber: 33\n              }, this), orderTypeSelect.label === 'Open PO' ? /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"row\",\n                children: [\"                                    \", /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"col col-6\",\n                  children: /*#__PURE__*/_jsxDEV(FormGroup, {\n                    className: \" row \",\n                    children: [/*#__PURE__*/_jsxDEV(Label, {\n                      className: \" p-2\",\n                      style: {\n                        width: \"115px\"\n                      },\n                      children: \"PO From Date\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1802,\n                      columnNumber: 49\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"col col-6 \",\n                      children: /*#__PURE__*/_jsxDEV(C_DatePicker, {\n                        id: \"pofromdate\",\n                        name: \"pofromdate\",\n                        value: poFromDate,\n                        onChange: (e, date) => {\n                          setpoFromDate(date);\n                        }\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1805,\n                        columnNumber: 53\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1804,\n                      columnNumber: 49\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1801,\n                    columnNumber: 45\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1800,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"col col-6\",\n                  children: [\"                        \", /*#__PURE__*/_jsxDEV(FormGroup, {\n                    className: \" row  \",\n                    children: [/*#__PURE__*/_jsxDEV(Label, {\n                      className: \" p-2\",\n                      style: {\n                        width: \"130px\"\n                      },\n                      children: \"PO To Date\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1817,\n                      columnNumber: 49\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"col col-6 \",\n                      children: /*#__PURE__*/_jsxDEV(C_DatePicker, {\n                        id: \"potodate\",\n                        name: \"potodate\",\n                        value: poToDate,\n                        onChange: (e, date) => {\n                          setpoToDate(date);\n                        }\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1820,\n                        columnNumber: 53\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1819,\n                      columnNumber: 49\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1816,\n                    columnNumber: 45\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1815,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1799,\n                columnNumber: 37\n              }, this) : null]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1737,\n              columnNumber: 60\n            }, this) : null]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1712,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1537,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(ToolkitProvider, {\n          keyField: \"Item_id\",\n          data: orderItemTable,\n          columns: pagesListColumns,\n          search: true,\n          children: toolkitProps => /*#__PURE__*/_jsxDEV(React.Fragment, {\n            children: /*#__PURE__*/_jsxDEV(Row, {\n              children: /*#__PURE__*/_jsxDEV(Col, {\n                xl: \"12\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"table-responsive table \",\n                  style: {\n                    minHeight: \"45vh\"\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(BootstrapTable, {\n                    keyField: \"Item_id\",\n                    id: \"table_Arrow\",\n                    defaultSorted: defaultSorted,\n                    classes: \"table  table-bordered table-hover \",\n                    noDataIndication: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"text-danger text-center table-cursor-pointer\",\n                      children: \"Items Not available\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1855,\n                      columnNumber: 53\n                    }, this),\n                    onDataSizeChange: e => {\n                      _cfunc.tableInputArrowUpDounFunc(\"#table_Arrow\");\n                    },\n                    ...toolkitProps.baseProps\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1849,\n                    columnNumber: 45\n                  }, this), mySearchProps(toolkitProps.searchProps)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1848,\n                  columnNumber: 41\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1847,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1846,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1845,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1838,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(OrderPageTermsTable, {\n          tableList: termsAndConTable,\n          setfunc: setTermsAndConTable,\n          privious: editVal.TermsAndConditions,\n          tableData: orderItemTable\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1873,\n          columnNumber: 21\n        }, this), orderItemTable.length > 0 && !isOpen_assignLink ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row save1\",\n          style: {\n            paddingBottom: 'center'\n          },\n          children: [/*#__PURE__*/_jsxDEV(Col, {\n            children: /*#__PURE__*/_jsxDEV(SaveButton, {\n              loading: saveBtnloading,\n              editCreatedBy: editCreatedBy,\n              pageMode: pageMode,\n              userAcc: userPageAccessState,\n              onClick: saveHandler,\n              forceDisabled: gotoInvoiceBtnLoading\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1878,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1877,\n            columnNumber: 29\n          }, this), subPageMode === url.ORDER_4 && pageMode === mode.defaultsave ? /*#__PURE__*/_jsxDEV(Col, {\n            children: /*#__PURE__*/_jsxDEV(GotoInvoiceBtn, {\n              forceDisabled: gotoInvoiceBtnLoading,\n              loading: gotoInvoiceBtnLoading,\n              pageMode: pageMode,\n              userAcc: userPageAccessState,\n              onClick: saveHandler\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1890,\n              columnNumber: 41\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1889,\n            columnNumber: 37\n          }, this) : null]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1876,\n          columnNumber: 81\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row save1\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1899,\n          columnNumber: 31\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1503,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Modal, {\n        isOpen: isOpen_assignLink,\n        toggle: () => {\n          setisOpen_assignLink(false);\n        },\n        size: \"xl\",\n        children: /*#__PURE__*/_jsxDEV(PartyItems, {\n          editValue: assingItemData.Data,\n          isAssing: true,\n          masterPath: url.PARTYITEM,\n          redirectPath: subPageMode,\n          isOpenModal: Open_Assign_func,\n          pageMode: mode.assingLink\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1911,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1903,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1501,\n      columnNumber: 13\n    }, this);\n  } else {\n    return null;\n  }\n};\n\n_s(Order, \"DCyOCvDLt3PA52PaO7mugCaHGT8=\", false, function () {\n  return [useDispatch, useHistory, useSelector];\n});\n\n_c = Order;\nexport default Order;\n\nvar _c;\n\n$RefreshReg$(_c, \"Order\");","map":{"version":3,"names":["React","useEffect","useLayoutEffect","useState","MetaTags","useHistory","Button","Col","FormGroup","Input","Label","Modal","Row","useDispatch","useSelector","Select","ToolkitProvider","BootstrapTable","orderCalculateFunc","SaveButton","Go_Button","Change_Button","GotoInvoiceBtn","mySearchProps","OrderPageTermsTable","initialFiledFunc","PartyItems","customAlert","order_Type","CInput","C_DatePicker","decimalRegx","onlyNumberRegx","_act","_cfunc","url","mode","pageId","editPartyItemID","getPartyListAPI","pageFieldUseEffect","table_ArrowUseEffect","updateMsgUseEffect","userAccessUseEffect","orderApprovalFunc","orderApprovalMessage","GetRoutesList","ORDER_4","PartyDropdown_Common","editVal","initial_BredcrumbMsg","initialState","history","page_Id","listPath","sub_Mode","location","pathname","ORDER_1","ORDER_LIST_1","ORDER_2","ORDER_LIST_2","IB_ORDER","IB_ORDER_PO_LIST","ORDER_LIST_4","Order","props","dispatch","currentDate_ymd","date_ymd_func","userAdminRole","loginUserAdminRole","fileds","id","Supplier","Route","Item","state","setState","editCreatedBy","seteditCreatedBy","page_id","subPageMode","modalCss","setModalCss","pageMode","setPageMode","defaultsave","userPageAccessState","setUserAccState","description","setDescription","deliverydate","setdeliverydate","billAddr","setbillAddr","shippAddr","setshippAddr","poFromDate","setpoFromDate","poToDate","setpoToDate","orderdate","setorderdate","supplierSelect","setsupplierSelect","routeSelect","setRouteSelect","partySelect","setPartySelect","itemSelect","setItemSelect","value","label","itemSelectDropOptions","setitemSelectOptions","selecedItemWiseOrder","setSelecedItemWiseOrder","goBtnDissable","setGoBtnDissable","orderAmount","setOrderAmount","termsAndConTable","setTermsAndConTable","orderTypeSelect","setorderTypeSelect","isOpen_assignLink","setisOpen_assignLink","orderItemTable","setOrderItemTable","findPartyItemAccess","setFindPartyItemAccess","FSSAI_Date_Is_Expired","setFSSAI_Date_Is_Expired","discountValueAll","setDiscountValueAll","discountTypeAll","setDiscountTypeAll","discountDropOption","changeAllDiscount","setChangeAllDiscount","forceReload","setForceReload","goBtnOrderdata","postMsg","vendorSupplierCustomer","userAccess","orderType","updateMsg","supplierAddress","pageField","partyList_redux","assingItemData","approvalDetail","orderApprovalMsg","gobutton_Add_invoice","goBtnloading","saveBtnloading","gotoInvoiceBtnLoading","RoutesList","OrderReducer","goBtnOrderAdd","CommonAPI_Reducer","Login","RoleAccessUpdateData","CommonPageFieldReducer","PartyItemsReducer","editData","PartyMasterReducer","partyList","InvoiceReducer","gobutton_Add","RoutesReducer","loading","fieldLabel","hasShowloction","hasOwnProperty","editValue","hasShowModal","commonPageFieldSuccess","GoButton_For_Order_AddSuccess","commonPageField","getTermAndCondition","getOrderType","GetVenderSupplierCustomer","RouteID","getSupplierAddress","loginPartyID","otherloginAccss","ind","PARTYITEM","hasEditVal","BreadcrumbShowCountlabel","OrderAmount","OrderDate","CustomerName","Customer","SupplierName","DeliveryDate","ShippingAddress","ShippingAddressID","BillingAddress","BillingAddressID","Description","POType","POTypeName","POToDate","POFromDate","TermsAndConditions","termsAndCondition","map","i","TermsAndCondition","IsDeleted","orderItems","OrderItems","ele","k","editOrderIdSuccess","Status","CreatedBy","StatusCode","dropdownAdd","saveOrderActionSuccess","liveMode","aprovalSapCallMode","IsSAPCustomer","config","orderId","OrderID","getOrderApprovalDetailAction","gotoInvoiceMode","customer","jsonBody","JSON","stringify","OrderIDs","toString","FromDate","Party","GoButtonForinvoiceAdd","INVOICE_1","path","errorMsg","a","Type","Message","push","updateSuccss","updateOrderIdSuccess","Item_id","ItemName","length","Name","document","getElementById","style","display","e","supplierOptions","FSSAIExipry","GSTIN","FSSAINo","IsTCSParty","ISCustomerPAN","PAN","orderTypeOptions","Party_DropdownOptions","data","RoutesListOptions","index","IsActive","RouteOptions","filter","unshift","pagesListColumns","dataField","text","classes","sort","headerStyle","minWidth","textAlign","sortValue","cell","row","headerFormatter","f","assignItem_onClick","cursor","align","width","formatExtraData","tableList","formatter","Quantity","target","itemWise_CalculationFunc","undefined","key","UnitName","UnitDetails","forEach","PODefaultUnit","defaultUnit","SODefaultUnit","UnitID","BaseUnitQuantity","BaseUnitQuantityNoUnit","Rate","toFixed","Unit_id","edit","Discount","DiscountType","innerText","amountCommaSeparateFunc","event","MRPValue","e_val","Number","cellContent","index1","defaultDiscountTypelabel","Comment","defaultSorted","order","orderdateOnchange","date","supplierOnchange","Date","goButtonHandler","partyOnchange","itemSelectOnchange","Open_Assign_func","editPartyItemIDSuccess","breadcrumbReturnFunc","userAcc","RouteOnChange","stopPropagation","isParty","editId","btnmode","assingLink","btnId","isConfirmed","loginJsonBody","PartyID","IsComparGstIn","calculate","roundedTotalAmount","sumOfAmount","reduce","accumulator","currentObject","item_AddButtonHandler","isfound","find","concat","selectSupplier","btnIsDissablefunc","PO_Body","RateParty","EffectiveDate","OrderType","PurchaseOrder","SO_body","SaleOrder","GoButton_For_Order_Add","saveHandler1","preventDefault","substring","division","supplier","validMsg","itemArr","isVDC_POvalidMsg","GSTIn_1","GSTIn_2","loginUserGSTIN","ischange","edit_Qty","edit_Unit_id","isedit","orderItemFunc","isdel","isRowValueChanged","editrowId","Bom","arr","MRP","MRP_id","Unit","Margin","GST","GST_id","CGST","CGST_Amount","SGST","SGST_Amount","IGST","IGST_Amount","GSTPercentage","GST_Percentage","CGSTPercentage","CGST_Percentage","SGSTPercentage","SGST_Percentage","IGSTPercentage","IGST_Percentage","BasicAmount","basicAmount","GSTAmount","roundedGstAmount","Amount","TaxType","DiscountAmount","disCountAmt","po_JsonBody","OrderItem","IsConfirm","SO_JsonBody","IB_JsonBody","DemandDate","DemandAmount","DemandItem","comm_jsonBody","OrderNo","FullOrderNumber","Division","loginUserID","UpdatedBy","OrderTermsAndConditions","updateOrderIdAction","updateId","saveOrderAction","CommonConsole","saveHandler","buttonId","validationMessages","vdcPoValidationMessages","item","isChange","edit_Discount","edit_DiscountType","isEdit","processOrderItem","processValueChanged","isDelete","calculated","orderItem","termsAndConditions","error","metaTagLabel","marginBottom","menu","provided","zIndex","toolkitProps","minHeight","tableInputArrowUpDounFunc","baseProps","searchProps","paddingBottom","Data"],"sources":["D:/Rohit/Git projects/Manthan/src/pages/Purchase/Order/Order.js"],"sourcesContent":["import React, { useEffect, useLayoutEffect, useState } from \"react\";\r\nimport { MetaTags } from \"react-meta-tags\"\r\nimport { useHistory } from \"react-router-dom\";\r\nimport {\r\n    Button,\r\n    Col,\r\n    FormGroup,\r\n    Input,\r\n    Label,\r\n    Modal,\r\n    Row,\r\n} from \"reactstrap\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport Select from \"react-select\";\r\nimport ToolkitProvider from \"react-bootstrap-table2-toolkit\";\r\nimport BootstrapTable from \"react-bootstrap-table-next\";\r\nimport { orderCalculateFunc } from \"./OrderPageCalulation\";\r\nimport { SaveButton, Go_Button, Change_Button, GotoInvoiceBtn } from \"../../../components/Common/CommonButton\";\r\nimport { mySearchProps } from \"../../../components/Common/SearchBox/MySearch\";\r\n\r\nimport OrderPageTermsTable from \"./OrderPageTermsTable\";\r\nimport { initialFiledFunc } from \"../../../components/Common/validationFunction\";\r\nimport PartyItems from \"../../Adminisrator/PartyItemPage/PartyItems\";\r\n\r\nimport { customAlert } from \"../../../CustomAlert/ConfirmDialog\"\r\nimport { order_Type } from \"../../../components/Common/C-Varialbes\";\r\nimport { CInput, C_DatePicker, decimalRegx, onlyNumberRegx } from \"../../../CustomValidateForm/index\";\r\n\r\nimport * as _act from \"../../../store/actions\";\r\nimport * as _cfunc from \"../../../components/Common/CommonFunction\";\r\nimport { url, mode, pageId } from \"../../../routes/index\"\r\nimport { editPartyItemID } from \"../../../store/Administrator/PartyItemsRedux/action\";\r\nimport { getPartyListAPI } from \"../../../store/Administrator/PartyRedux/action\";\r\nimport { pageFieldUseEffect, table_ArrowUseEffect, updateMsgUseEffect, userAccessUseEffect } from \"../../../components/Common/CommonUseEffect\";\r\nimport { orderApprovalFunc, orderApprovalMessage } from \"./orderApproval\";\r\nimport { GetRoutesList } from \"../../../store/Administrator/RoutesRedux/actions\";\r\nimport { ORDER_4 } from \"../../../routes/route_url\";\r\nimport PartyDropdown_Common from \"../../../components/Common/PartyDropdown\";\r\nimport \"./order.scss\"\r\n\r\nlet editVal = {}\r\nlet initial_BredcrumbMsg = \"Order Amount :0.00\"\r\n\r\nfunction initialState(history) {\r\n\r\n    let page_Id = '';\r\n    let listPath = ''\r\n    let sub_Mode = history.location.pathname;\r\n\r\n    if (sub_Mode === url.ORDER_1) {\r\n        page_Id = pageId.ORDER_1;\r\n        listPath = url.ORDER_LIST_1\r\n    }\r\n    else if (sub_Mode === url.ORDER_2) {\r\n        page_Id = pageId.ORDER_2;\r\n        listPath = url.ORDER_LIST_2\r\n    }\r\n    else if (sub_Mode === url.IB_ORDER) {\r\n        page_Id = pageId.IB_ORDER;\r\n        listPath = url.IB_ORDER_PO_LIST;\r\n    }\r\n    else if (sub_Mode === url.ORDER_4) {\r\n        page_Id = pageId.ORDER_4;\r\n        listPath = url.ORDER_LIST_4\r\n    }\r\n    return { page_Id, listPath }\r\n};\r\n\r\nconst Order = (props) => {\r\n\r\n    const dispatch = useDispatch();\r\n    const history = useHistory();\r\n    const currentDate_ymd = _cfunc.date_ymd_func();\r\n    const userAdminRole = _cfunc.loginUserAdminRole();\r\n\r\n\r\n    const fileds = {\r\n        id: \"\",\r\n        Supplier: \"\",\r\n        Route: \"\",\r\n        Item: ''\r\n    }\r\n\r\n    const [state, setState] = useState(() => initialFiledFunc(fileds))\r\n    const [editCreatedBy, seteditCreatedBy] = useState(\"\");\r\n    const [page_id] = useState(() => initialState(history).page_Id)\r\n    const [listPath] = useState(() => initialState(history).listPath)\r\n    const [subPageMode] = useState(history.location.pathname)\r\n    const [modalCss, setModalCss] = useState(false);\r\n    const [pageMode, setPageMode] = useState(mode.defaultsave);\r\n    const [userPageAccessState, setUserAccState] = useState('');\r\n    const [description, setDescription] = useState('')\r\n\r\n    const [deliverydate, setdeliverydate] = useState(currentDate_ymd)\r\n    const [billAddr, setbillAddr] = useState('')\r\n    const [shippAddr, setshippAddr] = useState('');\r\n\r\n    const [poFromDate, setpoFromDate] = useState(currentDate_ymd);\r\n    const [poToDate, setpoToDate] = useState(currentDate_ymd);\r\n    const [orderdate, setorderdate] = useState(currentDate_ymd);\r\n\r\n    const [supplierSelect, setsupplierSelect] = useState('');\r\n    const [routeSelect, setRouteSelect] = useState('');\r\n    const [partySelect, setPartySelect] = useState('');\r\n    const [itemSelect, setItemSelect] = useState({ value: '', label: \"All\" });\r\n    const [itemSelectDropOptions, setitemSelectOptions] = useState([]);\r\n    const [selecedItemWiseOrder, setSelecedItemWiseOrder] = useState(true)\r\n    const [goBtnDissable, setGoBtnDissable] = useState(false)\r\n\r\n    const [orderAmount, setOrderAmount] = useState(0);\r\n    const [termsAndConTable, setTermsAndConTable] = useState([]);\r\n    const [orderTypeSelect, setorderTypeSelect] = useState('');\r\n    const [isOpen_assignLink, setisOpen_assignLink] = useState(false)\r\n    const [orderItemTable, setOrderItemTable] = useState([])\r\n    const [findPartyItemAccess, setFindPartyItemAccess] = useState(false)\r\n    const [FSSAI_Date_Is_Expired, setFSSAI_Date_Is_Expired] = useState(\"\")\r\n\r\n    // for Order page heder dicount functionality useSate ************************************\r\n    const [discountValueAll, setDiscountValueAll] = useState(\"\");\r\n    const [discountTypeAll, setDiscountTypeAll] = useState({ value: 2, label: \" % \" });\r\n    const [discountDropOption] = useState([{ value: 1, label: \"Rs\" }, { value: 2, label: \"%\" }])\r\n    const [changeAllDiscount, setChangeAllDiscount] = useState(false)\r\n    const [forceReload, setForceReload] = useState(false)\r\n    // ****************************************************************************\r\n\r\n    const {\r\n        goBtnOrderdata,\r\n        postMsg,\r\n        vendorSupplierCustomer,\r\n        userAccess,\r\n        orderType,\r\n        updateMsg,\r\n        supplierAddress,\r\n        pageField,\r\n        partyList_redux,\r\n        assingItemData = '',\r\n        approvalDetail,\r\n        orderApprovalMsg,\r\n        gobutton_Add_invoice,\r\n        goBtnloading,\r\n        saveBtnloading,\r\n        gotoInvoiceBtnLoading,\r\n        RoutesList\r\n    } = useSelector((state) => ({\r\n        goBtnOrderdata: state.OrderReducer.goBtnOrderAdd,\r\n        vendorSupplierCustomer: state.CommonAPI_Reducer.vendorSupplierCustomer,\r\n        supplierAddress: state.CommonAPI_Reducer.supplierAddress,\r\n        orderType: state.CommonAPI_Reducer.orderType,\r\n        postMsg: state.OrderReducer.postMsg,\r\n        updateMsg: state.OrderReducer.updateMsg,\r\n        userAccess: state.Login.RoleAccessUpdateData,\r\n        pageField: state.CommonPageFieldReducer.pageField,\r\n        orderApprovalMsg: state.OrderReducer.orderApprovalMsg,\r\n        approvalDetail: state.OrderReducer.approvalDetail,\r\n        assingItemData: state.PartyItemsReducer.editData,\r\n        partyList_redux: state.PartyMasterReducer.partyList,\r\n        gobutton_Add_invoice: state.InvoiceReducer.gobutton_Add,\r\n        RoutesList: state.RoutesReducer.RoutesList,\r\n        goBtnloading: state.OrderReducer.loading,\r\n        saveBtnloading: state.OrderReducer.saveBtnloading,\r\n        gotoInvoiceBtnLoading: state.OrderReducer.gotoInvoiceBtnLoading,\r\n\r\n    }));;\r\n\r\n    const { fieldLabel } = state;\r\n\r\n    const location = { ...history.location }\r\n    const hasShowloction = location.hasOwnProperty(mode.editValue)\r\n    const hasShowModal = props.hasOwnProperty(mode.editValue)\r\n\r\n    useLayoutEffect(() => {\r\n        dispatch(_act.commonPageFieldSuccess(null));\r\n        dispatch(_act.GoButton_For_Order_AddSuccess(null))\r\n        dispatch(_act.commonPageField(page_id))\r\n        dispatch(_act.getTermAndCondition())\r\n        dispatch(_act.getOrderType())\r\n        dispatch(GetRoutesList());\r\n        dispatch(getPartyListAPI())\r\n        dispatch(_act.GetVenderSupplierCustomer({ subPageMode, RouteID: \"\" }))\r\n        if (!(subPageMode === url.ORDER_4)) {\r\n            dispatch(_act.getSupplierAddress(_cfunc.loginPartyID()))\r\n        }\r\n    }, []);\r\n\r\n    useEffect(() => userAccessUseEffect({ // userAccess useEffect \r\n        props,\r\n        userAccess,\r\n        dispatch,\r\n        setUserAccState,\r\n        otherloginAccss// for other pages login role access chack\r\n    }), [userAccess]);\r\n\r\n    const otherloginAccss = (ind) => {\r\n        if ((ind.id === pageId.PARTYITEM) && !(subPageMode === url.IB_ORDER)) {\r\n            setFindPartyItemAccess(true)\r\n        }\r\n    };\r\n\r\n    useEffect(() => { // hasEditVal useEffect\r\n\r\n        if ((hasShowloction || hasShowModal)) {\r\n\r\n            let hasEditVal = null\r\n            if (hasShowloction) {\r\n                setPageMode(location.pageMode)\r\n                hasEditVal = location.editValue\r\n            }\r\n            else if (hasShowModal) {\r\n                hasEditVal = props.editValue\r\n                setPageMode(props.pageMode)\r\n                setModalCss(true)\r\n            }\r\n            if (hasEditVal) {\r\n                dispatch(_act.BreadcrumbShowCountlabel(`${\"Order Amount\"} :${hasEditVal.OrderAmount}`))\r\n                setorderdate(hasEditVal.OrderDate)\r\n\r\n                if (subPageMode === url.ORDER_4) {\r\n                    setsupplierSelect({\r\n                        label: hasEditVal.CustomerName,\r\n                        value: hasEditVal.Customer\r\n                    });\r\n                } else {\r\n                    setsupplierSelect({\r\n                        label: hasEditVal.SupplierName,\r\n                        value: hasEditVal.Supplier\r\n                    });\r\n                }\r\n                setdeliverydate(hasEditVal.DeliveryDate)\r\n                setshippAddr({ label: hasEditVal.ShippingAddress, value: hasEditVal.ShippingAddressID })\r\n                setbillAddr({ label: hasEditVal.BillingAddress, value: hasEditVal.BillingAddressID });\r\n                setDescription(hasEditVal.Description)\r\n                editVal = {}\r\n                editVal = hasEditVal\r\n                setOrderAmount(hasEditVal.OrderAmount)\r\n                setorderTypeSelect({ value: hasEditVal.POType, label: hasEditVal.POTypeName })\r\n\r\n                setpoToDate(hasEditVal.POToDate)\r\n                setpoFromDate(hasEditVal.POFromDate)\r\n\r\n                const { TermsAndConditions = [] } = hasEditVal;\r\n                const termsAndCondition = TermsAndConditions.map(i => ({\r\n                    value: i.id,\r\n                    label: i.TermsAndCondition,\r\n                    IsDeleted: 0\r\n                }))\r\n\r\n                const orderItems = hasEditVal.OrderItems.map((ele, k) => {\r\n                    ele[\"id\"] = k + 1\r\n                    return ele\r\n                });\r\n                setOrderItemTable(orderItems)\r\n                setTermsAndConTable(termsAndCondition)\r\n            }\r\n            dispatch(_act.editOrderIdSuccess({ Status: false }))\r\n            seteditCreatedBy(hasEditVal.CreatedBy)\r\n        } else {\r\n            dispatch(_act.BreadcrumbShowCountlabel(initial_BredcrumbMsg))\r\n        }\r\n    }, []);\r\n\r\n    useEffect(async () => {\r\n        if ((postMsg.Status === true) && (postMsg.StatusCode === 200) && !(pageMode === mode.dropdownAdd)) {\r\n            dispatch(_act.saveOrderActionSuccess({ Status: false }))\r\n            setSelecedItemWiseOrder(true)\r\n            setGoBtnDissable(false)\r\n            setOrderAmount(0);\r\n            setTermsAndConTable([]);\r\n            setorderTypeSelect('');\r\n            setisOpen_assignLink(false)\r\n            setOrderItemTable([])\r\n            setsupplierSelect('');\r\n\r\n            // ??******************************+++++++++++++++++++++++++++++++++++++++++\r\n            const liveMode = false  // temporary not working code thats why false use line no. 253 to 289\r\n            const aprovalSapCallMode = (postMsg.IsSAPCustomer > 0)\r\n\r\n            if ((subPageMode === url.ORDER_2) && liveMode && aprovalSapCallMode) { //        SAP OEDER-APROVUAL CODE\r\n                let config = { orderId: postMsg.OrderID }\r\n\r\n                dispatch(_act.getOrderApprovalDetailAction(config));\r\n\r\n            } else {// ??******************************+++++++++++++++++++++++++++++++++++++++++++++++\r\n\r\n\r\n                dispatch(_act.GoButton_For_Order_AddSuccess([]))\r\n                if ((subPageMode === url.ORDER_4) && (postMsg.gotoInvoiceMode)) {\r\n\r\n                    const customer = supplierSelect\r\n                    const jsonBody = JSON.stringify({\r\n                        OrderIDs: postMsg.OrderID.toString(),\r\n                        FromDate: orderdate,\r\n                        Customer: supplierSelect.value,\r\n                        Party: _cfunc.loginPartyID(),\r\n                    });\r\n                    dispatch(_act.GoButtonForinvoiceAdd({\r\n                        jsonBody, subPageMode: url.INVOICE_1,\r\n                        path: url.INVOICE_1,\r\n                        pageMode: mode.defaultsave,\r\n                        customer,\r\n                        errorMsg: \"Order Save Successfully But Can't Make Invoice\"\r\n                    }));\r\n                }\r\n                else {\r\n                    const a = await customAlert({\r\n                        Type: 1,\r\n                        Message: postMsg.Message,\r\n                    })\r\n                    if (a) {\r\n                        history.push({\r\n                            pathname: listPath,\r\n                        });\r\n                    }\r\n                }\r\n\r\n            }\r\n        }\r\n        else if ((postMsg.Status === true) && !(pageMode === mode.dropdownAdd)) {\r\n\r\n            dispatch(_act.saveOrderActionSuccess({ Status: false }))\r\n            customAlert({\r\n                Type: 4,\r\n                Message: JSON.stringify(postMsg.Message),\r\n            });\r\n        }\r\n    }, [postMsg])\r\n\r\n    useEffect(() => updateMsgUseEffect({\r\n        updateMsg, modalCss,\r\n        history, dispatch,\r\n        updateSuccss: _act.updateOrderIdSuccess,\r\n        listPath: listPath\r\n    }), [updateMsg])\r\n\r\n    useEffect(() => pageFieldUseEffect({// useEffect common pagefield for master\r\n        state,\r\n        setState,\r\n        pageField\r\n    }), [pageField])\r\n\r\n    useEffect(() => table_ArrowUseEffect(\"#table_Arrow\"), [orderItemTable]);\r\n\r\n    useEffect(() => {\r\n        if (assingItemData.Status === true) {\r\n            setisOpen_assignLink(true);\r\n        }\r\n    }, [assingItemData]);\r\n\r\n    useEffect(() => {\r\n        if (goBtnOrderdata) {\r\n            let { OrderItems = [], TermsAndConditions = [] } = goBtnOrderdata\r\n            if (!selecedItemWiseOrder) { setOrderItemTable(OrderItems) }\r\n            setitemSelectOptions(OrderItems.map(i => ({ ...i, value: i.Item_id, label: i.ItemName })))\r\n\r\n            setTermsAndConTable(TermsAndConditions)\r\n            dispatch(_act.GoButton_For_Order_AddSuccess(''))\r\n        }\r\n    }, [goBtnOrderdata]);\r\n\r\n    useEffect(() => {\r\n        if ((supplierAddress.length > 0) && (!((hasShowloction || hasShowModal)))) {\r\n            setbillAddr(supplierAddress[0]);\r\n            setshippAddr(supplierAddress[0]);\r\n        }\r\n    }, [supplierAddress]);\r\n\r\n    useEffect(() => {\r\n        if ((orderType.length > 0) && (!((hasShowloction || hasShowModal)))) {\r\n            setorderTypeSelect({\r\n                value: orderType[0].id,\r\n                label: orderType[0].Name,\r\n            });\r\n        }\r\n    }, [orderType]);\r\n\r\n    useEffect(() => {\r\n        orderApprovalFunc({ dispatch, approvalDetail })\r\n    }, [approvalDetail]);\r\n\r\n\r\n    useEffect(() => {\r\n        orderApprovalMessage({ dispatch, orderApprovalMsg, listPath, history })\r\n    }, [orderApprovalMsg]);\r\n\r\n    useEffect(() => {\r\n        try {\r\n            document.getElementById(\"__assignItem_onClick\").style.display = ((supplierSelect.value > 0) && (findPartyItemAccess) && !goBtnloading) ? \"block\" : \"none\"\r\n        } catch (e) { }\r\n    }, [goBtnloading, supplierSelect, findPartyItemAccess]);\r\n\r\n\r\n    useEffect(() => {\r\n        if (gobutton_Add_invoice.Status === true && gobutton_Add_invoice.StatusCode === 200) {\r\n            history.push({\r\n                pathname: gobutton_Add_invoice.path,\r\n            })\r\n        }\r\n    }, [gobutton_Add_invoice]);\r\n\r\n    const supplierOptions = vendorSupplierCustomer.map((i) => ({\r\n        value: i.id,\r\n        label: i.Name,\r\n        FSSAIExipry: i.FSSAIExipry,\r\n        GSTIN: i.GSTIN,\r\n        FSSAINo: i.FSSAINo,\r\n        IsTCSParty: i.IsTCSParty,\r\n        ISCustomerPAN: i.PAN,\r\n\r\n    }))\r\n\r\n    const orderTypeOptions = orderType.map((i) => ({\r\n        value: i.id,\r\n        label: i.Name,\r\n    }));\r\n\r\n    const Party_DropdownOptions = partyList_redux.map((data) => ({\r\n        value: data.id,\r\n        label: data.Name\r\n    }));\r\n\r\n    const RoutesListOptions = RoutesList.map((index) => ({\r\n        value: index.id,\r\n        label: index.Name,\r\n        IsActive: index.IsActive\r\n    }));\r\n\r\n    const RouteOptions = RoutesListOptions.filter((index) => {\r\n        return index.IsActive === true\r\n    });\r\n\r\n    RouteOptions.unshift({\r\n        value: \"\",\r\n        label: \"All\"\r\n    });\r\n\r\n    const pagesListColumns = [\r\n        {\r\n            dataField: \"GroupName\",\r\n            text: \"Group\",\r\n            classes: 'table-cursor-pointer',\r\n            sort: true,\r\n            headerStyle: () => {\r\n                return { minWidth: '100px', textAlign: 'center' };\r\n            },\r\n        },\r\n        {\r\n            dataField: \"SubGroupName\",\r\n            text: \"SubGroup\",\r\n            classes: 'table-cursor-pointer',\r\n            sort: true,\r\n            headerStyle: () => {\r\n                return { minWidth: '100px', textAlign: 'center' };\r\n            },\r\n        },\r\n\r\n        {//------------- ItemName column ----------------------------------\r\n            dataField: \"ItemName\",\r\n            text: \"Item Name\",\r\n            classes: 'table-cursor-pointer',\r\n            sort: true,\r\n            headerStyle: () => {\r\n                return { minWidth: '200px', textAlign: 'center' };\r\n            },\r\n            sortValue: (cell, row) => row[\"ItemName\"],\r\n            headerFormatter: (value, row, k, f) => {\r\n                return (\r\n                    <div className=\"d-flex justify-content-between\" key={row.id}>\r\n                        <div>\r\n                            Item Name\r\n                        </div>\r\n                        <div onClick={assignItem_onClick}>\r\n                            <samp id={\"__assignItem_onClick\"} style={{ display: \"none\", cursor: \"pointer\" }} className=\"text-primary fst-italic text-decoration-underline\"\r\n                            >\r\n                                Assign-Items</samp>\r\n                        </div>\r\n\r\n                    </div>\r\n                )\r\n            },\r\n        },\r\n        {\r\n            dataField: \"StockQuantity\",\r\n            text: \"Stock Quantity\",\r\n            classes: 'table-cursor-pointer',\r\n            align: () => \"right\",\r\n            sort: true,\r\n            headerStyle: () => {\r\n                return { minWidth: '100px', textAlign: 'center' };\r\n            },\r\n        },\r\n\r\n        { //------------- Quantity column ----------------------------------\r\n            text: \"Quantity\",\r\n            classes: 'table-cursor-pointer',\r\n            headerStyle: () => {\r\n                return { width: '10%', textAlign: 'center' };\r\n            },\r\n            formatExtraData: { tableList: orderItemTable },\r\n            formatter: (value, row, k, { tableList }) => {\r\n\r\n                return (\r\n                    <>\r\n                        <CInput\r\n                            key={`Quantity-${k}`}\r\n                            id={`Quantity-${k}`}\r\n                            cpattern={onlyNumberRegx}\r\n                            defaultValue={row.Quantity}\r\n                            autoComplete=\"off\"\r\n                            className=\" text-end\"\r\n                            onChange={(e) => {\r\n                                row[\"Quantity\"] = e.target.value\r\n                                itemWise_CalculationFunc(row, undefined, tableList)\r\n                            }}\r\n                        />\r\n                    </>\r\n                )\r\n            },\r\n\r\n        },\r\n\r\n        {  //------------- Unit column ----------------------------------\r\n            text: \"Unit\",\r\n            classes: 'table-cursor-pointer',\r\n            dataField: \"\",\r\n            headerStyle: () => {\r\n                return { width: '9%', textAlign: 'center' };\r\n            },\r\n            formatExtraData: { tableList: orderItemTable },\r\n            formatter: (value, row, key, { tableList }) => {\r\n\r\n                if (!row.UnitName) {\r\n                    row[\"Unit_id\"] = 0;\r\n                    row[\"UnitName\"] = 'null';\r\n\r\n                    row.UnitDetails.forEach(i => {\r\n                        if ((i.PODefaultUnit) && !(subPageMode === url.ORDER_4)) {\r\n                            defaultUnit(i)\r\n                        }\r\n                        else if ((i.SODefaultUnit) && (subPageMode === url.ORDER_4)) {\r\n                            defaultUnit(i)\r\n                        }\r\n                    });\r\n                    // ********************** //if default unit is not selected then auto first indx unit select\r\n                    if ((row[\"UnitName\"] === 'null') && row.UnitDetails.length > 0) {\r\n                        defaultUnit(row.UnitDetails[0])\r\n                    }\r\n                    // **********************                   \r\n\r\n                    function defaultUnit(i) {\r\n                        row[\"Unit_id\"] = i.UnitID;\r\n                        row[\"po_Unit_id\"] = i.UnitID;\r\n                        row[\"UnitName\"] = i.UnitName;\r\n                        row[\"BaseUnitQuantity\"] = i.BaseUnitQuantity;\r\n                        row[\"Rate\"] = ((i.BaseUnitQuantity / i.BaseUnitQuantityNoUnit) * i.Rate).toFixed(2);\r\n                    }\r\n\r\n                } else {\r\n                    row.UnitDetails.forEach(i => {\r\n                        if ((row.Unit_id === i.UnitID)) {\r\n                            row[\"BaseUnitQuantity\"] = i.BaseUnitQuantity;\r\n                            row[\"UnitName\"] = i.UnitName;\r\n                        }\r\n                    });\r\n\r\n                }\r\n                if (pageMode === mode.edit) {\r\n\r\n                    if (!row[\"edit_Qty\"]) {\r\n                        if (row.Quantity > 0) {\r\n                            row[\"editrowId\"] = true\r\n                            row[\"edit_Qty\"] = row.Quantity\r\n\r\n                        } else {\r\n                            row[\"edit_Qty\"] = 0\r\n                            row[\"editrowId\"] = false\r\n                        }\r\n                    }\r\n\r\n                    if (!row[\"edit_Unit_id\"]) {\r\n                        row[\"edit_Unit_id\"] = row.Unit_id;\r\n                    }\r\n\r\n                    if (!row[\"edit_Discount\"]) {\r\n                        row[\"edit_Discount\"] = row.Discount;\r\n                    }\r\n                    if (!row[\"edit_DiscountType\"]) {\r\n                        row[\"edit_DiscountType\"] = row.DiscountType;\r\n                    }\r\n                }\r\n\r\n                return (\r\n                    <div >\r\n                        <Select\r\n                            id={\"ddlUnit\"}\r\n                            key={`ddlUnit${row.id}`}\r\n                            defaultValue={{ value: row.Unit_id, label: row.UnitName }}\r\n                            options={\r\n                                row.UnitDetails.map(i => ({\r\n                                    label: i.UnitName,\r\n                                    value: i.UnitID,\r\n\r\n                                    BaseUnitQuantity: i.BaseUnitQuantity,\r\n                                    Rate: i.Rate,\r\n                                    BaseUnitQuantityNoUnit: i.BaseUnitQuantityNoUnit\r\n                                }))\r\n                            }\r\n                            onChange={e => {\r\n                                row[\"Unit_id\"] = e.value;\r\n                                row[\"UnitName\"] = e.label\r\n                                row[\"BaseUnitQuantity\"] = e.BaseUnitQuantity;\r\n\r\n                                row[\"Rate\"] = ((e.BaseUnitQuantity / e.BaseUnitQuantityNoUnit) * e.Rate).toFixed(2);\r\n                                itemWise_CalculationFunc(row, undefined, tableList)\r\n\r\n                                document.getElementById(`Rate-${key}`).innerText = _cfunc.amountCommaSeparateFunc(row.Rate)\r\n                            }}\r\n                        >\r\n                        </Select >\r\n                    </div>\r\n                )\r\n            },\r\n\r\n        },\r\n\r\n        {//------------- Rate column ----------------------------------\r\n            text: \"Basic Rate\",\r\n            classes: 'table-cursor-pointer',\r\n            dataField: \"\",\r\n            headerStyle: () => {\r\n                return { width: '9%', textAlign: 'center' };\r\n            },\r\n            formatExtraData: { tableList: orderItemTable },\r\n            formatter: (value, row, k, { tableList }) => {\r\n                if (subPageMode === url.ORDER_1) {\r\n                    return (\r\n                        <div key={row.id} className=\"text-end\">\r\n                            <CInput\r\n                                type=\"text\"\r\n                                id={`Rate-${k}`}\r\n                                cpattern={decimalRegx}\r\n                                defaultValue={row.Rate}\r\n                                className=\"text-end\"\r\n                                onChange={(event) => {\r\n                                    row.Rate = event.target.value;\r\n                                    itemWise_CalculationFunc(row, undefined, tableList)\r\n\r\n                                }}\r\n                            />\r\n\r\n                        </div>\r\n                    )\r\n                }\r\n                else {\r\n                    return (\r\n                        <div key={row.id} className=\"text-end\">\r\n\r\n                            <span id={`Rate-${k}`}>{_cfunc.amountCommaSeparateFunc(row.Rate)}</span>\r\n                        </div>\r\n                    )\r\n                }\r\n\r\n            },\r\n\r\n        },\r\n\r\n        {//------------- MRP column ----------------------------------\r\n            text: \"MRP\",\r\n            classes: 'table-cursor-pointer',\r\n            dataField: \"\",\r\n            headerStyle: () => {\r\n                return { width: '8%', textAlign: 'center' };\r\n            },\r\n            formatter: (value, row, k) => {\r\n\r\n                return (\r\n                    <div key={row.id} className=\"text-end\">\r\n                        <span>{row.MRPValue}</span>\r\n                    </div>\r\n                )\r\n            },\r\n\r\n        },\r\n        {//***************Discount********************************************************************* */\r\n            text: \"Discount/unit\",\r\n            dataField: \"\",\r\n            formatExtraData: {\r\n                discountValueAll: discountValueAll,\r\n                discountTypeAll: discountTypeAll,\r\n                changeAllDiscount: changeAllDiscount,\r\n                forceReload: forceReload,\r\n                tableList: orderItemTable\r\n            },\r\n            headerStyle: () => {\r\n                return { width: '11%', textAlign: 'center' };\r\n            },\r\n            headerFormatter: () => {\r\n                return (\r\n                    <div className=\"\" >\r\n                        {orderItemTable.length <= 0 ?\r\n                            <div className=\"col col-3 mt-2\">\r\n                                <Label>Discount/unit</Label>\r\n                            </div>\r\n                            :\r\n                            <div className=\"row\">\r\n                                <div className=\" mt-n2 mb-n2\">\r\n                                    <Label>Discount/unit</Label>\r\n                                </div>\r\n                                <div className=\"col col-6\" >\r\n                                    <Select\r\n                                        type=\"text\"\r\n                                        defaultValue={discountTypeAll}\r\n                                        classNamePrefix=\"select2-selection\"\r\n                                        options={discountDropOption}\r\n                                        style={{ textAlign: \"right\" }}\r\n                                        onChange={(e) => {\r\n                                            setChangeAllDiscount(true);\r\n                                            setDiscountTypeAll(e);\r\n                                            setDiscountValueAll('');\r\n                                        }}\r\n                                    />\r\n                                </div>\r\n                                <div className=\"col col-6\" >\r\n                                    <CInput\r\n                                        type=\"text\"\r\n                                        className=\"input\"\r\n                                        style={{ textAlign: \"right\" }}\r\n                                        cpattern={decimalRegx}\r\n                                        value={discountValueAll}\r\n                                        onChange={(e) => {\r\n                                            let e_val = Number(e.target.value);\r\n\r\n                                            // Check if discount type is \"percentage\"\r\n                                            if (discountTypeAll.value === 2) {// Discount type 2 represents \"percentage\"\r\n                                                // Limit the input to the range of 0 to 100\r\n                                                if (e_val > 100) {\r\n                                                    e.target.value = 100; // Set the input value to 100 if it exceeds 100\r\n                                                } else if (!(e_val >= 0 && e_val < 100)) {\r\n                                                    e.target.value = \"\"; // Clear the input value if it is less than 0\r\n                                                }\r\n                                            }\r\n\r\n                                            setChangeAllDiscount(true);\r\n                                            setDiscountValueAll(e.target.value);\r\n                                        }}\r\n                                    />\r\n                                </div>\r\n                            </div>\r\n                        }\r\n                    </div>\r\n                );\r\n            },\r\n\r\n            classes: () => \"order-discount-row\",\r\n            formatter: (cellContent, index1, key, formatExtraData) => {\r\n                let { tableList, discountValueAll, discountTypeAll } = formatExtraData;\r\n\r\n                if (formatExtraData.changeAllDiscount) {\r\n                    index1.Discount = discountValueAll;\r\n                    index1.DiscountType = discountTypeAll.value;\r\n                    itemWise_CalculationFunc(index1, undefined, tableList)\r\n                }\r\n                if (!index1.DiscountType) { index1.DiscountType = discountTypeAll.value }\r\n\r\n                const defaultDiscountTypelabel =\r\n                    index1.DiscountType === 1 ? discountDropOption[0] : discountDropOption[1];\r\n\r\n                return (\r\n                    <>\r\n                        <div className=\"mb-2\">\r\n                            <div className=\"parent\">\r\n                                <div className=\"child\">\r\n                                    <label className=\"label\">Type&nbsp;&nbsp;&nbsp;</label>\r\n                                </div>\r\n                                <div className=\"child\">\r\n                                    <Select\r\n                                        id={`DicountType_${key}`}\r\n                                        classNamePrefix=\"select2-selection\"\r\n                                        key={`DicountType_${key}-${index1.id}`}\r\n                                        value={defaultDiscountTypelabel}\r\n                                        options={discountDropOption}\r\n                                        onChange={(e) => {\r\n                                            setChangeAllDiscount(false);\r\n                                            setForceReload(!forceReload);\r\n                                            index1.DiscountType = e.value;\r\n                                            index1.Discount = '';\r\n                                            itemWise_CalculationFunc(index1, undefined, tableList)\r\n                                        }}\r\n                                    />\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div>\r\n                            <div className=\"parent\">\r\n                                <div className=\"child\">\r\n                                    <label className=\"label\">Value&nbsp;</label>\r\n                                </div>\r\n                                <div className=\"child\">\r\n                                    <CInput\r\n                                        className=\"input\"\r\n                                        id={`Dicount_${key}-${index1.id}`}\r\n                                        style={{ textAlign: \"right\" }}\r\n                                        type=\"text\"\r\n                                        value={index1.Discount}\r\n                                        cpattern={decimalRegx}\r\n                                        onChange={(e) => {\r\n\r\n                                            let e_val = Number(e.target.value);\r\n                                            // Check if discount type is \"percentage\"\r\n                                            if (index1.DiscountType === 2) { // Discount type 2 represents \"percentage\"\r\n                                                // Limit the input to the range of 0 to 100\r\n                                                if (e_val > 100) {\r\n                                                    e.target.value = 100; // Set the input value to 100 if it exceeds 100\r\n                                                } else if (!(e_val >= 0 && e_val < 100)) {\r\n                                                    e.target.value = ''; // Clear the input value if it is less than 0\r\n                                                }\r\n                                            }\r\n                                            index1.Discount = e.target.value;\r\n                                            setChangeAllDiscount(false);\r\n                                            setForceReload(!forceReload);\r\n                                            itemWise_CalculationFunc(index1, undefined, tableList)\r\n                                        }}\r\n\r\n                                    />\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        {/* <div className=\"bottom-div\">\r\n                            <span>Amount:</span>\r\n                            <samp id={`roundedTotalAmount-${index1.id}`}>\r\n                                {_cfunc.amountCommaSeparateFunc(index1.roundedTotalAmount)}\r\n                            </samp>\r\n                        </div> */}\r\n                    </>\r\n                );\r\n            },\r\n        },\r\n\r\n        { //------------- Comment column ----------------------------------\r\n            text: \"Comment\",\r\n            classes: 'table-cursor-pointer',\r\n            dataField: \"\",\r\n            formatter: (value, row, k) => {\r\n                return (\r\n                    <span >\r\n                        <Input type=\"text\"\r\n                            id={`Comment${k}`}\r\n                            key={`Comment${row.id}`}\r\n\r\n                            defaultValue={row.Comment}\r\n                            autoComplete=\"off\"\r\n                            onChange={(e) => { row[\"Comment\"] = e.target.value }}\r\n                        />\r\n                    </span>\r\n                )\r\n            },\r\n\r\n            headerStyle: () => {\r\n                return { width: '9%', textAlign: 'center' };\r\n            }\r\n        },\r\n    ];\r\n\r\n    const defaultSorted = [\r\n        {\r\n            dataField: \"ItemName\", // if dataField is not match to any column you defined, it will be ignored.\r\n            order: \"asc\", // desc or asc\r\n        },\r\n    ];\r\n\r\n    function orderdateOnchange(e, date) {\r\n        setorderdate(date)\r\n    };\r\n\r\n    function supplierOnchange(e) {\r\n\r\n        setsupplierSelect(e);\r\n        if (subPageMode === url.ORDER_4) {\r\n            dispatch(_act.getSupplierAddress(e.value))\r\n            let Date = currentDate_ymd\r\n            if ((e.FSSAIExipry === \"\") || (e.FSSAIExipry === null)) {\r\n                setFSSAI_Date_Is_Expired(\"There is No FSSAI Expiry Date Please Insert FSSAI Date!\")\r\n            }\r\n            else if (e.FSSAIExipry < Date) {\r\n                setFSSAI_Date_Is_Expired(\"FSSAI Expired\")\r\n            } else {\r\n                setFSSAI_Date_Is_Expired(\"\")\r\n            }\r\n        }\r\n        setOrderItemTable([])\r\n        setItemSelect('')\r\n        goButtonHandler(e.value)\r\n    };\r\n\r\n    function partyOnchange(e) {\r\n        setPartySelect(e)\r\n    };\r\n\r\n    function itemSelectOnchange(e) {\r\n        setItemSelect(e)\r\n    };\r\n\r\n    function Open_Assign_func() {\r\n        setisOpen_assignLink(false)\r\n        dispatch(_act.editPartyItemIDSuccess({ Status: false }));\r\n        _cfunc.breadcrumbReturnFunc({ dispatch, userAcc: userPageAccessState })\r\n        goButtonHandler()\r\n    };\r\n\r\n    function RouteOnChange(event) {\r\n        setsupplierSelect('')\r\n        dispatch(_act.GetVenderSupplierCustomer({ subPageMode, RouteID: event.value }))\r\n        setRouteSelect(event)\r\n    }\r\n\r\n    async function assignItem_onClick(event) {\r\n        event.stopPropagation();\r\n        const isParty = subPageMode === url.ORDER_1 ? supplierSelect.value : _cfunc.loginPartyID()\r\n        const config = {\r\n            editId: isParty,\r\n            Party: isParty,\r\n            btnmode: mode.assingLink,\r\n            subPageMode,\r\n            btnId: `btn-assingLink-${supplierSelect.value}`\r\n        }\r\n\r\n        const isConfirmed = await customAlert({\r\n            Type: 7,\r\n            Message: \"Do you confirm your choice?\",\r\n        });\r\n\r\n        if (isConfirmed) {\r\n\r\n            const jsonBody = JSON.stringify({ ..._cfunc.loginJsonBody(), ...{ PartyID: isParty } });\r\n\r\n            dispatch(editPartyItemID({ jsonBody, config }))\r\n            dispatch(_act.GoButton_For_Order_AddSuccess([]))\r\n        };\r\n    };\r\n\r\n    function itemWise_CalculationFunc(row, IsComparGstIn, tableList) {\r\n        const calculate = orderCalculateFunc(row) //order calculation function \r\n        row[\"roundedTotalAmount\"] = calculate.roundedTotalAmount\r\n\r\n        let sumOfAmount = tableList.reduce((accumulator, currentObject) => accumulator + (Number(currentObject[\"roundedTotalAmount\"]) || 0), 0);\r\n        setOrderAmount(sumOfAmount.toFixed(2))\r\n        dispatch(_act.BreadcrumbShowCountlabel(`${\"Order Amount\"} :${_cfunc.amountCommaSeparateFunc(sumOfAmount)}`))\r\n    };\r\n\r\n\r\n    const item_AddButtonHandler = () => {\r\n\r\n        setGoBtnDissable(true)\r\n\r\n        let isfound = orderItemTable.find(i => i.value === itemSelect.value);\r\n\r\n        if (!itemSelect) {\r\n            customAlert({ Type: 4, Message: `Select Item Name` })\r\n        }\r\n        else if (isfound === undefined) {\r\n            setOrderItemTable([itemSelect].concat(orderItemTable))\r\n        }\r\n        else {\r\n            customAlert({ Type: 3, Message: \"This Item Already Exist\" })\r\n        }\r\n        setItemSelect('')\r\n    }\r\n\r\n    const goButtonHandler = async (selectSupplier) => {\r\n\r\n        if (!supplierSelect > 0 && !selectSupplier) {\r\n            await customAlert({\r\n                Type: 4,\r\n                Message: `Please Select ${fieldLabel.Supplier}`\r\n            })\r\n            return;\r\n        }\r\n        let btnId = `go-btn${subPageMode}`\r\n        _cfunc.btnIsDissablefunc({ btnId, state: true })\r\n\r\n        dispatch(_act.BreadcrumbShowCountlabel(initial_BredcrumbMsg))\r\n\r\n\r\n        let PO_Body = {\r\n            Party: selectSupplier ? selectSupplier : supplierSelect.value,\r\n            Customer: _cfunc.loginPartyID(),\r\n            RateParty: _cfunc.loginPartyID(),\r\n            EffectiveDate: orderdate,\r\n            OrderID: (pageMode === mode.defaultsave) ? 0 : editVal.id,\r\n            OrderType: order_Type.PurchaseOrder,\r\n        }\r\n        let SO_body = {\r\n            Party: _cfunc.loginPartyID(), //swap  party and customer for sale oerder\r\n            Customer: selectSupplier ? selectSupplier : supplierSelect.value,//swap  party and customer for sale oerder\r\n            RateParty: selectSupplier ? selectSupplier : supplierSelect.value,\r\n            EffectiveDate: orderdate,\r\n            OrderID: (pageMode === mode.defaultsave) ? 0 : editVal.id,\r\n            OrderType: order_Type.SaleOrder,\r\n        }\r\n\r\n\r\n        let jsonBody;   //json body decleration \r\n        if (subPageMode === url.ORDER_4) {\r\n            jsonBody = JSON.stringify({ ...SO_body, });\r\n        }\r\n        else {\r\n            jsonBody = JSON.stringify({ ...PO_Body, });\r\n        }\r\n        let config = { subPageMode, jsonBody, btnId }\r\n        dispatch(_act.GoButton_For_Order_Add(config))\r\n    };\r\n\r\n    const saveHandler1 = async (event) => {\r\n        event.preventDefault();\r\n\r\n        const btnId = event.target.id\r\n        const gotoInvoiceMode = btnId.substring(0, 14) === \"gotoInvoiceBtn\";\r\n\r\n        try {\r\n            const division = _cfunc.loginPartyID();\r\n            const supplier = supplierSelect.value;\r\n\r\n            const validMsg = []\r\n            const itemArr = []\r\n            const isVDC_POvalidMsg = []\r\n\r\n            let IsComparGstIn = { GSTIn_1: supplierSelect.GSTIN, GSTIn_2: _cfunc.loginUserGSTIN() }\r\n\r\n            await orderItemTable.forEach(i => {\r\n\r\n                if ((i.Quantity > 0) && !(i.Rate > 0)) {\r\n                    validMsg.push({ [i.ItemName]: \"This Item Rate Is Require...\" });\r\n                }\r\n                else if (pageMode === mode.edit) {\r\n\r\n                    const ischange = (!(Number(i.edit_Qty) === Number(i.Quantity)) || !(i.edit_Unit_id === i.Unit_id));\r\n\r\n                    let isedit = 0\r\n                    if (ischange && !(i.edit_Qty === 0)) {\r\n                        isedit = 1\r\n                    }\r\n                    orderItemFunc({ i, isedit })\r\n                }\r\n                else {\r\n                    const isedit = 0;\r\n                    orderItemFunc({ i, isedit })\r\n                };\r\n            })\r\n\r\n\r\n            function orderItemFunc({ i, isedit }) {\r\n\r\n                i.Quantity = ((i.Quantity === null) || (i.Quantity === undefined)) ? 0 : i.Quantity\r\n\r\n                if ((i.Quantity > 0) && (i.Rate > 0) && !(orderTypeSelect.value === 3)) {\r\n                    var isdel = false;\r\n                    isRowValueChanged({ i, isedit, isdel })\r\n                }\r\n                else if (!(i.Quantity < 0) && (i.editrowId) && !(orderTypeSelect.value === 3)) {\r\n                    var isdel = true;\r\n                    isRowValueChanged({ i, isedit, isdel })\r\n                }\r\n                else if (!(i.Quantity < 0) && !(i.editrowId) && !(orderTypeSelect.value === 3)) {\r\n                    return\r\n                }\r\n\r\n\r\n\r\n                else if ((i.Quantity > 0) && (i.Rate > 0)) {//isvdc_po logic\r\n\r\n                    if (i.Bom) {\r\n                        if ((itemArr.length === 0)) {\r\n                            const isdel = false;\r\n                            isRowValueChanged({ i, isedit, isdel })\r\n\r\n                        } else {\r\n                            if (isVDC_POvalidMsg.length === 0)\r\n                                isVDC_POvalidMsg.push({ [\"VDC-PO Type\"]: \"This Type Of Order Only One Item Quantity Accept...\" });\r\n                        }\r\n                    } else {\r\n                        isVDC_POvalidMsg.push({ [i.ItemName]: \"This Is Not VDC-PO Item...\" });\r\n                    }\r\n                }\r\n                else if ((i.Quantity < 1) && (i.editrowId)) {\r\n                    if (i.Bom) {\r\n                        if ((itemArr.length === 0)) {\r\n                            const isdel = true;\r\n                            isRowValueChanged({ i, isedit, isdel })\r\n\r\n                        } else {\r\n                            if (isVDC_POvalidMsg.length === 0)\r\n                                isVDC_POvalidMsg.push({ [\"VDC-PO Type\"]: \"This Type of order Only One Item Quantity Accept...\" });\r\n                        }\r\n                    } else {\r\n                        isVDC_POvalidMsg.push({ [i.ItemName]: \"This Is Not VDC-PO Item...\" });\r\n                    }\r\n                };\r\n            }\r\n            // IsComparGstIn= compare Supplier and Customer are Same State by GSTIn Number\r\n\r\n\r\n            function isRowValueChanged({ i, isedit, isdel }) {\r\n\r\n\r\n                const calculate = orderCalculateFunc(i, IsComparGstIn)\r\n\r\n\r\n                const arr = {\r\n                    Item: i.Item_id,\r\n                    Quantity: isdel ? 0 : i.Quantity,\r\n                    MRP: i.MRP_id,\r\n                    MRPValue: i.MRPValue,\r\n                    Rate: i.Rate,\r\n                    Unit: i.Unit_id,\r\n                    BaseUnitQuantity: (Number(i.BaseUnitQuantity) * Number(i.Quantity)).toFixed(2),\r\n                    Margin: \"\",\r\n\r\n                    GST: i.GST_id,\r\n                    CGST: calculate.CGST_Amount,\r\n                    SGST: calculate.SGST_Amount,\r\n                    IGST: calculate.IGST_Amount,\r\n\r\n                    GSTPercentage: calculate.GST_Percentage,\r\n                    CGSTPercentage: calculate.CGST_Percentage,\r\n                    SGSTPercentage: calculate.SGST_Percentage,\r\n                    IGSTPercentage: calculate.IGST_Percentage,\r\n\r\n                    BasicAmount: calculate.basicAmount,\r\n                    GSTAmount: calculate.roundedGstAmount,\r\n                    Amount: calculate.roundedTotalAmount,\r\n\r\n                    TaxType: 'GST',\r\n                    DiscountType: i.DiscountType,\r\n                    Discount: Number(i.Discount) || 0,\r\n                    DiscountAmount: Number(calculate.disCountAmt).toFixed(2),\r\n\r\n                    IsDeleted: isedit,\r\n                    Comment: i.Comment\r\n\r\n                }\r\n                itemArr.push(arr)\r\n            };\r\n\r\n            const termsAndCondition = await termsAndConTable.map(i => ({\r\n                TermsAndCondition: i.value,\r\n                IsDeleted: i.IsDeleted\r\n            }))\r\n\r\n            if (isVDC_POvalidMsg.length > 0) {\r\n                customAlert({\r\n                    Type: 4,\r\n                    Message: isVDC_POvalidMsg,\r\n                })\r\n                return\r\n            };\r\n            if (validMsg.length > 0) {\r\n                customAlert({\r\n                    Type: 4,\r\n                    Message: validMsg,\r\n                })\r\n\r\n                return\r\n            }\r\n            if (itemArr.length === 0) {\r\n                customAlert({\r\n                    Type: 4,\r\n                    Message: \"Please Select 1 Item Quantity\",\r\n                })\r\n\r\n                return\r\n            }\r\n            if (orderTypeSelect.length === 0) {\r\n                customAlert({\r\n                    Type: 4,\r\n                    Message: \"Please Select PO Type\",\r\n                })\r\n                return\r\n            }\r\n            if ((termsAndCondition.length === 0) && !(subPageMode === url.ORDER_2)\r\n                && !(subPageMode === url.ORDER_4) && !(subPageMode === url.IB_ORDER)\r\n            ) {\r\n                customAlert({\r\n                    Type: 4,\r\n                    Message: \"Please Enter One Terms And Condition\",\r\n                })\r\n                return\r\n            }\r\n\r\n            const po_JsonBody = {\r\n                OrderDate: orderdate,\r\n                OrderAmount: orderAmount,\r\n                OrderItem: itemArr,\r\n                Customer: division,\r\n                Supplier: supplier,\r\n                OrderType: order_Type.PurchaseOrder,\r\n                IsConfirm: false  // PO Order then IsConfirm true\r\n            }\r\n            const SO_JsonBody = {\r\n                OrderDate: orderdate,\r\n                OrderAmount: orderAmount,\r\n                OrderItem: itemArr,\r\n                Customer: supplier,// swipe supllier \r\n                Supplier: division,// swipe Customer\r\n                OrderType: order_Type.SaleOrder,\r\n                IsConfirm: true   // SO Order then IsConfirm true\r\n            }\r\n            const IB_JsonBody = {\r\n                DemandDate: orderdate,\r\n                DemandAmount: orderAmount,\r\n                DemandItem: itemArr,\r\n                Customer: division,\r\n                Supplier: supplier,\r\n                OrderType: order_Type.PurchaseOrder,\r\n            }\r\n            const comm_jsonBody = {\r\n                DeliveryDate: deliverydate,\r\n                Description: description,\r\n                BillingAddress: billAddr.value,\r\n                ShippingAddress: shippAddr.value,\r\n                OrderNo: 1,\r\n                FullOrderNumber: \"PO0001\",\r\n                Division: division,\r\n                POType: orderTypeSelect.value,\r\n                POFromDate: orderTypeSelect.value === 1 ? currentDate_ymd : poFromDate,\r\n                POToDate: orderTypeSelect.value === 1 ? currentDate_ymd : poToDate,\r\n                CreatedBy: _cfunc.loginUserID(),\r\n                UpdatedBy: _cfunc.loginUserID(),\r\n                OrderTermsAndConditions: termsAndCondition\r\n            };\r\n\r\n\r\n            let jsonBody;   //json body decleration \r\n            if (subPageMode === url.IB_ORDER) {\r\n                jsonBody = JSON.stringify({ ...comm_jsonBody, ...IB_JsonBody });\r\n            }\r\n            else if (subPageMode === url.ORDER_4) {\r\n                jsonBody = JSON.stringify({ ...comm_jsonBody, ...SO_JsonBody });\r\n            }\r\n            else {\r\n                jsonBody = JSON.stringify({ ...comm_jsonBody, ...po_JsonBody });\r\n            }\r\n            // +*********************************\r\n\r\n            if (pageMode === mode.edit) {\r\n                dispatch(_act.updateOrderIdAction({ jsonBody, updateId: editVal.id, gotoInvoiceMode }))\r\n\r\n            } else {\r\n\r\n                dispatch(_act.saveOrderAction({ jsonBody, subPageMode, gotoInvoiceMode }))\r\n            }\r\n\r\n        } catch (e) { _cfunc.CommonConsole(\"order_save_\", e) }\r\n    }\r\n\r\n    // Function to handle the form submission\r\n    const saveHandler = async (event) => {\r\n        event.preventDefault();\r\n\r\n        // Extract the ID from the target element\r\n        const buttonId = event.target.id;\r\n        const gotoInvoiceMode = buttonId.substring(0, 14) === \"gotoInvoiceBtn\";\r\n\r\n        try {\r\n            // Get the division from the loginPartyID function\r\n            const division = _cfunc.loginPartyID();\r\n            const supplier = supplierSelect.value;\r\n\r\n            const validationMessages = []; // Stores validation messages for items\r\n            const orderItems = []; // Stores processed order items\r\n            const vdcPoValidationMessages = []; // Stores VDC-PO validation messages\r\n            \r\n            // Loop through the order items\r\n            await orderItemTable.forEach(item => {\r\n               \r\n                // Check for item quantity and rate validity\r\n                if ((item.Quantity > 0) && !(item.Rate > 0)) {\r\n                    validationMessages.push({ [item.ItemName]: \"This Item Rate Is Required...\" });\r\n                }\r\n                else if (pageMode === mode.edit) {\r\n                    // Check if the item quantity or unit has changed in edit mode\r\n                    const isChange = (\r\n                        !(Number(item.edit_Qty) === Number(item.Quantity))\r\n                        || !(item.edit_Unit_id === item.Unit_id)\r\n                        || !(Number(item.edit_Discount) === Number(item.Discount))\r\n                        || !(Number(item.edit_DiscountType) === Number(item.DiscountType))\r\n                    );\r\n\r\n                    let isEdit = 0;\r\n                    if (isChange && !(item.edit_Qty === 0)) {\r\n                        isEdit = 1;\r\n                    }\r\n                    processOrderItem({ item, isEdit });\r\n                }\r\n                else {\r\n                    const isEdit = 0;\r\n                    processOrderItem({ item, isEdit });\r\n                }\r\n            });\r\n\r\n            // Function to handle order items\r\n            function processOrderItem({ item, isEdit }) {\r\n               \r\n                // Handle quantity for null or undefined values\r\n                item.Quantity = !Number(item.Quantity) ? 0 : item.Quantity;\r\n\r\n                // Check various conditions for item processing\r\n                if ((item.Quantity > 0) && (item.Rate > 0) && !(orderTypeSelect.value === 3)) {\r\n                    // Item is not deleted and has value changes\r\n                    processValueChanged({ item, isEdit, isDelete: false });\r\n                }\r\n                else if (!(item.Quantity < 0) && (item.editrowId) && !(orderTypeSelect.value === 3)) {\r\n                    // Item is deleted (set quantity to 0) and has value changes\r\n                    processValueChanged({ item, isEdit, isDelete: true });\r\n                }\r\n                else if (!(item.Quantity < 0) && !(item.editrowId) && !(orderTypeSelect.value === 3)) {\r\n                    // Item is not deleted and has no value changes, skip\r\n                    return;\r\n                }\r\n                else if ((item.Quantity > 0) && (item.Rate > 0)) { // Logic for VDC-PO\r\n                    if (item.Bom) {\r\n                        if ((orderItems.length === 0)) {\r\n                            // First VDC-PO item, not deleted and has value changes\r\n                            processValueChanged({ item, isEdit, isDelete: false });\r\n                        } else {\r\n                            if (vdcPoValidationMessages.length === 0) {\r\n                                vdcPoValidationMessages.push({ [\"VDC-PO Type\"]: \"This Type Of Order Only One Item Quantity Accept...\" });\r\n                            }\r\n                        }\r\n                    } else {\r\n                        vdcPoValidationMessages.push({ [item.ItemName]: \"This Is Not VDC-PO Item...\" });\r\n                    }\r\n                }\r\n                else if ((item.Quantity < 1) && (item.editrowId)) {\r\n                    if (item.Bom) {\r\n                        if ((orderItems.length === 0)) {\r\n                            // First VDC-PO item, deleted and has value changes\r\n                            processValueChanged({ item, isEdit, isDelete: true });\r\n                        } else {\r\n                            if (vdcPoValidationMessages.length === 0) {\r\n                                vdcPoValidationMessages.push({ [\"VDC-PO Type\"]: \"This Type of order Only One Item Quantity Accept...\" });\r\n                            }\r\n                        }\r\n                    } else {\r\n                        vdcPoValidationMessages.push({ [item.ItemName]: \"This Is Not VDC-PO Item...\" });\r\n                    }\r\n                }\r\n            }\r\n\r\n            // Function to handle value changes in order items\r\n            function processValueChanged({ item, isEdit, isDelete }) {\r\n               \r\n                const calculated = orderCalculateFunc(item, { GSTIn_1: supplierSelect.GSTIN, GSTIn_2: _cfunc.loginUserGSTIN() });\r\n\r\n                // Create an object for the order item\r\n                const orderItem = {\r\n                    Item: item.Item_id,\r\n                    Quantity: isDelete ? 0 : item.Quantity,\r\n                    MRP: item.MRP_id,\r\n                    MRPValue: item.MRPValue,\r\n                    Rate: item.Rate,\r\n                    Unit: item.Unit_id,\r\n                    BaseUnitQuantity: (Number(item.BaseUnitQuantity) * Number(item.Quantity)).toFixed(2),\r\n                    Margin: \"\",\r\n                    GST: item.GST_id,\r\n                    CGST: calculated.CGST_Amount,\r\n                    SGST: calculated.SGST_Amount,\r\n                    IGST: calculated.IGST_Amount,\r\n                    GSTPercentage: calculated.GST_Percentage,\r\n                    CGSTPercentage: calculated.CGST_Percentage,\r\n                    SGSTPercentage: calculated.SGST_Percentage,\r\n                    IGSTPercentage: calculated.IGST_Percentage,\r\n                    BasicAmount: calculated.basicAmount,\r\n                    GSTAmount: calculated.roundedGstAmount,\r\n                    Amount: calculated.roundedTotalAmount,\r\n                    TaxType: 'GST',\r\n                    DiscountType: item.DiscountType,\r\n                    Discount: Number(item.Discount) || 0,\r\n                    DiscountAmount: Number(calculated.disCountAmt).toFixed(2),\r\n                    IsDeleted: isEdit, // Set to 1 if item is edited, otherwise 0 for delete\r\n                    Comment: item.Comment\r\n                };\r\n\r\n                orderItems.push(orderItem);\r\n            }\r\n\r\n            // Get terms and conditions\r\n            const termsAndConditions = await termsAndConTable.map(item => ({\r\n                TermsAndCondition: item.value,\r\n                IsDeleted: item.IsDeleted\r\n            }));\r\n\r\n            // Check for any validation errors\r\n            if (vdcPoValidationMessages.length > 0) {\r\n                customAlert({\r\n                    Type: 4,\r\n                    Message: vdcPoValidationMessages,\r\n                });\r\n                return;\r\n            }\r\n            if (validationMessages.length > 0) {\r\n                customAlert({\r\n                    Type: 4,\r\n                    Message: validationMessages,\r\n                });\r\n                return;\r\n            }\r\n            if (orderItems.length === 0) {\r\n                customAlert({\r\n                    Type: 4,\r\n                    Message: \"Please Select 1 Item Quantity\",\r\n                });\r\n                return;\r\n            }\r\n            if (orderTypeSelect.length === 0) {\r\n                customAlert({\r\n                    Type: 4,\r\n                    Message: \"Please Select PO Type\",\r\n                });\r\n                return;\r\n            }\r\n            if ((termsAndConditions.length === 0) && !(subPageMode === url.ORDER_2)\r\n                && !(subPageMode === url.ORDER_4) && !(subPageMode === url.IB_ORDER)\r\n            ) {\r\n                customAlert({\r\n                    Type: 4,\r\n                    Message: \"Please Enter One Terms And Condition\",\r\n                });\r\n                return;\r\n            }\r\n\r\n            const po_JsonBody = {\r\n                OrderDate: orderdate,\r\n                OrderAmount: orderAmount,\r\n                OrderItem: orderItems,\r\n                Customer: division,\r\n                Supplier: supplier,\r\n                OrderType: order_Type.PurchaseOrder,\r\n                IsConfirm: false  // PO Order then IsConfirm true\r\n            }\r\n            const SO_JsonBody = {\r\n                OrderDate: orderdate,\r\n                OrderAmount: orderAmount,\r\n                OrderItem: orderItems,\r\n                Customer: supplier,// swipe supllier \r\n                Supplier: division,// swipe Customer\r\n                OrderType: order_Type.SaleOrder,\r\n                IsConfirm: true   // SO Order then IsConfirm true\r\n            }\r\n            const IB_JsonBody = {\r\n                DemandDate: orderdate,\r\n                DemandAmount: orderAmount,\r\n                DemandItem: orderItems,\r\n                Customer: division,\r\n                Supplier: supplier,\r\n                OrderType: order_Type.PurchaseOrder,\r\n            }\r\n            const comm_jsonBody = {\r\n                DeliveryDate: deliverydate,\r\n                Description: description,\r\n                BillingAddress: billAddr.value,\r\n                ShippingAddress: shippAddr.value,\r\n                OrderNo: 1,\r\n                FullOrderNumber: \"PO0001\",\r\n                Division: division,\r\n                POType: orderTypeSelect.value,\r\n                POFromDate: orderTypeSelect.value === 1 ? currentDate_ymd : poFromDate,\r\n                POToDate: orderTypeSelect.value === 1 ? currentDate_ymd : poToDate,\r\n                CreatedBy: _cfunc.loginUserID(),\r\n                UpdatedBy: _cfunc.loginUserID(),\r\n                OrderTermsAndConditions: termsAndConditions\r\n            };\r\n\r\n\r\n            let jsonBody;   //json body decleration \r\n            if (subPageMode === url.IB_ORDER) {\r\n                jsonBody = JSON.stringify({ ...comm_jsonBody, ...IB_JsonBody });\r\n            }\r\n            else if (subPageMode === url.ORDER_4) {\r\n                jsonBody = JSON.stringify({ ...comm_jsonBody, ...SO_JsonBody });\r\n            }\r\n            else {\r\n                jsonBody = JSON.stringify({ ...comm_jsonBody, ...po_JsonBody });\r\n            }\r\n            // +*********************************\r\n\r\n            if (pageMode === mode.edit) {\r\n                dispatch(_act.updateOrderIdAction({ jsonBody, updateId: editVal.id, gotoInvoiceMode }))\r\n\r\n            } else {\r\n\r\n                dispatch(_act.saveOrderAction({ jsonBody, subPageMode, gotoInvoiceMode }))\r\n            }\r\n        } catch (error) {\r\n            _cfunc.CommonConsole(\"order_save_\", error);\r\n        }\r\n    };\r\n\r\n\r\n\r\n\r\n    if (!(userPageAccessState === \"\")) {\r\n        return (\r\n            <React.Fragment>\r\n                <MetaTags>{_cfunc.metaTagLabel(userPageAccessState)}</MetaTags>\r\n                <div className=\"page-content\" style={{ marginBottom: \"5cm\" }}>\r\n\r\n                    {/* {userAdminRole === 2 ?\r\n                        <div className=\"px-2 mb-1 mt-n1 c_card_filter header text-black\" >\r\n                            <div className=\" mt-1 mb-2 row \">\r\n                                <Col sm=\"6\">\r\n                                    <FormGroup className=\" row mt-3 \" >\r\n                                        <Label className=\"col-sm-5 p-2\"\r\n                                            style={{ width: \"115px\" }}>Party</Label>\r\n                                        <Col sm=\"6\">\r\n                                            <Select\r\n                                                value={partySelect}\r\n                                                classNamePrefix=\"select2-Customer\"\r\n                                                isDisabled={(orderItemTable.length > 0 || pageMode === \"edit\") ? true : false}\r\n                                                options={Party_DropdownOptions}\r\n                                                onChange={partyOnchange}\r\n                                                styles={{\r\n                                                    menu: provided => ({ ...provided, zIndex: 2 })\r\n                                                }}\r\n                                            />\r\n                                        </Col>\r\n                                    </FormGroup>\r\n                                </Col>\r\n\r\n                            </div>\r\n                        </div>\r\n                        : null} */}\r\n\r\n                    {userAdminRole &&\r\n                        <PartyDropdown_Common\r\n                            partySelect={partySelect}\r\n                            setPartyFunc={partyOnchange} />\r\n                    }\r\n\r\n                    <div>\r\n                        <div className=\"px-2 c_card_filter header text-black\" >{/* Order Date And Supplier Name,Go_Button*/}\r\n\r\n                            <div>\r\n                                <Row >\r\n                                    <Col sm=\"4\" >\r\n                                        <FormGroup className=\" row mt-2\" >\r\n                                            <Label className=\"col-sm-5 p-2\"\r\n                                                style={{ width: \"115px\" }}>Delivery Date</Label>\r\n                                            <Col sm=\"7\">\r\n                                                <C_DatePicker\r\n                                                    name=\"orderdate\"\r\n                                                    value={orderdate}\r\n                                                    disabled={(orderItemTable.length > 0 || pageMode === \"edit\") ? true : false}\r\n                                                    onChange={orderdateOnchange}\r\n                                                />\r\n                                            </Col>\r\n                                        </FormGroup>\r\n                                    </Col>\r\n\r\n                                    {(subPageMode === ORDER_4) ?\r\n                                        <Col sm=\"3\">\r\n                                            <FormGroup className=\" row mt-2 \" >\r\n                                                <Label className=\"col-sm-5 p-2\"\r\n                                                    style={{ width: \"65px\" }}>{fieldLabel.Route}</Label>\r\n                                                <Col sm=\"7\">\r\n\r\n                                                    <Select\r\n                                                        classNamePrefix=\"react-select\"\r\n                                                        value={routeSelect}\r\n                                                        options={RouteOptions}\r\n                                                        isDisabled={(orderItemTable.length > 0 || pageMode === \"edit\" || goBtnloading) ? true : false}\r\n                                                        // onChange={(e) => { setRouteSelect(e) }}\r\n                                                        onChange={(e) => { RouteOnChange(e) }}\r\n                                                        styles={{\r\n                                                            menu: provided => ({ ...provided, zIndex: 2 })\r\n                                                        }}\r\n                                                    />\r\n\r\n                                                </Col>\r\n                                            </FormGroup>\r\n                                        </Col >\r\n                                        : <Col sm='3' />\r\n                                    }\r\n\r\n                                    <Col sm=\"4\" className=\"\">\r\n                                        <FormGroup className=\"row mt-2\" >\r\n                                            <Label className=\"col-sm-5 p-2\"\r\n                                                style={{ width: \"115px\" }}>{fieldLabel.Supplier}</Label>\r\n                                            <Col sm=\"7\">\r\n                                                <Select\r\n                                                    value={supplierSelect}\r\n                                                    isDisabled={(orderItemTable.length > 0 || pageMode === \"edit\" || goBtnloading) ? true : false}\r\n                                                    options={supplierOptions}\r\n                                                    onChange={supplierOnchange}\r\n                                                    styles={{\r\n                                                        menu: provided => ({ ...provided, zIndex: 2 })\r\n                                                    }}\r\n                                                />\r\n                                                {(FSSAI_Date_Is_Expired) &&\r\n                                                    <span className=\"text-danger f-8\">\r\n                                                        <small>{FSSAI_Date_Is_Expired} </small>\r\n                                                    </span>\r\n                                                }\r\n                                            </Col>\r\n\r\n                                        </FormGroup>\r\n                                    </Col>\r\n\r\n                                    <Col sm=\"1\">                      {/*Go_Button  */}\r\n\r\n                                        <div className=\"row mt-2  pr-1\">\r\n                                            {pageMode === mode.defaultsave ?\r\n                                                // (!selecedItemWiseOrder && itemSelectDropOptions.length > 0) ?\r\n                                                (!goBtnDissable) ?\r\n\r\n                                                    < Go_Button\r\n                                                        loading={goBtnloading}\r\n                                                        id={`go-btn${subPageMode}`}\r\n                                                        onClick={(e) => {\r\n                                                            setSelecedItemWiseOrder(false)\r\n                                                            setOrderItemTable(itemSelectDropOptions)\r\n                                                            setItemSelect('')\r\n                                                            setGoBtnDissable(true)\r\n                                                        }} />\r\n                                                    : (!selecedItemWiseOrder) &&\r\n                                                    <Change_Button\r\n                                                        id={`change-btn${subPageMode}`}\r\n                                                        onClick={(e) => {\r\n                                                            setGoBtnDissable(false)\r\n                                                            setSelecedItemWiseOrder(true)\r\n                                                            setOrderItemTable([])\r\n                                                            setItemSelect('')\r\n                                                            dispatch(_act.GoButton_For_Order_AddSuccess([]))\r\n                                                        }}\r\n                                                    />\r\n                                                : null\r\n                                            }\r\n                                        </div>\r\n                                    </Col>\r\n\r\n                                </Row>\r\n                                <Row>\r\n                                    <Col sm=\"4\">                               {/*  Description field */}\r\n                                        <FormGroup className=\"row mt-1\" >\r\n                                            <Label className=\"col-sm-5 p-2\"\r\n                                                style={{ width: \"115px\" }}>Description</Label>\r\n                                            <div className=\"col-7\">\r\n                                                <Input type=\"text\"\r\n                                                    value={description}\r\n                                                    placeholder='Enter Order Description'\r\n                                                    onChange={e => setDescription(e.target.value)}\r\n                                                />\r\n\r\n                                            </div>\r\n\r\n                                        </FormGroup>\r\n                                    </Col >\r\n                                    <Col sm=\"3\" />\r\n                                    <Col sm=\"4\">\r\n                                        <FormGroup className=\"row mt-1\" >\r\n                                            <Label className=\"col-sm-5 p-2\"\r\n                                                style={{ width: \"115px\" }}>{fieldLabel.Item}</Label>\r\n\r\n                                            <Col sm=\"7\">\r\n                                                <Select\r\n                                                    value={itemSelect}\r\n                                                    isDisabled={(pageMode === \"edit\" || goBtnloading) ? true : false}\r\n                                                    options={itemSelectDropOptions}\r\n                                                    onChange={itemSelectOnchange}\r\n                                                    styles={{\r\n                                                        menu: provided => ({ ...provided, zIndex: 2 })\r\n                                                    }}\r\n                                                />\r\n                                            </Col>\r\n\r\n                                        </FormGroup>\r\n                                    </Col>\r\n                                    <Col sm=\"1\"  >\r\n\r\n                                        {pageMode === mode.defaultsave ?\r\n                                            <div className=\"row mt-2 pr-1\"  >\r\n                                                {(selecedItemWiseOrder && itemSelectDropOptions.length > 0) ?\r\n                                                    <Button\r\n\r\n                                                        className\r\n                                                        color=\"btn btn-outline-info border-1 font-size-12 \"\r\n                                                        disabled={goBtnloading}\r\n                                                        onClick={() => item_AddButtonHandler()} >\r\n                                                        Add Item\r\n                                                    </Button>\r\n                                                    :\r\n                                                    ((itemSelectDropOptions.length > 0)) &&\r\n                                                    <Button\r\n                                                        color=\"btn btn-secondary border-1 font-size-12\"\r\n                                                        className='text-blac1k'\r\n                                                        disabled={goBtnloading}\r\n                                                        onClick={() => {\r\n                                                            setOrderItemTable([])\r\n                                                            setSelecedItemWiseOrder(true)\r\n                                                        }} >\r\n                                                        Item Wise\r\n                                                    </Button>\r\n\r\n                                                }\r\n\r\n                                            </div> : null\r\n                                        }\r\n                                    </Col>\r\n\r\n                                </Row>\r\n                            </div>\r\n\r\n                        </div>\r\n\r\n                        <div className=\"px-2  mb-1 c_card_body text-black\" >              {/*  Description and Delivery Date  field */}\r\n                            <div className=\"row\">                                         {/*  Description and Delivery Date  field */}\r\n\r\n\r\n                                {/*  Delivery Date field */}\r\n                                {/* {!(subPageMode === url.IB_ORDER) ?\r\n                                    <div className=\"col col-6\" >\r\n                                        <FormGroup className=\" row mt-3 \" >\r\n                                            <Label className=\" p-2\"\r\n                                                style={{ width: \"130px\" }}>Delivery Date</Label>\r\n                                            <div className=\"col col-6 sm-1\">\r\n                                                <C_DatePicker\r\n                                                    id=\"deliverydate\"\r\n                                                    name=\"deliverydate\"\r\n                                                    value={deliverydate}\r\n                                                    disabled={pageMode === \"edit\" ? true : false}\r\n                                                    onChange={(e, date) => { setdeliverydate(date) }}\r\n                                                />\r\n                                            </div>\r\n\r\n                                        </FormGroup>\r\n                                    </div > : null} */}\r\n\r\n                            </div>\r\n\r\n                            {subPageMode === url.ORDER_1 ? <div>                             {/*  Billing Address   and Shipping Address*/}\r\n                                <div className=\"row  \">\r\n\r\n                                    <div className=\"col col-6\">                             {/* Billing Address */}\r\n                                        <FormGroup className=\"row  \" >\r\n                                            <Label className=\" p-2\"\r\n                                                style={{ width: \"115px\" }}>Billing Address</Label>\r\n                                            <div className=\"col col-6\">\r\n                                                <Select\r\n                                                    value={billAddr}\r\n                                                    classNamePrefix=\"select2-Customer\"\r\n                                                    options={supplierAddress}\r\n                                                    onChange={(e) => { setbillAddr(e) }}\r\n                                                    styles={{\r\n                                                        menu: provided => ({ ...provided, zIndex: 2 })\r\n                                                    }}\r\n                                                />\r\n                                            </div>\r\n                                        </FormGroup>\r\n                                    </div >\r\n\r\n                                    <div className=\"col col-6\">                               {/*  Billing Shipping Address */}\r\n                                        <FormGroup className=\" row \" >\r\n                                            <Label className=\" p-2\"\r\n                                                style={{ width: \"130px\" }}>Shipping Address</Label>\r\n                                            <div className=\"col col-6\">\r\n                                                <Select\r\n                                                    value={shippAddr}\r\n                                                    classNamePrefix=\"select2-Customer\"\r\n                                                    styles={{\r\n                                                        menu: provided => ({ ...provided, zIndex: 2 })\r\n                                                    }}\r\n                                                    options={supplierAddress}\r\n                                                    onChange={(e) => { setshippAddr(e) }}\r\n                                                />\r\n                                            </div>\r\n                                        </FormGroup>\r\n                                    </div >\r\n                                </div>\r\n\r\n                                <div className=\"row\" >                                        {/**PO Type  (PO From Date and PO To Date)*/}\r\n                                    <div className=\"col col-6\" >                              {/**PO Type */}\r\n                                        <FormGroup className=\" row  \" >\r\n                                            <Label className=\" p-2\"\r\n                                                style={{ width: \"115px\" }}>PO Type</Label>\r\n                                            <div className=\"col col-6 \">\r\n                                                <Select\r\n                                                    value={orderTypeSelect}\r\n                                                    classNamePrefix=\"select2-Customer\"\r\n                                                    options={orderTypeOptions}\r\n                                                    onChange={(e) => { setorderTypeSelect(e) }}\r\n                                                    styles={{\r\n                                                        menu: provided => ({ ...provided, zIndex: 2 })\r\n                                                    }}\r\n                                                />\r\n                                            </div>\r\n                                        </FormGroup>\r\n                                    </div >\r\n                                </div>\r\n\r\n\r\n                                {(orderTypeSelect.label === 'Open PO') ?\r\n                                    <div className=\"row\" >                                    {/*PO From Date */}\r\n                                        <div className=\"col col-6\" >\r\n                                            <FormGroup className=\" row \" >\r\n                                                <Label className=\" p-2\"\r\n                                                    style={{ width: \"115px\" }}>PO From Date</Label>\r\n                                                <div className=\"col col-6 \">\r\n                                                    <C_DatePicker\r\n                                                        id=\"pofromdate\"\r\n                                                        name=\"pofromdate\"\r\n                                                        value={poFromDate}\r\n                                                        onChange={(e, date) => { setpoFromDate(date) }}\r\n                                                    />\r\n                                                </div>\r\n                                            </FormGroup>\r\n                                        </div >\r\n\r\n                                        <div className=\"col col-6\" >                        {/*PO To Date */}\r\n                                            <FormGroup className=\" row  \" >\r\n                                                <Label className=\" p-2\"\r\n                                                    style={{ width: \"130px\" }}>PO To Date</Label>\r\n                                                <div className=\"col col-6 \">\r\n                                                    <C_DatePicker\r\n                                                        id=\"potodate\"\r\n                                                        name=\"potodate\"\r\n                                                        value={poToDate}\r\n                                                        onChange={(e, date) => { setpoToDate(date) }}\r\n                                                    />\r\n                                                </div>\r\n                                            </FormGroup>\r\n                                        </div >\r\n                                    </div> : null}\r\n                            </div>\r\n                                : null}\r\n\r\n                        </div>\r\n\r\n                    </div>\r\n\r\n\r\n                    <ToolkitProvider\r\n                        keyField={\"Item_id\"}\r\n                        data={orderItemTable}\r\n                        columns={pagesListColumns}\r\n                        search\r\n                    >\r\n                        {(toolkitProps,) => (\r\n                            <React.Fragment>\r\n                                <Row>\r\n                                    <Col xl=\"12\">\r\n                                        <div className=\"table-responsive table \" style={{ minHeight: \"45vh\" }} >\r\n                                            <BootstrapTable\r\n                                                keyField={\"Item_id\"}\r\n                                                id=\"table_Arrow\"\r\n                                                defaultSorted={defaultSorted}\r\n                                                classes={\"table  table-bordered table-hover \"}\r\n                                                noDataIndication={\r\n                                                    <div className=\"text-danger text-center table-cursor-pointer\">\r\n                                                        Items Not available\r\n                                                    </div>\r\n                                                }\r\n                                                onDataSizeChange={(e) => {\r\n                                                    _cfunc.tableInputArrowUpDounFunc(\"#table_Arrow\")\r\n                                                }}\r\n                                                {...toolkitProps.baseProps}\r\n                                            />\r\n                                            {mySearchProps(toolkitProps.searchProps)}\r\n                                        </div>\r\n                                    </Col>\r\n                                </Row>\r\n\r\n                            </React.Fragment>\r\n                        )}\r\n                    </ToolkitProvider>\r\n\r\n                    <OrderPageTermsTable tableList={termsAndConTable} setfunc={setTermsAndConTable} privious={editVal.TermsAndConditions} tableData={orderItemTable} />\r\n\r\n                    {\r\n                        ((orderItemTable.length > 0) && (!isOpen_assignLink)) ? <div className=\"row save1\" style={{ paddingBottom: 'center' }}>\r\n                            <Col>\r\n                                <SaveButton\r\n                                    loading={saveBtnloading}\r\n                                    editCreatedBy={editCreatedBy}\r\n                                    pageMode={pageMode}\r\n                                    userAcc={userPageAccessState}\r\n                                    onClick={saveHandler}\r\n                                    forceDisabled={gotoInvoiceBtnLoading}\r\n                                />\r\n                            </Col>\r\n                            {\r\n                                (subPageMode === url.ORDER_4) && (pageMode === mode.defaultsave) ?\r\n                                    <Col>\r\n                                        <GotoInvoiceBtn\r\n                                            forceDisabled={gotoInvoiceBtnLoading}\r\n                                            loading={gotoInvoiceBtnLoading}\r\n                                            pageMode={pageMode}\r\n                                            userAcc={userPageAccessState}\r\n                                            onClick={saveHandler}\r\n                                        />\r\n                                    </Col> : null}\r\n                        </div>\r\n                            : <div className=\"row save1\"></div>\r\n                    }\r\n                </div >\r\n\r\n                <Modal\r\n                    isOpen={isOpen_assignLink}\r\n                    toggle={() => {\r\n                        setisOpen_assignLink(false)\r\n                    }}\r\n                    size=\"xl\"\r\n                >\r\n\r\n                    <PartyItems\r\n                        editValue={assingItemData.Data}\r\n                        isAssing={true}\r\n                        masterPath={url.PARTYITEM}\r\n                        redirectPath={subPageMode}\r\n                        isOpenModal={Open_Assign_func}\r\n                        pageMode={mode.assingLink}\r\n                    />\r\n\r\n                </Modal>\r\n\r\n            </React.Fragment >\r\n        )\r\n    } else {\r\n        return null\r\n    }\r\n\r\n}\r\n\r\nexport default Order\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}