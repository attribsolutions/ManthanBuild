{"ast":null,"code":"import _toConsumableArray from\"D:/Rohit/Git projects/Manthan/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"D:/Rohit/Git projects/Manthan/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import{Button,Card,CardBody,Col,FormGroup,Input,Label,Row}from'reactstrap';import Select from\"react-select\";import{AlertState,getBaseUnit_ForDropDown,getItemList}from'../../../../../store/actions';import{useDispatch,useSelector}from'react-redux';import BOMTable from'./Table';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function ItemTab(props){var dispatch=useDispatch();var _useState=useState(''),_useState2=_slicedToArray(_useState,2),contentItemSelect=_useState2[0],setContentItemSelect=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),Quantity=_useState4[0],setQuantity=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),unitSelect=_useState6[0],setUnitSelect=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),ItemUnitOptions=_useState8[0],setItemUnitOptions=_useState8[1];var _useSelector=useSelector(function(state){return{Items:state.ItemMastersReducer.pages};}),Items=_useSelector.Items;useEffect(function(){dispatch(getItemList());dispatch(getBaseUnit_ForDropDown());},[dispatch]);var ItemDropdown_Options=Items.map(function(index){return{value:index.id,label:index.Name};});function ContentItem_Handler(e){setUnitSelect('');setContentItemSelect(e);var Item=Items.filter(function(index){return index.id===e.value;});var ItemUnits=Item[0].UnitDetails.map(function(data){return{value:data.id,label:data.UnitName};});setItemUnitOptions(ItemUnits);}var Unit_Handler=function Unit_Handler(event){setUnitSelect(event);};var addRowsHandler=function addRowsHandler(data){var invalidMsg1=[];if(contentItemSelect===\"\"){invalidMsg1.push(\"Content Item Is Required\");}if(Quantity===\"\"){invalidMsg1.push(\"Item Quantity Is Required\");};if(unitSelect===\"\"){invalidMsg1.push(\"Unit Is Required\");};if(contentItemSelect===\"\"||unitSelect===\"\"||Quantity===\"\"){dispatch(AlertState({Type:4,Status:true,Message:JSON.stringify(invalidMsg1),RedirectPath:false,PermissionAction:false}));return;}var val={Item:contentItemSelect.value,ItemName:contentItemSelect.label,Unit:unitSelect.value,UnitName:unitSelect.label,Quantity:Quantity};var totalTableData=props.tableData.length;val.id=totalTableData+1;var updatedTableData=_toConsumableArray(props.tableData);updatedTableData.push(val);props.func(updatedTableData);clearState();};var clearState=function clearState(){setContentItemSelect('');setQuantity('');setUnitSelect('');};var handleChange=function handleChange(event){var val=event.target.value;var result=/^-?([0-9]*\\.?[0-9]+|[0-9]+\\.?[0-9]*)$/.test(val);if(result){setQuantity(val);}else if(val===\"\"){setQuantity(val);}else{event.target.value=\"\";}};return/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsxs(Col,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"px-2  mb-1 c_card_body text-black mt-1\",style:{width:\"100%\"},children:/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsxs(\"div\",{className:\" row\",children:[/*#__PURE__*/_jsx(Col,{sm:\"3\",children:/*#__PURE__*/_jsxs(FormGroup,{className:\" row mt-3 \",children:[/*#__PURE__*/_jsx(Label,{className:\"col-sm-4 p-2\",children:\"Content Item\"}),/*#__PURE__*/_jsx(Col,{sm:\"7\",children:/*#__PURE__*/_jsx(Select,{value:contentItemSelect,options:ItemDropdown_Options,onChange:ContentItem_Handler})})]})}),/*#__PURE__*/_jsx(Col,{sm:\"3\",children:/*#__PURE__*/_jsxs(FormGroup,{className:\" row mt-3 \",children:[/*#__PURE__*/_jsx(Label,{className:\"col-sm-4 p-2\",children:\"Item Quantity\"}),/*#__PURE__*/_jsx(Col,{sm:\"7\",children:/*#__PURE__*/_jsx(Input,{type:\"text\",className:\"text-end\",value:Quantity,placeholder:\"Please Enter Quantity\",autoComplete:\"off\",onChange:handleChange})})]})}),/*#__PURE__*/_jsx(Col,{sm:\"3\",className:\"\",children:/*#__PURE__*/_jsxs(FormGroup,{className:\"mb- row mt-3 \",children:[/*#__PURE__*/_jsx(Label,{className:\"col-sm-2 p-2\",children:\"Unit\"}),/*#__PURE__*/_jsx(Col,{sm:\"7\",children:/*#__PURE__*/_jsx(Select,{value:unitSelect,options:ItemUnitOptions,onChange:Unit_Handler})})]})}),/*#__PURE__*/_jsx(Col,{sm:\"1\",className:\"mt-3 \",children:/*#__PURE__*/_jsxs(Button,{type:\"button\",color:\"btn btn-outline-primary border-1 font-size-11 text-center\",onClick:addRowsHandler,children:[\"        \",/*#__PURE__*/_jsx(\"i\",{className:\"dripicons-plus pt-2 \",children:\" \"}),\"Add\"]})})]})})}),/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(BOMTable,{tableData:props.tableData,func:props.func})})]})});}export default ItemTab;","map":{"version":3,"names":["React","useEffect","useState","Button","Card","CardBody","Col","FormGroup","Input","Label","Row","Select","AlertState","getBaseUnit_ForDropDown","getItemList","useDispatch","useSelector","BOMTable","ItemTab","props","dispatch","contentItemSelect","setContentItemSelect","Quantity","setQuantity","unitSelect","setUnitSelect","ItemUnitOptions","setItemUnitOptions","state","Items","ItemMastersReducer","pages","ItemDropdown_Options","map","index","value","id","label","Name","ContentItem_Handler","e","Item","filter","ItemUnits","UnitDetails","data","UnitName","Unit_Handler","event","addRowsHandler","invalidMsg1","push","Type","Status","Message","JSON","stringify","RedirectPath","PermissionAction","val","ItemName","Unit","totalTableData","tableData","length","updatedTableData","func","clearState","handleChange","target","result","test","width"],"sources":["D:/Rohit/Git projects/Manthan/src/pages/Production/BOM/BOMMaster/ItemQuantityTab/index.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport {\r\n    Button,\r\n    Card,\r\n    CardBody,\r\n    Col,\r\n    FormGroup,\r\n    Input,\r\n    Label,\r\n    Row\r\n} from 'reactstrap';\r\nimport Select from \"react-select\";\r\nimport { AlertState, getBaseUnit_ForDropDown, getItemList } from '../../../../../store/actions';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport BOMTable from './Table';\r\n\r\nfunction ItemTab(props) {\r\n\r\n    const dispatch = useDispatch();\r\n    const [contentItemSelect, setContentItemSelect] = useState('');\r\n    const [Quantity, setQuantity] = useState('');\r\n    const [unitSelect, setUnitSelect] = useState('');\r\n    const [ItemUnitOptions, setItemUnitOptions] = useState([]);\r\n\r\n    const { Items } = useSelector((state) => ({\r\n        Items: state.ItemMastersReducer.pages,\r\n    }));\r\n\r\n    useEffect(() => {\r\n        dispatch(getItemList())\r\n        dispatch(getBaseUnit_ForDropDown());\r\n    }, [dispatch]);\r\n\r\n    const ItemDropdown_Options = Items.map((index) => ({\r\n        value: index.id,\r\n        label: index.Name,\r\n    }));\r\n\r\n    function ContentItem_Handler(e) {\r\n        \r\n        setUnitSelect('')\r\n        setContentItemSelect(e)\r\n        let Item = Items.filter((index) => {\r\n            return index.id === e.value\r\n        })\r\n        let ItemUnits = Item[0].UnitDetails.map((data) => ({\r\n            value: data.id,\r\n            label: data.UnitName\r\n        }))\r\n        setItemUnitOptions(ItemUnits)\r\n\r\n    }\r\n\r\n    const Unit_Handler = (event) => {\r\n        setUnitSelect(event);\r\n    };\r\n    const addRowsHandler = (data) => {\r\n        const invalidMsg1 = []\r\n\r\n        if ((contentItemSelect === \"\")) {\r\n            invalidMsg1.push(`Content Item Is Required`)\r\n        }\r\n        if (Quantity === \"\") {\r\n            invalidMsg1.push(`Item Quantity Is Required`)\r\n        };\r\n        if ((unitSelect === \"\")) {\r\n            invalidMsg1.push(`Unit Is Required`)\r\n        };\r\n        \r\n        if ((contentItemSelect === \"\")\r\n            || (unitSelect === \"\")\r\n            || (Quantity === \"\")\r\n        ) {\r\n\r\n            dispatch(\r\n                AlertState({\r\n                    Type: 4,\r\n                    Status: true,\r\n                    Message: JSON.stringify(invalidMsg1),\r\n                    RedirectPath: false,\r\n                    PermissionAction: false,\r\n                })\r\n            );\r\n            return;\r\n        }\r\n        const val = {\r\n            Item: contentItemSelect.value,\r\n            ItemName: contentItemSelect.label,\r\n            Unit: unitSelect.value,\r\n            UnitName: unitSelect.label,\r\n            Quantity: Quantity,\r\n        };\r\n\r\n\r\n        const totalTableData = props.tableData.length;\r\n        val.id = totalTableData + 1;\r\n        const updatedTableData = [...props.tableData];\r\n        updatedTableData.push(val);\r\n        props.func(updatedTableData)\r\n        clearState();\r\n\r\n\r\n\r\n    }\r\n    const clearState = () => {\r\n        setContentItemSelect('');\r\n        setQuantity('');\r\n        setUnitSelect('');\r\n    };\r\n\r\n    const handleChange = event => {\r\n        \r\n        let val = event.target.value\r\n        const result = /^-?([0-9]*\\.?[0-9]+|[0-9]+\\.?[0-9]*)$/.test(val);\r\n        if (result) {\r\n            setQuantity(val);\r\n        }\r\n        else if (val === \"\") {\r\n            setQuantity(val)\r\n        }\r\n        else {\r\n            event.target.value = \"\"\r\n        }\r\n    };\r\n\r\n\r\n    return (\r\n        <Row>\r\n            <Col  >\r\n\r\n                <div className=\"px-2  mb-1 c_card_body text-black mt-1\" style={{ width: \"100%\" }}>\r\n                    <div className=\"row\">\r\n                        <div className=\" row\">\r\n                            <Col sm=\"3\" >\r\n                                <FormGroup className=\" row mt-3 \" >\r\n                                    <Label className=\"col-sm-4 p-2\"\r\n                                    >Content Item</Label>\r\n                                    <Col sm=\"7\">\r\n                                        <Select\r\n                                            value={contentItemSelect}\r\n                                            options={ItemDropdown_Options}\r\n                                            onChange={ContentItem_Handler}\r\n                                        />\r\n                                    </Col>\r\n                                </FormGroup>\r\n                            </Col>\r\n\r\n                            <Col sm=\"3\" >\r\n                                <FormGroup className=\" row mt-3 \" >\r\n                                    <Label className=\"col-sm-4 p-2\"\r\n                                    >Item Quantity</Label>\r\n                                    <Col sm=\"7\">\r\n                                        <Input\r\n                                            type=\"text\"\r\n                                            className='text-end'\r\n                                            value={Quantity}\r\n                                            placeholder=\"Please Enter Quantity\"\r\n                                            autoComplete=\"off\"\r\n                                            onChange={handleChange}\r\n                                        />\r\n                                    </Col>\r\n                                </FormGroup>\r\n                            </Col>\r\n\r\n                            <Col sm=\"3\" className=\"\">\r\n                                <FormGroup className=\"mb- row mt-3 \" >\r\n                                    <Label className=\"col-sm-2 p-2\"\r\n                                    >Unit</Label>\r\n                                    <Col sm=\"7\">\r\n                                        <Select\r\n                                            value={unitSelect}\r\n                                            options={ItemUnitOptions}\r\n                                            onChange={Unit_Handler}\r\n                                        />\r\n                                    </Col>\r\n                                </FormGroup>\r\n                            </Col>\r\n\r\n                            <Col sm=\"1\" className=\"mt-3 \">\r\n                                <Button type=\"button\" color=\"btn btn-outline-primary border-1 font-size-11 text-center\"\r\n                                    onClick={addRowsHandler}\r\n                                >        <i className=\"dripicons-plus pt-2 \"> </i>Add</Button>\r\n                            </Col>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <Row>\r\n                    <BOMTable tableData={props.tableData} func={props.func} />\r\n                </Row>\r\n            </Col>\r\n        </Row>\r\n    );\r\n}\r\nexport default ItemTab;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}