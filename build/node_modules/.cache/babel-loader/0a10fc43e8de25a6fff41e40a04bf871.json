{"ast":null,"code":"import React,{useEffect}from'react';import{useHistory}from'react-router-dom';var LogoutChecker=function LogoutChecker(){var history=useHistory();useEffect(function(){var handleStorageChange=function handleStorageChange(event){if(event.key==='roleId'){if(!(event.oldValue===event.newValue)){console.log(' inside User logged out');history.push({pathname:\"/Dashboard\"});window.location.reload(true);}}else if(!(event.key===\"i18next.I18N_LANGUAGE\")&&!(event.key===\"i18next.translate.boo\")&&event.newValue===null){window.location.reload(true);}};window.addEventListener('storage',handleStorageChange);return function(){window.removeEventListener('storage',handleStorageChange);};},[]);return null;};export default LogoutChecker;","map":{"version":3,"names":["React","useEffect","useHistory","LogoutChecker","history","handleStorageChange","event","key","oldValue","newValue","console","log","push","pathname","window","location","reload","addEventListener","removeEventListener"],"sources":["D:/Rohit/Git projects/Manthan/src/components/LogoutChecker/TabSessionAlive.js"],"sourcesContent":["import React, { useEffect } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\n\r\nconst LogoutChecker = () => {\r\n  const history = useHistory()\r\n\r\n  useEffect(() => {\r\n    const handleStorageChange = (event) => {\r\n      if ((event.key === 'roleId')) {\r\n\r\n        if (!(event.oldValue === event.newValue)) {\r\n          console.log(' inside User logged out');\r\n          history.push({ pathname: \"/Dashboard\" })\r\n          window.location.reload(true)\r\n        }\r\n\r\n      } else if (!(event.key === \"i18next.I18N_LANGUAGE\")\r\n        && !(event.key === \"i18next.translate.boo\")\r\n        && (event.newValue === null)) {\r\n        window.location.reload(true)\r\n      }\r\n\r\n    };\r\n\r\n    window.addEventListener('storage', handleStorageChange);\r\n\r\n    return () => {\r\n      window.removeEventListener('storage', handleStorageChange);\r\n    };\r\n  }, []);\r\n\r\n  return null;\r\n}\r\nexport default LogoutChecker\r\n"],"mappings":"AAAA,MAAOA,MAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAASC,UAAT,KAA2B,kBAA3B,CAEA,GAAMC,cAAa,CAAG,QAAhBA,cAAgB,EAAM,CAC1B,GAAMC,QAAO,CAAGF,UAAU,EAA1B,CAEAD,SAAS,CAAC,UAAM,CACd,GAAMI,oBAAmB,CAAG,QAAtBA,oBAAsB,CAACC,KAAD,CAAW,CACrC,GAAKA,KAAK,CAACC,GAAN,GAAc,QAAnB,CAA8B,CAE5B,GAAI,EAAED,KAAK,CAACE,QAAN,GAAmBF,KAAK,CAACG,QAA3B,CAAJ,CAA0C,CACxCC,OAAO,CAACC,GAAR,CAAY,yBAAZ,EACAP,OAAO,CAACQ,IAAR,CAAa,CAAEC,QAAQ,CAAE,YAAZ,CAAb,EACAC,MAAM,CAACC,QAAP,CAAgBC,MAAhB,CAAuB,IAAvB,EACD,CAEF,CARD,IAQO,IAAI,EAAEV,KAAK,CAACC,GAAN,GAAc,uBAAhB,GACN,EAAED,KAAK,CAACC,GAAN,GAAc,uBAAhB,CADM,EAELD,KAAK,CAACG,QAAN,GAAmB,IAFlB,CAEyB,CAC9BK,MAAM,CAACC,QAAP,CAAgBC,MAAhB,CAAuB,IAAvB,EACD,CAEF,CAfD,CAiBAF,MAAM,CAACG,gBAAP,CAAwB,SAAxB,CAAmCZ,mBAAnC,EAEA,MAAO,WAAM,CACXS,MAAM,CAACI,mBAAP,CAA2B,SAA3B,CAAsCb,mBAAtC,EACD,CAFD,CAGD,CAvBQ,CAuBN,EAvBM,CAAT,CAyBA,MAAO,KAAP,CACD,CA7BD,CA8BA,cAAeF,cAAf"},"metadata":{},"sourceType":"module"}