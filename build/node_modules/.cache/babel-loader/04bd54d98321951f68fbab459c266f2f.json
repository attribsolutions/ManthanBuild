{"ast":null,"code":"import _regeneratorRuntime from\"D:/Rohit/Git projects/Manthan/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"D:/Rohit/Git projects/Manthan/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";// import jsPDF from \"jspdf\";\n// import \"jspdf-autotable\";\n// import * as style from './ReportStyle'\n// import { Data1, dataGenrator } from \"./DemoData\";\n// import { compareGSTINState } from \"../../components/Common/CommonFunction\";\n// import { E_invoiceQRCode } from \"../../helpers/other_domain_api\";\n// var pageHeder = function (doc, data) {\n//     style.pageBorder(doc, data);                           // Page Border\n//     style.pageHeder(doc, data);                            // Report Title \n//     style.reportHeder1(doc, data);\n//     style.reportHeder2(doc, data);\n//     style.reportHeder3(doc, data);                          //Invoice ID , Date \n// };\n// function reportBody(doc, data) {\n//     const isIGST = compareGSTINState(data.CustomerGSTIN, data.PartyGSTIN)\n//     if (isIGST) {\n//         style.tableBodyWithIGST(doc, data);                 //table Body\n//     } else {\n//         style.tableBody(doc, data);\n//     }\n// }\n// function pageFooter(doc, data, islast, array) {\n//     style.reportFooter(doc, data);                           //Report Footer\n//     style.pageFooter(doc, data, islast, array);              //page Footer\n// }\n// const InvioceReporta5 = async (data) => {\n//     var doc = new jsPDF('l', 'pt', 'a5');\n//     if (Array.isArray(data)) {\n//         for (let i = 0; i < data.length; i++) {\n//             data[i].SettingData = data.SettingData;\n//         }\n//         data.forEach((data, islast, array) => {\n//             pageHeder(doc, data);\n//             reportBody(doc, data);                                   // condition for Mulitinvoice invoice\n//             pageFooter(doc, data, islast, array);\n//             if (!(array.length - 1 === islast)) {\n//                 doc.addPage();\n//             }\n//         })\n//     } else {\n//         const Data = []\n//         Data.push(data)\n//         Data.forEach((data, islast, array) => {\n//             pageHeder(doc, data);                                    // condition for singel invoice\n//             reportBody(doc, data);\n//             pageFooter(doc, data, islast, array);\n//             if (!(array.length - 1 === islast)) {\n//                 doc.addPage();\n//             }\n//         })\n//     }\n//     doc.setProperties({\n//         title: \" Invoice Report\"\n//     });\n//     doc.output('dataurlnewwindow', { filename: \"Invoice Report\" });\n// }\n// export default InvioceReporta5;\nimport jsPDF from\"jspdf\";import\"jspdf-autotable\";import*as style from'./ReportStyle';import{Data1,dataGenrator}from\"./DemoData\";import{CurrentTime,compareGSTINState,currentDate_dmy}from\"../../components/Common/CommonFunction\";import{E_invoiceQRCode}from\"../../helpers/other_domain_api\";var pageHeder=function pageHeder(doc,data){if(data.isMultiPrint){var pageCount=doc.internal.getNumberOfPages();doc.setFont('helvetica','Normal');doc.setFontSize(8);doc.text('Page'+String(pageCount),500,390);doc.text('Print Date :'+String(currentDate_dmy)+' Time '+String(CurrentTime()),30,390);}style.pageBorder(doc,data);// Page Border\nstyle.pageHeder(doc,data);// Report Title \nstyle.reportHeder1(doc,data);style.reportHeder3(doc,data);//Invoice ID , Date \n};function reportBody(doc,data){var isIGST=compareGSTINState(data.CustomerGSTIN,data.PartyGSTIN);if(isIGST){style.tableBodyWithIGST(doc,data);//table Body\n}else{style.tableBody(doc,data);}}function pageFooter(doc,data,islast,array){style.reportFooter(doc,data);//Report Footer\nstyle.pageFooter(doc,data,islast,array);//page Footer\n}var generateReportPage=function generateReportPage(doc,data){pageHeder(doc,data);reportBody(doc,data);pageFooter(doc,data);};var InvioceReporta5=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(data){var doc,BATCH_SIZE,_loop,i,Data,generateSaveAndOpenPDFReport;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:generateSaveAndOpenPDFReport=function _generateSaveAndOpenP(){var pdfUrl=URL.createObjectURL(doc.output('blob'));var options={filename:\"InvoiceReport\"};window.open(pdfUrl,options);};doc=new jsPDF('l','pt','a5');BATCH_SIZE=40;// You can adjust the batch size according to your needs\nif(Array.isArray(data)){_loop=function _loop(i){var batch=data.slice(i,i+BATCH_SIZE);batch.forEach(function(item,index){// flag for condition check in loading sheet multiple invoice print \nitem[\"isMultiPrint\"]=true;item.SettingData=data.SettingData;generateReportPage(doc,item);if(index!==batch.length-1){doc.addPage();}});};// doc.text('Page' + String(\"2\") + ' of ' + String(\"1\"), 500, 390,)\n// doc.text('Print Date :' + String(currentDate_dmy) + ' Time ' + String(CurrentTime()), 30, 390,)\nfor(i=0;i<data.length;i+=BATCH_SIZE){_loop(i);}}else{Data=[data];Data.forEach(function(item,index){item[\"isMultiPrint\"]=false;generateReportPage(doc,item);if(index!==Data.length-1){doc.addPage();}});}doc.setProperties({title:\"InvoiceReport/\".concat(data.CustomerName,\"/\").concat(data.InvoiceDate,\" \")});generateSaveAndOpenPDFReport();case 6:case\"end\":return _context.stop();}}},_callee);}));return function InvioceReporta5(_x){return _ref.apply(this,arguments);};}();export default InvioceReporta5;","map":{"version":3,"names":["jsPDF","style","Data1","dataGenrator","CurrentTime","compareGSTINState","currentDate_dmy","E_invoiceQRCode","pageHeder","doc","data","isMultiPrint","pageCount","internal","getNumberOfPages","setFont","setFontSize","text","String","pageBorder","reportHeder1","reportHeder3","reportBody","isIGST","CustomerGSTIN","PartyGSTIN","tableBodyWithIGST","tableBody","pageFooter","islast","array","reportFooter","generateReportPage","InvioceReporta5","generateSaveAndOpenPDFReport","pdfUrl","URL","createObjectURL","output","options","filename","window","open","BATCH_SIZE","Array","isArray","i","batch","slice","forEach","item","index","SettingData","length","addPage","Data","setProperties","title","CustomerName","InvoiceDate"],"sources":["D:/Rohit/Git projects/Manthan/src/Reports/Invoice report a5/Page.js"],"sourcesContent":["// import jsPDF from \"jspdf\";\r\n// import \"jspdf-autotable\";\r\n// import * as style from './ReportStyle'\r\n// import { Data1, dataGenrator } from \"./DemoData\";\r\n// import { compareGSTINState } from \"../../components/Common/CommonFunction\";\r\n// import { E_invoiceQRCode } from \"../../helpers/other_domain_api\";\r\n\r\n// var pageHeder = function (doc, data) {\r\n\r\n//     style.pageBorder(doc, data);                           // Page Border\r\n//     style.pageHeder(doc, data);                            // Report Title \r\n//     style.reportHeder1(doc, data);\r\n//     style.reportHeder2(doc, data);\r\n//     style.reportHeder3(doc, data);                          //Invoice ID , Date \r\n// };\r\n\r\n// function reportBody(doc, data) {\r\n//     const isIGST = compareGSTINState(data.CustomerGSTIN, data.PartyGSTIN)\r\n//     if (isIGST) {\r\n//         style.tableBodyWithIGST(doc, data);                 //table Body\r\n//     } else {\r\n//         style.tableBody(doc, data);\r\n//     }\r\n\r\n// }\r\n// function pageFooter(doc, data, islast, array) {\r\n//     style.reportFooter(doc, data);                           //Report Footer\r\n//     style.pageFooter(doc, data, islast, array);              //page Footer\r\n// }\r\n\r\n// const InvioceReporta5 = async (data) => {\r\n\r\n//     var doc = new jsPDF('l', 'pt', 'a5');\r\n\r\n//     if (Array.isArray(data)) {\r\n//         for (let i = 0; i < data.length; i++) {\r\n//             data[i].SettingData = data.SettingData;\r\n//         }\r\n\r\n//         data.forEach((data, islast, array) => {\r\n//             pageHeder(doc, data);\r\n//             reportBody(doc, data);                                   // condition for Mulitinvoice invoice\r\n//             pageFooter(doc, data, islast, array);\r\n//             if (!(array.length - 1 === islast)) {\r\n//                 doc.addPage();\r\n//             }\r\n//         })\r\n//     } else {\r\n//         const Data = []\r\n//         Data.push(data)\r\n//         Data.forEach((data, islast, array) => {\r\n//             pageHeder(doc, data);                                    // condition for singel invoice\r\n//             reportBody(doc, data);\r\n//             pageFooter(doc, data, islast, array);\r\n//             if (!(array.length - 1 === islast)) {\r\n//                 doc.addPage();\r\n//             }\r\n//         })\r\n//     }\r\n\r\n//     doc.setProperties({\r\n//         title: \" Invoice Report\"\r\n//     });\r\n//     doc.output('dataurlnewwindow', { filename: \"Invoice Report\" });\r\n\r\n// }\r\n// export default InvioceReporta5;\r\n\r\n\r\n\r\nimport jsPDF from \"jspdf\";\r\nimport \"jspdf-autotable\";\r\nimport * as style from './ReportStyle'\r\nimport { Data1, dataGenrator } from \"./DemoData\";\r\nimport { CurrentTime, compareGSTINState, currentDate_dmy } from \"../../components/Common/CommonFunction\";\r\nimport { E_invoiceQRCode } from \"../../helpers/other_domain_api\";\r\n\r\nvar pageHeder = function (doc, data) {\r\n    if (data.isMultiPrint) {\r\n        const pageCount = doc.internal.getNumberOfPages()\r\n        doc.setFont('helvetica', 'Normal')\r\n        doc.setFontSize(8)\r\n        doc.text('Page' + String(pageCount), 500, 390,)\r\n        doc.text('Print Date :' + String(currentDate_dmy) + ' Time ' + String(CurrentTime()), 30, 390,)\r\n\r\n    }\r\n    style.pageBorder(doc, data);                           // Page Border\r\n    style.pageHeder(doc, data);                            // Report Title \r\n    style.reportHeder1(doc, data);\r\n    style.reportHeder3(doc, data);                          //Invoice ID , Date \r\n};\r\n\r\nfunction reportBody(doc, data) {\r\n    const isIGST = compareGSTINState(data.CustomerGSTIN, data.PartyGSTIN)\r\n    if (isIGST) {\r\n        style.tableBodyWithIGST(doc, data);                 //table Body\r\n    } else {\r\n        style.tableBody(doc, data);\r\n    }\r\n}\r\n\r\nfunction pageFooter(doc, data, islast, array) {\r\n    style.reportFooter(doc, data);                           //Report Footer\r\n    style.pageFooter(doc, data, islast, array);              //page Footer\r\n}\r\n\r\nconst generateReportPage = (doc, data) => {\r\n    pageHeder(doc, data);\r\n    reportBody(doc, data);\r\n    pageFooter(doc, data);\r\n}\r\n\r\nconst InvioceReporta5 = async (data) => {\r\n    var doc = new jsPDF('l', 'pt', 'a5');\r\n\r\n    const BATCH_SIZE = 40; // You can adjust the batch size according to your needs\r\n\r\n    if (Array.isArray(data)) {\r\n\r\n        // doc.text('Page' + String(\"2\") + ' of ' + String(\"1\"), 500, 390,)\r\n        // doc.text('Print Date :' + String(currentDate_dmy) + ' Time ' + String(CurrentTime()), 30, 390,)\r\n\r\n        \r\n        for (let i = 0; i < data.length; i += BATCH_SIZE) {\r\n            const batch = data.slice(i, i + BATCH_SIZE);\r\n            batch.forEach((item, index) => {\r\n                // flag for condition check in loading sheet multiple invoice print \r\n                item[\"isMultiPrint\"] = true\r\n                item.SettingData = data.SettingData;\r\n                generateReportPage(doc, item);\r\n                if (index !== batch.length - 1) {\r\n                    doc.addPage();\r\n                }\r\n            });\r\n        }\r\n\r\n\r\n\r\n    } else {\r\n        const Data = [data];\r\n        Data.forEach((item, index) => {\r\n            item[\"isMultiPrint\"] = false\r\n            generateReportPage(doc, item);\r\n            if (index !== Data.length - 1) {\r\n                doc.addPage();\r\n            }\r\n        });\r\n    }\r\n    doc.setProperties({\r\n        title: `InvoiceReport/${data.CustomerName}/${data.InvoiceDate} `\r\n    });\r\n\r\n    function generateSaveAndOpenPDFReport() {\r\n        const pdfUrl = URL.createObjectURL(doc.output('blob'));\r\n        const options = { filename: \"InvoiceReport\" }\r\n        window.open(pdfUrl, options);\r\n    }\r\n    generateSaveAndOpenPDFReport();\r\n\r\n}\r\n\r\nexport default InvioceReporta5;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}