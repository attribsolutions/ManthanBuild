{"ast":null,"code":"var _jsxFileName = \"D:\\\\Rohit\\\\Git projects\\\\Manthan\\\\src\\\\pages\\\\Sale\\\\Invoice\\\\SalesReturn\\\\SalesReturn.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport { Col, FormGroup, Label, Input, Row, Button } from \"reactstrap\";\nimport { MetaTags } from \"react-meta-tags\";\nimport Flatpickr from \"react-flatpickr\";\nimport { Breadcrumb_inputName, commonPageFieldSuccess, getItemList } from \"../../../../store/actions\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { AlertState, commonPageField } from \"../../../../store/actions\";\nimport { useHistory } from \"react-router-dom\";\nimport { comAddPageFieldFunc, formValid, initialFiledFunc, onChangeDate, onChangeSelect, onChangeText, resetFunction } from \"../../../../components/Common/validationFunction\";\nimport Select from \"react-select\";\nimport { Change_Button, Go_Button, SaveButton } from \"../../../../components/Common/CommonButton\";\nimport { breadcrumbReturnFunc, loginPartyID, currentDate, btnIsDissablefunc, loginUserID, loginCompanyID, convertDatefunc, invertDatefunc, loginJsonBody, metaTagLabel } from \"../../../../components/Common/CommonFunction\";\nimport * as pageId from \"../../../../routes//allPageID\";\nimport * as url from \"../../../../routes/route_url\";\nimport * as mode from \"../../../../routes/PageMode\";\nimport { GetVender, Retailer_List } from \"../../../../store/CommonAPI/SupplierRedux/actions\";\nimport { CustomAlert } from \"../../../../CustomAlert/ConfirmDialog\";\nimport { postSelect_Field_for_dropdown } from \"../../../../store/Administrator/PartyMasterBulkUpdateRedux/actions\";\nimport { saveSalesReturnMaster, InvoiceNumber, InvoiceNumberSuccess, saveSalesReturnMaster_Success } from \"../../../../store/Sales/SalesReturnRedux/action\";\nimport CustomTable2 from \"../../../../CustomTable2/Table\";\nimport \"./salesReturn.scss\";\nimport CInput from \"../../../../CustomValidateForm/CInput\";\nimport { decimalRegx, floatRegx } from \"../../../../CustomValidateForm/RegexPattern\";\nimport { getpartyItemList } from \"../../../../store/Administrator/PartyItemsRedux/action\";\nimport { SalesReturn_add_button_api, SalesReturn_add_button_api_For_Invoice, SalesReturn_add_button_api_For_Item } from \"../../../../helpers/backend_helper\";\nimport { salesReturnCalculate } from \"./SalesCalculation\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst SalesReturn = props => {\n  _s();\n\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const [pageMode, setPageMode] = useState(mode.defaultsave);\n  const [userPageAccessState, setUserAccState] = useState('');\n  const [editCreatedBy, seteditCreatedBy] = useState(\"\");\n  const fileds = {\n    ReturnDate: currentDate,\n    Customer: \"\",\n    ItemName: \"\",\n    InvoiceNumber: \"\",\n    ReturnReason: \"\",\n    Comment: \"\"\n  };\n  const [state, setState] = useState(initialFiledFunc(fileds));\n  const [TableArr, setTableArr] = useState([]);\n  const [returnMode, setrRturnMode] = useState(0);\n  const [imageTable, setImageTable] = useState([]); //Access redux store Data /  'save_ModuleSuccess' action data\n\n  const {\n    postMsg,\n    RetailerList,\n    ItemList,\n    ReturnReasonList,\n    InvoiceNo,\n    pageField,\n    userAccess\n  } = useSelector(state => ({\n    postMsg: state.SalesReturnReducer.postMsg,\n    RetailerList: state.CommonAPI_Reducer.RetailerList,\n    ItemList: state.PartyItemsReducer.partyItem,\n    ReturnReasonList: state.PartyMasterBulkUpdateReducer.SelectField,\n    InvoiceNo: state.SalesReturnReducer.InvoiceNo,\n    userAccess: state.Login.RoleAccessUpdateData,\n    pageField: state.CommonPageFieldReducer.pageField\n  }));\n  useEffect(() => {\n    dispatch(InvoiceNumberSuccess([]));\n    const page_Id = pageId.SALES_RETURN;\n    dispatch(commonPageFieldSuccess(null));\n    dispatch(commonPageField(page_Id));\n    dispatch(getpartyItemList(loginJsonBody()));\n  }, []);\n  useEffect(() => {\n    const jsonBody = JSON.stringify({\n      Type: 1,\n      PartyID: loginPartyID(),\n      CompanyID: loginCompanyID()\n    });\n    dispatch(Retailer_List(jsonBody));\n  }, []);\n  useEffect(() => {\n    if (TableArr.length === 0) {\n      setrRturnMode(0);\n    }\n  }, [TableArr]);\n  const location = { ...history.location\n  }; // const hasShowloction = location.hasOwnProperty(mode.editValue)\n\n  const hasShowModal = props.hasOwnProperty(mode.editValue);\n  const values = { ...state.values\n  };\n  const {\n    isError\n  } = state;\n  const {\n    fieldLabel\n  } = state; // userAccess useEffect\n\n  useEffect(() => {\n    let userAcc = null;\n    let locationPath = location.pathname;\n\n    if (hasShowModal) {\n      locationPath = props.masterPath;\n    }\n\n    ;\n    userAcc = userAccess.find(inx => {\n      return `/${inx.ActualPagePath}` === locationPath;\n    });\n\n    if (userAcc) {\n      setUserAccState(userAcc);\n      breadcrumbReturnFunc({\n        dispatch,\n        userAcc\n      });\n    }\n\n    ;\n  }, [userAccess]); // Return Reason dropdown Values\n\n  useEffect(() => {\n    const jsonBody = JSON.stringify({\n      Company: loginCompanyID(),\n      TypeID: 8\n    });\n    dispatch(postSelect_Field_for_dropdown(jsonBody));\n  }, []);\n  useEffect(() => {\n    if (pageField) {\n      const fieldArr = pageField.PageFieldMaster;\n      comAddPageFieldFunc({\n        state,\n        setState,\n        fieldArr\n      });\n    }\n  }, [pageField]);\n  useEffect(() => {\n    if (postMsg.Status === true && postMsg.StatusCode === 200) {\n      dispatch(saveSalesReturnMaster_Success({\n        Status: false\n      }));\n      setTableArr([]);\n      setState(() => resetFunction(fileds, state)); // Clear form values  \n\n      dispatch(Breadcrumb_inputName(''));\n\n      if (pageMode === mode.dropdownAdd) {\n        dispatch(AlertState({\n          Type: 1,\n          Status: true,\n          Message: postMsg.Message\n        }));\n      } else {\n        dispatch(AlertState({\n          Type: 1,\n          Status: true,\n          Message: postMsg.Message,\n          RedirectPath: url.SALES_RETURN_LIST\n        }));\n      }\n    } else if (postMsg.Status === true) {\n      dispatch(saveSalesReturnMaster_Success({\n        Status: false\n      }));\n      dispatch(AlertState({\n        Type: 4,\n        Status: true,\n        Message: JSON.stringify(postMessage.Message),\n        RedirectPath: false,\n        AfterResponseAction: false\n      }));\n    }\n  }, [postMsg]);\n\n  function ReturnDate_Onchange(e, date) {\n    setState(i => {\n      const a = { ...i\n      };\n      a.values.ReturnDate = date;\n      a.hasValid.ReturnDate.valid = true;\n      return a;\n    });\n  }\n\n  const customerOptions = RetailerList.map(index => ({\n    value: index.id,\n    label: index.Name\n  }));\n  const itemList = ItemList.map(index => ({\n    value: index.Item,\n    label: index.ItemName,\n    itemCheck: index.selectCheck\n  }));\n  const ItemList_Options = itemList.filter(index => {\n    return index.itemCheck === true;\n  });\n  const ReturnReasonOptions = ReturnReasonList.map(index => ({\n    value: index.id,\n    label: index.Name\n  }));\n  const InvoiceNo_Options = InvoiceNo.map(index => ({\n    value: index.Invoice,\n    label: index.FullInvoiceNumber\n  }));\n\n  function deleteButtonAction(row) {\n    const newArr = TableArr.filter(index => !(index.id === row.id));\n    setTableArr(newArr);\n  }\n\n  function quantityHandler(event, row) {\n    row[\"Qty\"] = event.target.value;\n    let input = event.target.value;\n\n    if (returnMode === 1) {\n      let v1 = Number(row.Quantity);\n      let v2 = Number(input);\n\n      if (!(v1 >= v2)) {\n        event.target.value = v1;\n      }\n    }\n\n    row.Qty = event.target.value;\n  }\n\n  const pagesListColumns = [{\n    text: \"Item Name\",\n    dataField: \"\",\n    formatter: (cellContent, row, key) => {\n      return /*#__PURE__*/_jsxDEV(Label, {\n        children: row.ItemName.label\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 247,\n        columnNumber: 21\n      }, this);\n    }\n  },, {\n    text: \"Invoice Qty\",\n    dataField: \"\",\n    hidden: returnMode === 2 && true,\n    formatter: (cellContent, row, key) => {\n      return /*#__PURE__*/_jsxDEV(Label, {\n        children: row.Quantity\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 257,\n        columnNumber: 21\n      }, this);\n    }\n  }, {\n    text: \"Quantity\",\n    dataField: \"\",\n    classes: () => \"sales-return-row\",\n    formatter: (cellContent, row, key) => {\n      return /*#__PURE__*/_jsxDEV(\"span\", {\n        style: {\n          justifyContent: 'center',\n          width: \"100px\"\n        },\n        children: /*#__PURE__*/_jsxDEV(CInput, {\n          id: `Qty${key}`,\n          defaultValue: row.Qty,\n          autoComplete: \"off\",\n          type: \"text\",\n          cpattern: decimalRegx,\n          className: \"col col-sm text-end\",\n          onChange: event => quantityHandler(event, row)\n        }, `Qty${row.id}`, false, {\n          fileName: _jsxFileName,\n          lineNumber: 268,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 267,\n        columnNumber: 25\n      }, this);\n    }\n  }, {\n    text: \"Unit\",\n    dataField: \"\",\n    classes: () => \"sales-return-row\",\n    formatter: (cellContent, row, key, a, b) => {\n      return /*#__PURE__*/_jsxDEV(\"span\", {\n        style: {\n          justifyContent: 'center',\n          width: \"100px\"\n        },\n        children: /*#__PURE__*/_jsxDEV(Select, {\n          id: `Unit${key}`,\n          name: \"Unit\",\n          defaultValue: returnMode === 1 && {\n            value: row.RowData.Unit,\n            label: row.RowData.UnitName\n          },\n          isSearchable: true,\n          isDisabled: returnMode === 1 && true,\n          className: \"react-dropdown\",\n          classNamePrefix: \"dropdown\",\n          options: row.ItemUnitDetails,\n          onChange: event => {\n            row.Unit = event.value;\n            row.BaseUnitQuantity = event.BaseUnitQuantity;\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 288,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 287,\n        columnNumber: 25\n      }, this);\n    }\n  }, {\n    text: \"MRP\",\n    dataField: \"\",\n    classes: () => \"sales-return-row\",\n    formatter: (cellContent, row, key) => {\n      return /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          style: {\n            justifyContent: 'center',\n            width: \"100px\"\n          },\n          children: /*#__PURE__*/_jsxDEV(Select, {\n            id: `MRP${key}`,\n            name: \"MRP\",\n            defaultValue: returnMode === 1 && {\n              value: row.RowData.MRP,\n              label: row.RowData.MRPValue\n            },\n            isSearchable: true,\n            isDisabled: returnMode === 1 && true,\n            className: \"react-dropdown\",\n            classNamePrefix: \"dropdown\",\n            options: row.ItemMRPDetails,\n            onChange: event => {\n              row.MRP = event.value;\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 313,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 312,\n          columnNumber: 25\n        }, this)\n      }, void 0, false);\n    }\n  }, {\n    text: \"GST\",\n    dataField: \"\",\n    classes: () => \"sales-return-row\",\n    formatter: (cellContent, row, key) => {\n      return /*#__PURE__*/_jsxDEV(\"span\", {\n        style: {\n          justifyContent: 'center',\n          width: \"100px\"\n        },\n        children: /*#__PURE__*/_jsxDEV(Select, {\n          id: `GST${key}`,\n          name: \"GST\",\n          defaultValue: returnMode === 1 && {\n            value: row.RowData.GST,\n            label: row.RowData.GSTPercentage\n          },\n          isSearchable: true,\n          isDisabled: returnMode === 1 && true,\n          className: \"react-dropdown\",\n          classNamePrefix: \"dropdown\",\n          options: row.ItemGSTHSNDetails,\n          onChange: event => {\n            row.GST_ID = event.value;\n            row.GST = event.label;\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 334,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 333,\n        columnNumber: 25\n      }, this);\n    }\n  }, {\n    text: \"Rate\",\n    dataField: \"\",\n    classes: () => \"sales-return-row\",\n    formatter: (cellContent, row, key) => {\n      return /*#__PURE__*/_jsxDEV(\"span\", {\n        style: {\n          justifyContent: 'center',\n          width: \"100px\"\n        },\n        children: /*#__PURE__*/_jsxDEV(CInput, {\n          id: \"\",\n          defaultValue: row.Rate,\n          disabled: returnMode === 1 && true,\n          type: \"text\",\n          cpattern: /^-?([0-9]*\\.?[0-9]+|[0-9]+\\.?[0-9]*)$/,\n          className: \"col col-sm text-end\",\n          onChange: event => {\n            row.Rate = event.target.value;\n          }\n        }, row.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 358,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 357,\n        columnNumber: 25\n      }, this);\n    }\n  }, {\n    text: \"BatchCode\",\n    dataField: \"\",\n    classes: () => \"sales-return-row\",\n    formatter: (cellContent, row, key) => {\n      return /*#__PURE__*/_jsxDEV(\"span\", {\n        style: {\n          justifyContent: 'center',\n          width: \"100px\"\n        },\n        children: /*#__PURE__*/_jsxDEV(Input, {\n          id: \"\",\n          defaultValue: row.RowData.BatchCode,\n          disabled: returnMode === 1 && true,\n          type: \"text\",\n          className: \"col col-sm text-center\",\n          onChange: event => {\n            row.BatchCode = event.target.value;\n          }\n        }, row.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 378,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 377,\n        columnNumber: 25\n      }, this);\n    }\n  }, {\n    text: \"BatchDate\",\n    dataField: \"\",\n    classes: () => \"sales-return-row\",\n    formatter: (cellContent, row, key) => {\n      return /*#__PURE__*/_jsxDEV(\"span\", {\n        style: {\n          justifyContent: 'center',\n          width: \"100px\"\n        },\n        children: /*#__PURE__*/_jsxDEV(Flatpickr, {\n          name: \"ReturnDate\",\n          defaultValue: returnMode === 1 ? invertDatefunc(row.RowData.BatchDate) : currentDate,\n          disabled: returnMode === 1 ? true : false,\n          className: \"form-control d-block p-2 bg-white text-dark\",\n          placeholder: \"Select...\",\n          options: {\n            altInput: true,\n            altFormat: \"d-m-Y\",\n            dateFormat: \"Y-m-d\"\n          },\n          onChange: event => {\n            row.BatchDate = invertDatefunc(event);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 397,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 396,\n        columnNumber: 25\n      }, this);\n    }\n  }, {\n    text: \"Item Comment\",\n    dataField: \"\",\n    classes: () => \"sales-return-row\",\n    formatter: (cellContent, row, key) => {\n      return /*#__PURE__*/_jsxDEV(\"span\", {\n        style: {\n          justifyContent: 'center',\n          width: \"100px\"\n        },\n        children: /*#__PURE__*/_jsxDEV(Input, {\n          id: \"\",\n          defaultChecked: row.ItemComment,\n          type: \"text\",\n          className: \"col col-sm text-center\",\n          onChange: event => {\n            row.ItemComment = event.target.value;\n          }\n        }, row.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 422,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 421,\n        columnNumber: 25\n      }, this);\n    }\n  }, {\n    text: \"Image\",\n    dataField: \"\",\n    classes: () => \"sales-return-Image-row\",\n    formatter: (cellContent, row, key) => {\n      return /*#__PURE__*/_jsxDEV(\"span\", {\n        style: {\n          justifyContent: 'center',\n          width: \"100px\"\n        },\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"btn-group btn-group-example mb-3\",\n            role: \"group\",\n            children: [/*#__PURE__*/_jsxDEV(Input, {\n              type: \"file\",\n              className: \"form-control \" // value={FileName}\n              ,\n              name: \"image\",\n              id: \"file\",\n              accept: \".jpg, .jpeg, .png ,.pdf\",\n              onChange: event => {\n                onchangeHandler(event, row);\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 442,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              name: \"image\",\n              accept: \".jpg, .jpeg, .png ,.pdf\",\n              onClick: () => {\n                myFunction(row);\n              },\n              id: \"ImageId\",\n              type: \"button\",\n              className: \"btn btn-primary \",\n              children: \"Show\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 451,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 441,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 440,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 439,\n        columnNumber: 25\n      }, this);\n    }\n  }, {\n    text: \"Action \",\n    dataField: \"\",\n    hidden: returnMode === 1 && true,\n    formatter: (cellContent, row, key) => /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          justifyContent: 'center'\n        },\n        children: /*#__PURE__*/_jsxDEV(Col, {\n          children: /*#__PURE__*/_jsxDEV(FormGroup, {\n            className: \" col col-sm-4 \",\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              id: \"deleteid\",\n              type: \"button\",\n              className: \"badge badge-soft-danger font-size-12 btn btn-danger waves-effect waves-light w-xxs border border-light\",\n              \"data-mdb-toggle\": \"tooltip\",\n              \"data-mdb-placement\": \"top\",\n              title: \"Delete MRP\",\n              onClick: e => {\n                deleteButtonAction(row);\n              },\n              children: /*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"mdi mdi-delete font-size-18\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 478,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 471,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 470,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 469,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 468,\n        columnNumber: 21\n      }, this)\n    }, void 0, false)\n  }];\n\n  async function AddPartyHandler(e, type) {\n    const invalidMsg1 = [];\n\n    if (values.ItemName === '' && type === 'add') {\n      invalidMsg1.push(`Select Item Name`);\n    }\n\n    if (values.InvoiceNumber === '' && values.Customer === '' && type === 'Select') {\n      invalidMsg1.push(`Select Retailer.`);\n    } else if (values.InvoiceNumber === '' && type === 'Select') {\n      invalidMsg1.push(`Select Invoice No.`);\n    }\n\n    if (invalidMsg1.length > 0) {\n      CustomAlert({\n        Type: 4,\n        Message: JSON.stringify(invalidMsg1)\n      });\n      return;\n    }\n\n    let resp;\n\n    try {\n      if (returnMode === 2) {\n        resp = await SalesReturn_add_button_api_For_Item(values.ItemName.value);\n      } else {\n        resp = await SalesReturn_add_button_api_For_Invoice(values.InvoiceNumber.value);\n      }\n\n      const data = resp.Data.InvoiceItems.map(i => ({\n        unitOps: returnMode === 1 ? {\n          label: i.UnitName,\n          value: i.Unit,\n          BaseUnitQuantity: i.BaseUnitQuantity\n        } : i.ItemUnitDetails.map(i => ({\n          label: i.UnitName,\n          value: i.Unit,\n          BaseUnitQuantity: i.BaseUnitQuantity\n        })),\n        MRPOps: i.ItemMRPDetails.map(i => ({\n          label: i.MRPValue,\n          value: i.MRP\n        })),\n        GSTOps: i.ItemGSTDetails.map(i => ({\n          label: i.GSTPercentage,\n          value: i.GST\n        })),\n        ItemName: {\n          label: i.ItemName,\n          value: i.Item\n        },\n        Quantity: i.Quantity,\n        Rate: i.Rate,\n        RowData: i\n      }));\n      const itemArr = [...TableArr];\n      data.forEach(i => {\n        itemArr.push({\n          id: itemArr.length + 1,\n          ItemUnitDetails: i.unitOps,\n          ItemMRPDetails: i.MRPOps,\n          ItemGSTHSNDetails: i.GSTOps,\n          ItemName: i.ItemName,\n          Quantity: i.Quantity,\n          Rate: i.Rate,\n          gstPercentage: i.RowData.GSTPercentage,\n          RowData: i.RowData\n        });\n      });\n      setTableArr(itemArr);\n      setState(i => {\n        let a = { ...i\n        };\n        a.values.ItemName = \"\";\n        a.hasValid.ItemName.valid = true;\n        return a;\n      });\n    } catch (w) {}\n  }\n\n  function RetailerHandler(event) {\n    setState(i => {\n      let a = { ...i\n      };\n      a.values.ItemName = \"\";\n      a.values.InvoiceNumber = \"\";\n      a.hasValid.ItemName.valid = true;\n      a.hasValid.InvoiceNumber.valid = true;\n      return a;\n    });\n    setTableArr([]);\n    const jsonBody = JSON.stringify({\n      PartyID: loginPartyID(),\n      CustomerID: event.value\n    });\n    dispatch(InvoiceNumber(jsonBody));\n  } // image onchange handler\n\n\n  const onchangeHandler = async (event, row) => {\n    const file = event.target.files[0];\n    const base64 = await convertBase64(file);\n    let ImageUpload = base64;\n    row.Image = ImageUpload;\n    setImageTable(ImageUpload);\n  }; // image convert in string\n\n\n  const convertBase64 = file => {\n    return new Promise((resolve, reject) => {\n      const fileReader = new FileReader();\n      fileReader.readAsDataURL(file);\n\n      fileReader.onload = () => {\n        resolve(fileReader.result);\n      };\n\n      fileReader.onerror = error => {\n        reject(error);\n      };\n    });\n  };\n\n  function myFunction(row) {\n    var x = document.getElementById(\"add-img\");\n\n    if (x.style.display === \"none\") {\n      x.src = imageTable;\n\n      if (imageTable != \"\") {\n        x.style.display = \"block\";\n      }\n    } else {\n      x.style.display = \"none\";\n    }\n  }\n\n  const SaveHandler = async event => {\n    event.preventDefault();\n    const btnId = event.target.id;\n    let grand_total = 0;\n    const ReturnItems = TableArr.map(i => {\n      var gstPercentage = returnMode === 1 ? i.gstPercentage : i.GST;\n      const calculate = salesReturnCalculate({\n        Rate: i.Rate,\n        Qty: i.Qty,\n        gstPercentage: gstPercentage\n      });\n      grand_total = grand_total + Number(calculate.tAmount);\n      return {\n        Item: i.ItemName.value,\n        ItemName: i.ItemName.label,\n        Quantity: i.Qty,\n        Unit: returnMode === 1 ? i.RowData.Unit : i.Unit,\n        BaseUnitQuantity: returnMode === 1 ? i.RowData.BaseUnitQuantity : i.BaseUnitQuantity,\n        BatchCode: returnMode === 1 ? i.RowData.BatchCode : i.BatchCode,\n        BatchDate: i.BatchDate,\n        Amount: calculate.tAmount,\n        MRP: returnMode === 1 ? i.RowData.MRP : i.MRP,\n        Rate: i.Rate,\n        BasicAmount: calculate.baseAmt,\n        GSTAmount: calculate.gstAmt,\n        GST: returnMode === 1 ? i.RowData.GST : i.GST_ID,\n        CGST: calculate.CGST,\n        SGST: calculate.SGST,\n        IGST: 0,\n        GSTPercentage: gstPercentage,\n        CGSTPercentage: gstPercentage / 2,\n        SGSTPercentage: gstPercentage / 2,\n        IGSTPercentage: 0,\n        TaxType: \"GST\",\n        ReturnItemImages: []\n      };\n    });\n    const filterData = ReturnItems.filter(i => {\n      return i.Quantity > 0;\n    });\n\n    if (filterData.length === 0) {\n      CustomAlert({\n        Type: 4,\n        Message: \" Please Enter One Item Quantity\"\n      });\n      return btnIsDissablefunc({\n        btnId,\n        state: false\n      });\n    }\n\n    const invalidMsg1 = [];\n    ReturnItems.forEach(i => {\n      if (i.Unit === undefined || i.Unit === null) {\n        invalidMsg1.push(`${i.ItemName} : Unit Is Required`);\n      } else if (i.MRP === undefined || i.MRP === null) {\n        invalidMsg1.push(`${i.ItemName} : MRP Is Required`);\n      } else if (i.GST === undefined || i.GST === null) {\n        invalidMsg1.push(`${i.ItemName} : GST Is Required`);\n      } else if (i.Rate === undefined || i.Rate === null) {\n        invalidMsg1.push(`${i.ItemName} : Rate Is Required`);\n      } else if (i.BatchCode === undefined || i.BatchCode === null) {\n        invalidMsg1.push(`${i.ItemName} : BatchCode Is Required`);\n      }\n\n      ;\n    });\n\n    if (invalidMsg1.length > 0) {\n      CustomAlert({\n        Type: 4,\n        Message: JSON.stringify(invalidMsg1)\n      });\n      return btnIsDissablefunc({\n        btnId,\n        state: false\n      });\n    }\n\n    try {\n      if (formValid(state, setState)) {\n        btnIsDissablefunc({\n          btnId,\n          state: true\n        });\n        const jsonBody = JSON.stringify({\n          ReturnDate: values.ReturnDate,\n          ReturnReason: values.ReturnReason.value,\n          Customer: values.Customer.value,\n          Comment: values.Comment,\n          GrandTotal: grand_total,\n          Party: loginPartyID(),\n          RoundOffAmount: (grand_total - Math.trunc(grand_total)).toFixed(2),\n          CreatedBy: loginUserID(),\n          UpdatedBy: loginUserID(),\n          ReturnItems: filterData\n        }); // if (pageMode === mode.edit) {\n        //     dispatch(updateCategoryTypeID({ jsonBody, updateId: values.id, btnId }));\n        // }\n        // else {\n\n        dispatch(saveSalesReturnMaster({\n          jsonBody,\n          btnId\n        }));\n      } // }\n\n    } catch (e) {\n      btnIsDissablefunc({\n        btnId,\n        state: false\n      });\n    }\n  };\n\n  if (!(userPageAccessState === '')) {\n    return /*#__PURE__*/_jsxDEV(React.Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(MetaTags, {\n        children: metaTagLabel(userPageAccessState)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 729,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"page-content\",\n        style: {\n          marginBottom: \"5cm\"\n        },\n        children: /*#__PURE__*/_jsxDEV(\"form\", {\n          noValidate: true,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"px-2 c_card_filter header text-black mb-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              id: \"add-img\",\n              className: \"abc1\",\n              src: '',\n              style: {\n                top: \"400px\"\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 735,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Row, {\n              children: [/*#__PURE__*/_jsxDEV(Col, {\n                sm: \"6\",\n                children: /*#__PURE__*/_jsxDEV(FormGroup, {\n                  className: \"row mt-2\",\n                  children: [/*#__PURE__*/_jsxDEV(Label, {\n                    className: \"col-sm-1 p-2\",\n                    style: {\n                      width: \"115px\",\n                      marginRight: \"0.4cm\"\n                    },\n                    children: [fieldLabel.ReturnDate, \"  \"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 740,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(Col, {\n                    sm: \"7\",\n                    children: /*#__PURE__*/_jsxDEV(Flatpickr, {\n                      name: \"ReturnDate\",\n                      value: values.ReturnDate,\n                      className: \"form-control d-block p-2 bg-white text-dark\",\n                      placeholder: \"Select...\",\n                      options: {\n                        altInput: true,\n                        altFormat: \"d-m-Y\",\n                        dateFormat: \"Y-m-d\"\n                      },\n                      onChange: ReturnDate_Onchange\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 743,\n                      columnNumber: 45\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 742,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 739,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 738,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(Col, {\n                sm: \"6\",\n                children: /*#__PURE__*/_jsxDEV(FormGroup, {\n                  className: \" row mt-2 \",\n                  children: [/*#__PURE__*/_jsxDEV(Label, {\n                    className: \"col-sm-1 p-2\",\n                    style: {\n                      width: \"115px\",\n                      marginRight: \"0.4cm\"\n                    },\n                    children: [fieldLabel.Customer, \" \"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 761,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(Col, {\n                    sm: \"7\",\n                    children: [/*#__PURE__*/_jsxDEV(Select, {\n                      id: \"Customer \",\n                      name: \"Customer\" // closeMenuOnSelect={false}\n                      // menuIsOpen={menuIsOpen}\n                      ,\n                      value: values.Customer,\n                      isSearchable: true,\n                      className: \"react-dropdown\",\n                      classNamePrefix: \"dropdown\",\n                      options: customerOptions,\n                      onChange: (hasSelect, evn) => {\n                        onChangeSelect({\n                          hasSelect,\n                          evn,\n                          state,\n                          setState\n                        });\n                        RetailerHandler(hasSelect);\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 764,\n                      columnNumber: 45\n                    }, this), isError.Customer.length > 0 && /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-danger f-8\",\n                      children: /*#__PURE__*/_jsxDEV(\"small\", {\n                        children: isError.Customer\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 780,\n                        columnNumber: 83\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 780,\n                      columnNumber: 49\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 763,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 760,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 759,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 737,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Row, {\n              children: [/*#__PURE__*/_jsxDEV(Col, {\n                sm: \"6\",\n                children: /*#__PURE__*/_jsxDEV(FormGroup, {\n                  className: \" row mt-2 \",\n                  children: [/*#__PURE__*/_jsxDEV(Label, {\n                    className: \"col-sm-1 p-2\",\n                    style: {\n                      width: \"115px\",\n                      marginRight: \"0.4cm\"\n                    },\n                    children: [fieldLabel.ReturnReason, \" \"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 791,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(Col, {\n                    sm: \"7\",\n                    children: [/*#__PURE__*/_jsxDEV(Select, {\n                      id: \"ReturnReason \",\n                      name: \"ReturnReason\",\n                      value: values.ReturnReason,\n                      isSearchable: true,\n                      className: \"react-dropdown\",\n                      classNamePrefix: \"dropdown\",\n                      options: ReturnReasonOptions,\n                      onChange: (hasSelect, evn) => {\n                        onChangeSelect({\n                          hasSelect,\n                          evn,\n                          state,\n                          setState\n                        });\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 794,\n                      columnNumber: 45\n                    }, this), isError.ReturnReason.length > 0 && /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-danger f-8\",\n                      children: /*#__PURE__*/_jsxDEV(\"small\", {\n                        children: isError.ReturnReason\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 807,\n                        columnNumber: 83\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 807,\n                      columnNumber: 49\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 793,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 790,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 789,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(Col, {\n                sm: \"6\",\n                children: /*#__PURE__*/_jsxDEV(FormGroup, {\n                  className: \" row mt-2 \",\n                  children: [/*#__PURE__*/_jsxDEV(Label, {\n                    className: \"col-sm-1 p-2\",\n                    style: {\n                      width: \"115px\",\n                      marginRight: \"0.4cm\"\n                    },\n                    children: [fieldLabel.Comment, \" \"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 816,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(Col, {\n                    sm: \"7\",\n                    children: [/*#__PURE__*/_jsxDEV(Input, {\n                      name: \"Comment\",\n                      id: \"Comment\",\n                      value: values.Comment,\n                      type: \"text\",\n                      className: isError.Comment.length > 0 ? \"is-invalid form-control\" : \"form-control\",\n                      placeholder: \"Please Enter Comment\",\n                      autoComplete: \"off\" // autoFocus={true}\n                      ,\n                      onChange: event => {\n                        onChangeText({\n                          event,\n                          state,\n                          setState\n                        });\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 819,\n                      columnNumber: 45\n                    }, this), isError.Comment.length > 0 && /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"invalid-feedback\",\n                      children: isError.Comment\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 833,\n                      columnNumber: 49\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 818,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 815,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 814,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 788,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Row, {\n              children: [/*#__PURE__*/_jsxDEV(Col, {\n                sm: \"6\",\n                children: /*#__PURE__*/_jsxDEV(FormGroup, {\n                  className: \" row mt-2 \",\n                  children: [/*#__PURE__*/_jsxDEV(Label, {\n                    className: \"col-sm-1 p-2\",\n                    style: {\n                      width: \"115px\",\n                      marginRight: \"0.4cm\"\n                    },\n                    children: [fieldLabel.ItemName, \" \"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 844,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(Col, {\n                    sm: \"7\",\n                    children: /*#__PURE__*/_jsxDEV(Select, {\n                      id: \"ItemName \",\n                      name: \"ItemName\",\n                      value: values.ItemName,\n                      isDisabled: returnMode === 1 ? true : false,\n                      isSearchable: true,\n                      className: \"react-dropdown\",\n                      classNamePrefix: \"dropdown\",\n                      options: ItemList_Options,\n                      onChange: (hasSelect, evn) => {\n                        onChangeSelect({\n                          hasSelect,\n                          evn,\n                          state,\n                          setState\n                        });\n                        setrRturnMode(2);\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 847,\n                      columnNumber: 45\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 846,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(Col, {\n                    sm: \"1\",\n                    className: \"mx-6 mt-1\",\n                    children: !(returnMode === 1) && /*#__PURE__*/_jsxDEV(Button, {\n                      type: \"button\",\n                      color: \"btn btn-outline-primary border-1 font-size-11 text-center\",\n                      onClick: e => AddPartyHandler(e, \"add\"),\n                      children: \" Add\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 867,\n                      columnNumber: 49\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 864,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 843,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 842,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(Col, {\n                sm: \"6\",\n                children: /*#__PURE__*/_jsxDEV(FormGroup, {\n                  className: \" row mt-2 \",\n                  children: [/*#__PURE__*/_jsxDEV(Label, {\n                    className: \"col-sm-1 p-2\",\n                    style: {\n                      width: \"115px\",\n                      marginRight: \"0.4cm\"\n                    },\n                    children: [\"  \", fieldLabel.InvoiceNumber]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 906,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(Col, {\n                    sm: \"7\",\n                    children: /*#__PURE__*/_jsxDEV(Select, {\n                      id: \"InvoiceNumber \",\n                      name: \"InvoiceNumber\",\n                      value: values.InvoiceNumber,\n                      isDisabled: returnMode === 2 || TableArr.length > 0 ? true : false,\n                      isSearchable: true,\n                      className: \"react-dropdown\",\n                      classNamePrefix: \"dropdown\",\n                      options: InvoiceNo_Options,\n                      onChange: (hasSelect, evn) => {\n                        onChangeSelect({\n                          hasSelect,\n                          evn,\n                          state,\n                          setState\n                        });\n                        setrRturnMode(1);\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 909,\n                      columnNumber: 45\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 908,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(Col, {\n                    sm: \"1\",\n                    className: \"mx-6 mt-1 \",\n                    children: TableArr.length > 0 || !(values.ItemName === \"\") ? /*#__PURE__*/_jsxDEV(Change_Button, {\n                      onClick: e => {\n                        setTableArr([]);\n                        setState(i => {\n                          let a = { ...i\n                          };\n                          a.values.ItemName = \"\";\n                          a.values.InvoiceNumber = \"\";\n                          return a;\n                        });\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 927,\n                      columnNumber: 49\n                    }, this) : !(returnMode === 2) && /*#__PURE__*/_jsxDEV(Button, {\n                      type: \"button\",\n                      color: \"btn btn-outline-primary border-1 font-size-11 text-center\",\n                      onClick: e => AddPartyHandler(e, \"Select\"),\n                      children: [\"        \", /*#__PURE__*/_jsxDEV(\"i\", {\n                        children: \" \"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 940,\n                        columnNumber: 58\n                      }, this), \"Select\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 938,\n                      columnNumber: 49\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 925,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 905,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 904,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 841,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 734,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(CustomTable2, {\n            data: TableArr,\n            columns: pagesListColumns // customSearch={bulkSearch}\n            ,\n            classes: \" table table-responsive table-bordered table-hover\",\n            noDataIndication: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-danger text-center \",\n              children: \"Record Not available\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 958,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 952,\n            columnNumber: 25\n          }, this), TableArr.length > 0 ? /*#__PURE__*/_jsxDEV(FormGroup, {\n            children: /*#__PURE__*/_jsxDEV(Col, {\n              sm: 2,\n              style: {\n                marginLeft: \"-40px\"\n              },\n              className: \"row save1\",\n              children: /*#__PURE__*/_jsxDEV(SaveButton, {\n                pageMode: pageMode,\n                onClick: SaveHandler,\n                userAcc: userPageAccessState,\n                editCreatedBy: editCreatedBy,\n                module: \"SalesReturn\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 969,\n                columnNumber: 41\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 968,\n              columnNumber: 37\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 967,\n            columnNumber: 33\n          }, this) : null]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 733,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 731,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 728,\n      columnNumber: 13\n    }, this);\n  } else {\n    return /*#__PURE__*/_jsxDEV(React.Fragment, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 988,\n      columnNumber: 13\n    }, this);\n  }\n};\n\n_s(SalesReturn, \"FtZeXuvxftD4mf5LPXSQVIoVieY=\", false, function () {\n  return [useDispatch, useHistory, useSelector];\n});\n\n_c = SalesReturn;\nexport default SalesReturn;\n\nvar _c;\n\n$RefreshReg$(_c, \"SalesReturn\");","map":{"version":3,"names":["React","useEffect","useState","Col","FormGroup","Label","Input","Row","Button","MetaTags","Flatpickr","Breadcrumb_inputName","commonPageFieldSuccess","getItemList","useDispatch","useSelector","AlertState","commonPageField","useHistory","comAddPageFieldFunc","formValid","initialFiledFunc","onChangeDate","onChangeSelect","onChangeText","resetFunction","Select","Change_Button","Go_Button","SaveButton","breadcrumbReturnFunc","loginPartyID","currentDate","btnIsDissablefunc","loginUserID","loginCompanyID","convertDatefunc","invertDatefunc","loginJsonBody","metaTagLabel","pageId","url","mode","GetVender","Retailer_List","CustomAlert","postSelect_Field_for_dropdown","saveSalesReturnMaster","InvoiceNumber","InvoiceNumberSuccess","saveSalesReturnMaster_Success","CustomTable2","CInput","decimalRegx","floatRegx","getpartyItemList","SalesReturn_add_button_api","SalesReturn_add_button_api_For_Invoice","SalesReturn_add_button_api_For_Item","salesReturnCalculate","SalesReturn","props","dispatch","history","pageMode","setPageMode","defaultsave","userPageAccessState","setUserAccState","editCreatedBy","seteditCreatedBy","fileds","ReturnDate","Customer","ItemName","ReturnReason","Comment","state","setState","TableArr","setTableArr","returnMode","setrRturnMode","imageTable","setImageTable","postMsg","RetailerList","ItemList","ReturnReasonList","InvoiceNo","pageField","userAccess","SalesReturnReducer","CommonAPI_Reducer","PartyItemsReducer","partyItem","PartyMasterBulkUpdateReducer","SelectField","Login","RoleAccessUpdateData","CommonPageFieldReducer","page_Id","SALES_RETURN","jsonBody","JSON","stringify","Type","PartyID","CompanyID","length","location","hasShowModal","hasOwnProperty","editValue","values","isError","fieldLabel","userAcc","locationPath","pathname","masterPath","find","inx","ActualPagePath","Company","TypeID","fieldArr","PageFieldMaster","Status","StatusCode","dropdownAdd","Message","RedirectPath","SALES_RETURN_LIST","postMessage","AfterResponseAction","ReturnDate_Onchange","e","date","i","a","hasValid","valid","customerOptions","map","index","value","id","label","Name","itemList","Item","itemCheck","selectCheck","ItemList_Options","filter","ReturnReasonOptions","InvoiceNo_Options","Invoice","FullInvoiceNumber","deleteButtonAction","row","newArr","quantityHandler","event","target","input","v1","Number","Quantity","v2","Qty","pagesListColumns","text","dataField","formatter","cellContent","key","hidden","classes","justifyContent","width","b","RowData","Unit","UnitName","ItemUnitDetails","BaseUnitQuantity","MRP","MRPValue","ItemMRPDetails","GST","GSTPercentage","ItemGSTHSNDetails","GST_ID","Rate","BatchCode","BatchDate","altInput","altFormat","dateFormat","ItemComment","onchangeHandler","myFunction","AddPartyHandler","type","invalidMsg1","push","resp","data","Data","InvoiceItems","unitOps","MRPOps","GSTOps","ItemGSTDetails","itemArr","forEach","gstPercentage","w","RetailerHandler","CustomerID","file","files","base64","convertBase64","ImageUpload","Image","Promise","resolve","reject","fileReader","FileReader","readAsDataURL","onload","result","onerror","error","x","document","getElementById","style","display","src","SaveHandler","preventDefault","btnId","grand_total","ReturnItems","calculate","tAmount","Amount","BasicAmount","baseAmt","GSTAmount","gstAmt","CGST","SGST","IGST","CGSTPercentage","SGSTPercentage","IGSTPercentage","TaxType","ReturnItemImages","filterData","undefined","GrandTotal","Party","RoundOffAmount","Math","trunc","toFixed","CreatedBy","UpdatedBy","marginBottom","top","marginRight","hasSelect","evn","marginLeft"],"sources":["D:/Rohit/Git projects/Manthan/src/pages/Sale/Invoice/SalesReturn/SalesReturn.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport {\r\n    Col,\r\n    FormGroup,\r\n    Label,\r\n    Input,\r\n    Row,\r\n    Button\r\n} from \"reactstrap\";\r\nimport { MetaTags } from \"react-meta-tags\";\r\nimport Flatpickr from \"react-flatpickr\"\r\nimport { Breadcrumb_inputName, commonPageFieldSuccess, getItemList } from \"../../../../store/actions\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { AlertState, commonPageField } from \"../../../../store/actions\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport {\r\n    comAddPageFieldFunc,\r\n    formValid,\r\n    initialFiledFunc,\r\n    onChangeDate,\r\n    onChangeSelect,\r\n    onChangeText,\r\n    resetFunction,\r\n} from \"../../../../components/Common/validationFunction\";\r\nimport Select from \"react-select\";\r\nimport { Change_Button, Go_Button, SaveButton } from \"../../../../components/Common/CommonButton\";\r\nimport { breadcrumbReturnFunc, loginPartyID, currentDate, btnIsDissablefunc, loginUserID, loginCompanyID, convertDatefunc, invertDatefunc, loginJsonBody, metaTagLabel } from \"../../../../components/Common/CommonFunction\";\r\nimport * as pageId from \"../../../../routes//allPageID\";\r\nimport * as url from \"../../../../routes/route_url\";\r\nimport * as mode from \"../../../../routes/PageMode\";\r\nimport { GetVender, Retailer_List } from \"../../../../store/CommonAPI/SupplierRedux/actions\";\r\nimport { CustomAlert } from \"../../../../CustomAlert/ConfirmDialog\";\r\nimport { postSelect_Field_for_dropdown } from \"../../../../store/Administrator/PartyMasterBulkUpdateRedux/actions\";\r\nimport { saveSalesReturnMaster, InvoiceNumber, InvoiceNumberSuccess, saveSalesReturnMaster_Success } from \"../../../../store/Sales/SalesReturnRedux/action\";\r\nimport CustomTable2 from \"../../../../CustomTable2/Table\";\r\nimport \"./salesReturn.scss\";\r\nimport CInput from \"../../../../CustomValidateForm/CInput\";\r\nimport { decimalRegx, floatRegx } from \"../../../../CustomValidateForm/RegexPattern\";\r\nimport { getpartyItemList } from \"../../../../store/Administrator/PartyItemsRedux/action\";\r\nimport { SalesReturn_add_button_api, SalesReturn_add_button_api_For_Invoice, SalesReturn_add_button_api_For_Item } from \"../../../../helpers/backend_helper\";\r\nimport { salesReturnCalculate } from \"./SalesCalculation\";\r\n\r\nconst SalesReturn = (props) => {\r\n\r\n    const dispatch = useDispatch();\r\n    const history = useHistory()\r\n\r\n    const [pageMode, setPageMode] = useState(mode.defaultsave);\r\n    const [userPageAccessState, setUserAccState] = useState('');\r\n    const [editCreatedBy, seteditCreatedBy] = useState(\"\");\r\n\r\n    const fileds = {\r\n        ReturnDate: currentDate,\r\n        Customer: \"\",\r\n        ItemName: \"\",\r\n        InvoiceNumber: \"\",\r\n        ReturnReason: \"\",\r\n        Comment: \"\"\r\n    }\r\n\r\n    const [state, setState] = useState(initialFiledFunc(fileds))\r\n\r\n    const [TableArr, setTableArr] = useState([]);\r\n\r\n    const [returnMode, setrRturnMode] = useState(0);\r\n    const [imageTable, setImageTable] = useState([]);\r\n\r\n    //Access redux store Data /  'save_ModuleSuccess' action data\r\n    const {\r\n        postMsg,\r\n        RetailerList,\r\n        ItemList,\r\n        ReturnReasonList,\r\n        InvoiceNo,\r\n        pageField,\r\n        userAccess,\r\n    } = useSelector((state) => ({\r\n        postMsg: state.SalesReturnReducer.postMsg,\r\n        RetailerList: state.CommonAPI_Reducer.RetailerList,\r\n        ItemList: state.PartyItemsReducer.partyItem,\r\n        ReturnReasonList: state.PartyMasterBulkUpdateReducer.SelectField,\r\n        InvoiceNo: state.SalesReturnReducer.InvoiceNo,\r\n        userAccess: state.Login.RoleAccessUpdateData,\r\n        pageField: state.CommonPageFieldReducer.pageField,\r\n    }));\r\n\r\n    useEffect(() => {\r\n        dispatch(InvoiceNumberSuccess([]))\r\n        const page_Id = pageId.SALES_RETURN\r\n        dispatch(commonPageFieldSuccess(null));\r\n        dispatch(commonPageField(page_Id))\r\n        dispatch(getpartyItemList(loginJsonBody()))\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        const jsonBody = JSON.stringify({\r\n            Type: 1,\r\n            PartyID: loginPartyID(),\r\n            CompanyID: loginCompanyID()\r\n        });\r\n        dispatch(Retailer_List(jsonBody));\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        if (TableArr.length === 0) {\r\n            setrRturnMode(0)\r\n        }\r\n    }, [TableArr]);\r\n\r\n    const location = { ...history.location }\r\n    // const hasShowloction = location.hasOwnProperty(mode.editValue)\r\n    const hasShowModal = props.hasOwnProperty(mode.editValue)\r\n\r\n    const values = { ...state.values }\r\n    const { isError } = state;\r\n    const { fieldLabel } = state;\r\n\r\n    // userAccess useEffect\r\n    useEffect(() => {\r\n        let userAcc = null;\r\n        let locationPath = location.pathname;\r\n        if (hasShowModal) {\r\n            locationPath = props.masterPath;\r\n        };\r\n        userAcc = userAccess.find((inx) => {\r\n            return (`/${inx.ActualPagePath}` === locationPath)\r\n        })\r\n        if (userAcc) {\r\n            setUserAccState(userAcc)\r\n            breadcrumbReturnFunc({ dispatch, userAcc });\r\n        };\r\n    }, [userAccess])\r\n\r\n    // Return Reason dropdown Values\r\n    useEffect(() => {\r\n        const jsonBody = JSON.stringify({\r\n            Company: loginCompanyID(),\r\n            TypeID: 8\r\n        });\r\n        dispatch(postSelect_Field_for_dropdown(jsonBody));\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        if (pageField) {\r\n            const fieldArr = pageField.PageFieldMaster\r\n            comAddPageFieldFunc({ state, setState, fieldArr })\r\n        }\r\n    }, [pageField])\r\n\r\n    useEffect(() => {\r\n        if ((postMsg.Status === true) && (postMsg.StatusCode === 200)) {\r\n            dispatch(saveSalesReturnMaster_Success({ Status: false }))\r\n            setTableArr([])\r\n            setState(() => resetFunction(fileds, state))// Clear form values  \r\n            dispatch(Breadcrumb_inputName(''))\r\n\r\n            if (pageMode === mode.dropdownAdd) {\r\n                dispatch(AlertState({\r\n                    Type: 1,\r\n                    Status: true,\r\n                    Message: postMsg.Message,\r\n                }))\r\n            }\r\n            else {\r\n                dispatch(AlertState({\r\n                    Type: 1,\r\n                    Status: true,\r\n                    Message: postMsg.Message,\r\n                    RedirectPath: url.SALES_RETURN_LIST,\r\n                }))\r\n            }\r\n        }\r\n        else if (postMsg.Status === true) {\r\n            dispatch(saveSalesReturnMaster_Success({ Status: false }))\r\n            dispatch(AlertState({\r\n                Type: 4,\r\n                Status: true,\r\n                Message: JSON.stringify(postMessage.Message),\r\n                RedirectPath: false,\r\n                AfterResponseAction: false\r\n            }));\r\n        }\r\n    }, [postMsg])\r\n\r\n    function ReturnDate_Onchange(e, date) {\r\n        setState((i) => {\r\n            const a = { ...i }\r\n            a.values.ReturnDate = date;\r\n            a.hasValid.ReturnDate.valid = true\r\n            return a\r\n        })\r\n    }\r\n\r\n    const customerOptions = RetailerList.map((index) => ({\r\n        value: index.id,\r\n        label: index.Name,\r\n    }));\r\n\r\n    const itemList = ItemList.map((index) => ({\r\n        value: index.Item,\r\n        label: index.ItemName,\r\n        itemCheck: index.selectCheck\r\n    }));\r\n\r\n    const ItemList_Options = itemList.filter((index) => {\r\n        return index.itemCheck === true\r\n    });\r\n\r\n    const ReturnReasonOptions = ReturnReasonList.map((index) => ({\r\n        value: index.id,\r\n        label: index.Name,\r\n    }));\r\n\r\n    const InvoiceNo_Options = InvoiceNo.map((index) => ({\r\n        value: index.Invoice,\r\n        label: index.FullInvoiceNumber,\r\n    }));\r\n\r\n    function deleteButtonAction(row) {\r\n        const newArr = TableArr.filter((index) => !(index.id === row.id))\r\n        setTableArr(newArr)\r\n    }\r\n\r\n    function quantityHandler(event, row) {\r\n\r\n        row[\"Qty\"] = event.target.value\r\n\r\n        let input = event.target.value\r\n\r\n        if (returnMode === 1) {\r\n            let v1 = Number(row.Quantity);\r\n            let v2 = Number(input)\r\n            if (!(v1 >= v2)) {\r\n                event.target.value = v1;\r\n            }\r\n        }\r\n        row.Qty = event.target.value\r\n\r\n    }\r\n\r\n    const pagesListColumns = [\r\n        {\r\n            text: \"Item Name\",\r\n            dataField: \"\",\r\n            formatter: (cellContent, row, key) => {\r\n                return (\r\n                    <Label>{row.ItemName.label}</Label>\r\n                )\r\n            }\r\n        }, ,\r\n        {\r\n            text: \"Invoice Qty\",\r\n            dataField: \"\",\r\n            hidden: returnMode === 2 && true,\r\n            formatter: (cellContent, row, key) => {\r\n                return (\r\n                    <Label>{row.Quantity}</Label>\r\n                )\r\n            }\r\n        },\r\n        {\r\n            text: \"Quantity\",\r\n            dataField: \"\",\r\n            classes: () => \"sales-return-row\",\r\n            formatter: (cellContent, row, key) => {\r\n\r\n                return (<span style={{ justifyContent: 'center', width: \"100px\" }}>\r\n                    <CInput\r\n                        id={`Qty${key}`}\r\n                        key={`Qty${row.id}`}\r\n                        defaultValue={row.Qty}\r\n                        autoComplete=\"off\"\r\n                        type=\"text\"\r\n                        cpattern={decimalRegx}\r\n                        className=\"col col-sm text-end\"\r\n                        onChange={(event) => quantityHandler(event, row)}\r\n                    />\r\n                </span>)\r\n            }\r\n        },\r\n        {\r\n            text: \"Unit\",\r\n            dataField: \"\",\r\n            classes: () => \"sales-return-row\",\r\n            formatter: (cellContent, row, key, a, b) => {\r\n\r\n                return (<span style={{ justifyContent: 'center', width: \"100px\" }}>\r\n                    <Select\r\n                        id={`Unit${key}`}\r\n                        name=\"Unit\"\r\n                        defaultValue={returnMode === 1 && { value: row.RowData.Unit, label: row.RowData.UnitName }}\r\n                        isSearchable={true}\r\n                        isDisabled={returnMode === 1 && true}\r\n                        className=\"react-dropdown\"\r\n                        classNamePrefix=\"dropdown\"\r\n                        options={row.ItemUnitDetails}\r\n                        onChange={(event) => {\r\n                            row.Unit = event.value\r\n                            row.BaseUnitQuantity = event.BaseUnitQuantity\r\n                        }}\r\n                    />\r\n                </span>)\r\n            }\r\n        },\r\n        {\r\n            text: \"MRP\",\r\n            dataField: \"\",\r\n            classes: () => \"sales-return-row\",\r\n            formatter: (cellContent, row, key) => {\r\n                return (\r\n                    <>\r\n                        <span style={{ justifyContent: 'center', width: \"100px\" }}>\r\n                            <Select\r\n                                id={`MRP${key}`}\r\n                                name=\"MRP\"\r\n                                defaultValue={returnMode === 1 && { value: row.RowData.MRP, label: row.RowData.MRPValue }}\r\n                                isSearchable={true}\r\n                                isDisabled={returnMode === 1 && true}\r\n                                className=\"react-dropdown\"\r\n                                classNamePrefix=\"dropdown\"\r\n                                options={row.ItemMRPDetails}\r\n                                onChange={(event) => { row.MRP = event.value }}\r\n                            />\r\n                        </span></>)\r\n            }\r\n        },\r\n\r\n        {\r\n            text: \"GST\",\r\n            dataField: \"\",\r\n            classes: () => \"sales-return-row\",\r\n            formatter: (cellContent, row, key) => {\r\n                return (<span style={{ justifyContent: 'center', width: \"100px\" }}>\r\n                    <Select\r\n                        id={`GST${key}`}\r\n                        name=\"GST\"\r\n                        defaultValue={returnMode === 1 && { value: row.RowData.GST, label: row.RowData.GSTPercentage }}\r\n                        isSearchable={true}\r\n                        isDisabled={returnMode === 1 && true}\r\n                        className=\"react-dropdown\"\r\n                        classNamePrefix=\"dropdown\"\r\n                        options={row.ItemGSTHSNDetails}\r\n                        onChange={(event) => {\r\n                            row.GST_ID = event.value\r\n                            row.GST = event.label\r\n                        }}\r\n                    />\r\n                </span>)\r\n            }\r\n        },\r\n        {\r\n            text: \"Rate\",\r\n            dataField: \"\",\r\n            classes: () => \"sales-return-row\",\r\n            formatter: (cellContent, row, key) => {\r\n\r\n                return (<span style={{ justifyContent: 'center', width: \"100px\" }}>\r\n                    <CInput\r\n                        id=\"\"\r\n                        key={row.id}\r\n                        defaultValue={row.Rate}\r\n                        disabled={returnMode === 1 && true}\r\n                        type=\"text\"\r\n                        cpattern={/^-?([0-9]*\\.?[0-9]+|[0-9]+\\.?[0-9]*)$/}\r\n                        className=\"col col-sm text-end\"\r\n                        onChange={(event) => { row.Rate = event.target.value }}\r\n                    />\r\n                </span>)\r\n            }\r\n        },\r\n        {\r\n            text: \"BatchCode\",\r\n            dataField: \"\",\r\n            classes: () => \"sales-return-row\",\r\n            formatter: (cellContent, row, key) => {\r\n\r\n                return (<span style={{ justifyContent: 'center', width: \"100px\" }}>\r\n                    <Input\r\n                        id=\"\"\r\n                        key={row.id}\r\n                        defaultValue={row.RowData.BatchCode}\r\n                        disabled={returnMode === 1 && true}\r\n                        type=\"text\"\r\n                        className=\"col col-sm text-center\"\r\n                        onChange={(event) => { row.BatchCode = event.target.value }}\r\n                    />\r\n                </span>)\r\n            }\r\n        },\r\n        {\r\n            text: \"BatchDate\",\r\n            dataField: \"\",\r\n            classes: () => \"sales-return-row\",\r\n            formatter: (cellContent, row, key) => {\r\n\r\n                return (<span style={{ justifyContent: 'center', width: \"100px\" }}>\r\n                    <Flatpickr\r\n                        name='ReturnDate'\r\n                        defaultValue={returnMode === 1 ? invertDatefunc(row.RowData.BatchDate) : currentDate}\r\n                        disabled={returnMode === 1 ? true : false}\r\n                        className=\"form-control d-block p-2 bg-white text-dark\"\r\n                        placeholder=\"Select...\"\r\n                        options={{\r\n                            altInput: true,\r\n                            altFormat: \"d-m-Y\",\r\n                            dateFormat: \"Y-m-d\",\r\n                        }}\r\n                        onChange={(event) => {\r\n                            row.BatchDate = invertDatefunc(event)\r\n                        }}\r\n                    />\r\n                </span>)\r\n            }\r\n        },\r\n        {\r\n            text: \"Item Comment\",\r\n            dataField: \"\",\r\n            classes: () => \"sales-return-row\",\r\n            formatter: (cellContent, row, key) => {\r\n\r\n                return (<span style={{ justifyContent: 'center', width: \"100px\" }}>\r\n                    <Input\r\n                        id=\"\"\r\n                        key={row.id}\r\n                        defaultChecked={row.ItemComment}\r\n                        type=\"text\"\r\n                        className=\"col col-sm text-center\"\r\n                        onChange={(event) => { row.ItemComment = event.target.value }}\r\n                    />\r\n                </span>)\r\n            }\r\n        },\r\n        {\r\n            text: \"Image\",\r\n            dataField: \"\",\r\n            classes: () => \"sales-return-Image-row\",\r\n            formatter: (cellContent, row, key) => {\r\n\r\n                return (<span style={{ justifyContent: 'center', width: \"100px\" }}>\r\n                    <div>\r\n                        <div className=\"btn-group btn-group-example mb-3\" role=\"group\">\r\n                            <Input\r\n                                type=\"file\"\r\n                                className=\"form-control \"\r\n                                // value={FileName}\r\n                                name=\"image\"\r\n                                id=\"file\"\r\n                                accept=\".jpg, .jpeg, .png ,.pdf\"\r\n                                onChange={(event) => { onchangeHandler(event, row) }}\r\n                            />\r\n                            <button name=\"image\"\r\n                                accept=\".jpg, .jpeg, .png ,.pdf\"\r\n                                onClick={() => { myFunction(row) }}\r\n                                id=\"ImageId\" type=\"button\" className=\"btn btn-primary \">Show</button>\r\n                        </div>\r\n                    </div>\r\n\r\n\r\n                </span>)\r\n            }\r\n        },\r\n        {\r\n            text: \"Action \",\r\n            dataField: \"\",\r\n            hidden: (returnMode === 1) && true,\r\n            formatter: (cellContent, row, key) => (\r\n                <>\r\n                    <div style={{ justifyContent: 'center' }} >\r\n                        <Col>\r\n                            <FormGroup className=\" col col-sm-4 \">\r\n                                <Button\r\n                                    id={\"deleteid\"}\r\n                                    type=\"button\"\r\n                                    className=\"badge badge-soft-danger font-size-12 btn btn-danger waves-effect waves-light w-xxs border border-light\"\r\n                                    data-mdb-toggle=\"tooltip\" data-mdb-placement=\"top\" title='Delete MRP'\r\n                                    onClick={(e) => { deleteButtonAction(row) }}\r\n                                >\r\n                                    <i className=\"mdi mdi-delete font-size-18\"></i>\r\n                                </Button>\r\n                            </FormGroup>\r\n                        </Col>\r\n                    </div>\r\n                </>\r\n            ),\r\n        },\r\n    ];\r\n\r\n    async function AddPartyHandler(e, type) {\r\n\r\n        const invalidMsg1 = []\r\n        if ((values.ItemName === '') && (type === 'add')) {\r\n            invalidMsg1.push(`Select Item Name`)\r\n        }\r\n        if ((values.InvoiceNumber === '') && (values.Customer === '') && (type === 'Select')) {\r\n            invalidMsg1.push(`Select Retailer.`)\r\n        }\r\n        else if ((values.InvoiceNumber === '') && (type === 'Select')) {\r\n            invalidMsg1.push(`Select Invoice No.`)\r\n        }\r\n\r\n        if (invalidMsg1.length > 0) {\r\n            CustomAlert({\r\n                Type: 4,\r\n                Message: JSON.stringify(invalidMsg1)\r\n            })\r\n            return\r\n        }\r\n\r\n        let resp;\r\n        try {\r\n\r\n            if (returnMode === 2) {\r\n                resp = await SalesReturn_add_button_api_For_Item(values.ItemName.value)\r\n            }\r\n            else {\r\n                resp = await SalesReturn_add_button_api_For_Invoice(values.InvoiceNumber.value)\r\n            }\r\n\r\n            const data = resp.Data.InvoiceItems.map((i) => ({\r\n                unitOps: (returnMode === 1) ? { label: i.UnitName, value: i.Unit, BaseUnitQuantity: i.BaseUnitQuantity } : i.ItemUnitDetails.map(i => ({ label: i.UnitName, value: i.Unit, BaseUnitQuantity: i.BaseUnitQuantity })),\r\n                MRPOps: i.ItemMRPDetails.map(i => ({ label: i.MRPValue, value: i.MRP })),\r\n                GSTOps: i.ItemGSTDetails.map(i => ({ label: i.GSTPercentage, value: i.GST })),\r\n                ItemName: { label: i.ItemName, value: i.Item },\r\n                Quantity: i.Quantity,\r\n                Rate: i.Rate,\r\n                RowData: i\r\n            }))\r\n\r\n            const itemArr = [...TableArr]\r\n\r\n            data.forEach((i) => {\r\n                itemArr.push({\r\n                    id: itemArr.length + 1,\r\n                    ItemUnitDetails: i.unitOps,\r\n                    ItemMRPDetails: i.MRPOps,\r\n                    ItemGSTHSNDetails: i.GSTOps,\r\n                    ItemName: i.ItemName,\r\n                    Quantity: i.Quantity,\r\n                    Rate: i.Rate,\r\n                    gstPercentage: i.RowData.GSTPercentage,\r\n                    RowData: i.RowData\r\n                })\r\n            })\r\n\r\n            setTableArr(itemArr)\r\n\r\n            setState((i) => {\r\n                let a = { ...i }\r\n                a.values.ItemName = \"\"\r\n                a.hasValid.ItemName.valid = true;\r\n                return a\r\n            })\r\n        } catch (w) { }\r\n    }\r\n\r\n    function RetailerHandler(event) {\r\n\r\n        setState((i) => {\r\n            let a = { ...i }\r\n            a.values.ItemName = \"\"\r\n            a.values.InvoiceNumber = \"\"\r\n            a.hasValid.ItemName.valid = true;\r\n            a.hasValid.InvoiceNumber.valid = true;\r\n            return a\r\n        })\r\n        setTableArr([])\r\n\r\n        const jsonBody = JSON.stringify({\r\n            PartyID: loginPartyID(),\r\n            CustomerID: event.value\r\n        });\r\n\r\n        dispatch(InvoiceNumber(jsonBody));\r\n    }\r\n\r\n    // image onchange handler\r\n    const onchangeHandler = async (event, row) => {\r\n\r\n        const file = event.target.files[0]\r\n        const base64 = await convertBase64(file);\r\n        let ImageUpload = base64\r\n        row.Image = ImageUpload\r\n        setImageTable(ImageUpload)\r\n    }\r\n\r\n    // image convert in string\r\n    const convertBase64 = (file) => {\r\n        return new Promise((resolve, reject) => {\r\n            const fileReader = new FileReader()\r\n            fileReader.readAsDataURL(file);\r\n\r\n            fileReader.onload = () => {\r\n                resolve(fileReader.result)\r\n            };\r\n            fileReader.onerror = (error) => {\r\n                reject(error)\r\n            }\r\n        })\r\n    }\r\n\r\n    function myFunction(row) {\r\n\r\n        var x = document.getElementById(\"add-img\");\r\n        if (x.style.display === \"none\") {\r\n            x.src = imageTable\r\n            if (imageTable != \"\") {\r\n                x.style.display = \"block\";\r\n\r\n            }\r\n\r\n        } else {\r\n            x.style.display = \"none\";\r\n        }\r\n    }\r\n\r\n    const SaveHandler = async (event) => {\r\n\r\n        event.preventDefault();\r\n\r\n        const btnId = event.target.id\r\n\r\n        let grand_total = 0;\r\n        const ReturnItems = TableArr.map((i) => {\r\n\r\n            var gstPercentage = returnMode === 1 ? i.gstPercentage : i.GST\r\n            const calculate = salesReturnCalculate({ Rate: i.Rate, Qty: i.Qty, gstPercentage: gstPercentage })\r\n\r\n            grand_total = grand_total + Number(calculate.tAmount)\r\n\r\n            return ({\r\n                Item: i.ItemName.value,\r\n                ItemName: i.ItemName.label,\r\n                Quantity: i.Qty,\r\n                Unit: returnMode === 1 ? i.RowData.Unit : i.Unit,\r\n                BaseUnitQuantity: returnMode === 1 ? i.RowData.BaseUnitQuantity : i.BaseUnitQuantity,\r\n                BatchCode: returnMode === 1 ? i.RowData.BatchCode : i.BatchCode,\r\n                BatchDate: i.BatchDate,\r\n                Amount: calculate.tAmount,\r\n                MRP: returnMode === 1 ? i.RowData.MRP : i.MRP,\r\n                Rate: i.Rate,\r\n                BasicAmount: calculate.baseAmt,\r\n                GSTAmount: calculate.gstAmt,\r\n                GST: returnMode === 1 ? i.RowData.GST : i.GST_ID,\r\n                CGST: calculate.CGST,\r\n                SGST: calculate.SGST,\r\n                IGST: 0,\r\n                GSTPercentage: gstPercentage,\r\n                CGSTPercentage: (gstPercentage / 2),\r\n                SGSTPercentage: (gstPercentage / 2),\r\n                IGSTPercentage: 0,\r\n                TaxType: \"GST\",\r\n                ReturnItemImages: []\r\n            })\r\n\r\n\r\n        })\r\n\r\n        const filterData = ReturnItems.filter((i) => {\r\n            return i.Quantity > 0\r\n        })\r\n\r\n        if (filterData.length === 0) {\r\n            CustomAlert({\r\n                Type: 4,\r\n                Message: \" Please Enter One Item Quantity\"\r\n            })\r\n            return btnIsDissablefunc({ btnId, state: false })\r\n        }\r\n\r\n        const invalidMsg1 = []\r\n\r\n        ReturnItems.forEach((i) => {\r\n\r\n            if ((i.Unit === undefined) || (i.Unit === null)) {\r\n                invalidMsg1.push(`${i.ItemName} : Unit Is Required`)\r\n            }\r\n            else if ((i.MRP === undefined) || (i.MRP === null)) {\r\n                invalidMsg1.push(`${i.ItemName} : MRP Is Required`)\r\n            }\r\n            else if ((i.GST === undefined) || (i.GST === null)) {\r\n                invalidMsg1.push(`${i.ItemName} : GST Is Required`)\r\n            }\r\n            else if ((i.Rate === undefined) || (i.Rate === null)) {\r\n                invalidMsg1.push(`${i.ItemName} : Rate Is Required`)\r\n            }\r\n            else if ((i.BatchCode === undefined) || (i.BatchCode === null)) {\r\n                invalidMsg1.push(`${i.ItemName} : BatchCode Is Required`)\r\n            };\r\n        })\r\n\r\n        if (invalidMsg1.length > 0) {\r\n            CustomAlert({\r\n                Type: 4,\r\n                Message: JSON.stringify(invalidMsg1)\r\n            })\r\n            return btnIsDissablefunc({ btnId, state: false })\r\n        }\r\n\r\n        try {\r\n            if (formValid(state, setState)) {\r\n                btnIsDissablefunc({ btnId, state: true })\r\n\r\n                const jsonBody = JSON.stringify({\r\n                    ReturnDate: values.ReturnDate,\r\n                    ReturnReason: values.ReturnReason.value,\r\n                    Customer: values.Customer.value,\r\n                    Comment: values.Comment,\r\n                    GrandTotal: grand_total,\r\n                    Party: loginPartyID(),\r\n                    RoundOffAmount: (grand_total - Math.trunc(grand_total)).toFixed(2),\r\n                    CreatedBy: loginUserID(),\r\n                    UpdatedBy: loginUserID(),\r\n                    ReturnItems: filterData,\r\n                });\r\n                // if (pageMode === mode.edit) {\r\n                //     dispatch(updateCategoryTypeID({ jsonBody, updateId: values.id, btnId }));\r\n                // }\r\n                // else {\r\n                dispatch(saveSalesReturnMaster({ jsonBody, btnId }));\r\n\r\n            }\r\n            // }\r\n        } catch (e) { btnIsDissablefunc({ btnId, state: false }) }\r\n    };\r\n\r\n    if (!(userPageAccessState === '')) {\r\n        return (\r\n            <React.Fragment>\r\n                <MetaTags>{metaTagLabel(userPageAccessState)}</MetaTags>\r\n\r\n                <div className=\"page-content\" style={{ marginBottom: \"5cm\" }}>\r\n\r\n                    <form noValidate>\r\n                        <div className=\"px-2 c_card_filter header text-black mb-2\" >\r\n                            < img id='add-img' className='abc1' src={''} style={{ top: \"400px\" }} />\r\n\r\n                            <Row>\r\n                                <Col sm=\"6\">\r\n                                    <FormGroup className=\"row mt-2\" >\r\n                                        <Label className=\"col-sm-1 p-2\"\r\n                                            style={{ width: \"115px\", marginRight: \"0.4cm\" }}>{fieldLabel.ReturnDate}  </Label>\r\n                                        <Col sm=\"7\">\r\n                                            <Flatpickr\r\n                                                name='ReturnDate'\r\n                                                value={values.ReturnDate}\r\n                                                className=\"form-control d-block p-2 bg-white text-dark\"\r\n                                                placeholder=\"Select...\"\r\n                                                options={{\r\n                                                    altInput: true,\r\n                                                    altFormat: \"d-m-Y\",\r\n                                                    dateFormat: \"Y-m-d\",\r\n                                                }}\r\n                                                onChange={ReturnDate_Onchange}\r\n                                            />\r\n                                        </Col>\r\n                                    </FormGroup>\r\n                                </Col >\r\n\r\n                                <Col sm=\"6\">\r\n                                    <FormGroup className=\" row mt-2 \" >\r\n                                        <Label className=\"col-sm-1 p-2\"\r\n                                            style={{ width: \"115px\", marginRight: \"0.4cm\" }}>{fieldLabel.Customer} </Label>\r\n                                        <Col sm=\"7\">\r\n                                            <Select\r\n                                                id=\"Customer \"\r\n                                                name=\"Customer\"\r\n                                                // closeMenuOnSelect={false}\r\n                                                // menuIsOpen={menuIsOpen}\r\n                                                value={values.Customer}\r\n                                                isSearchable={true}\r\n                                                className=\"react-dropdown\"\r\n                                                classNamePrefix=\"dropdown\"\r\n                                                options={customerOptions}\r\n                                                onChange={(hasSelect, evn) => {\r\n                                                    onChangeSelect({ hasSelect, evn, state, setState, })\r\n                                                    RetailerHandler(hasSelect)\r\n                                                }}\r\n                                            />\r\n                                            {isError.Customer.length > 0 && (\r\n                                                <span className=\"text-danger f-8\"><small>{isError.Customer}</small></span>\r\n                                            )}\r\n                                        </Col>\r\n\r\n                                    </FormGroup>\r\n                                </Col >\r\n                            </Row>\r\n\r\n                            <Row>\r\n                                <Col sm=\"6\">\r\n                                    <FormGroup className=\" row mt-2 \" >\r\n                                        <Label className=\"col-sm-1 p-2\"\r\n                                            style={{ width: \"115px\", marginRight: \"0.4cm\" }}>{fieldLabel.ReturnReason} </Label>\r\n                                        <Col sm=\"7\">\r\n                                            <Select\r\n                                                id=\"ReturnReason \"\r\n                                                name=\"ReturnReason\"\r\n                                                value={values.ReturnReason}\r\n                                                isSearchable={true}\r\n                                                className=\"react-dropdown\"\r\n                                                classNamePrefix=\"dropdown\"\r\n                                                options={ReturnReasonOptions}\r\n                                                onChange={(hasSelect, evn) => {\r\n                                                    onChangeSelect({ hasSelect, evn, state, setState, })\r\n                                                }}\r\n                                            />\r\n                                            {isError.ReturnReason.length > 0 && (\r\n                                                <span className=\"text-danger f-8\"><small>{isError.ReturnReason}</small></span>\r\n                                            )}\r\n                                        </Col>\r\n\r\n                                    </FormGroup>\r\n                                </Col >\r\n\r\n                                <Col sm=\"6\">\r\n                                    <FormGroup className=\" row mt-2 \" >\r\n                                        <Label className=\"col-sm-1 p-2\"\r\n                                            style={{ width: \"115px\", marginRight: \"0.4cm\" }}>{fieldLabel.Comment} </Label>\r\n                                        <Col sm=\"7\">\r\n                                            <Input\r\n                                                name=\"Comment\"\r\n                                                id=\"Comment\"\r\n                                                value={values.Comment}\r\n                                                type=\"text\"\r\n                                                className={isError.Comment.length > 0 ? \"is-invalid form-control\" : \"form-control\"}\r\n                                                placeholder=\"Please Enter Comment\"\r\n                                                autoComplete='off'\r\n                                                // autoFocus={true}\r\n                                                onChange={(event) => {\r\n                                                    onChangeText({ event, state, setState })\r\n                                                }}\r\n                                            />\r\n                                            {isError.Comment.length > 0 && (\r\n                                                <span className=\"invalid-feedback\">{isError.Comment}</span>\r\n                                            )}\r\n                                        </Col>\r\n\r\n                                    </FormGroup>\r\n                                </Col >\r\n                            </Row>\r\n\r\n                            <Row>\r\n                                <Col sm=\"6\">\r\n                                    <FormGroup className=\" row mt-2 \" >\r\n                                        <Label className=\"col-sm-1 p-2\"\r\n                                            style={{ width: \"115px\", marginRight: \"0.4cm\" }}>{fieldLabel.ItemName} </Label>\r\n                                        <Col sm=\"7\">\r\n                                            <Select\r\n                                                id=\"ItemName \"\r\n                                                name=\"ItemName\"\r\n                                                value={values.ItemName}\r\n                                                isDisabled={(returnMode === 1) ? true : false}\r\n                                                isSearchable={true}\r\n                                                className=\"react-dropdown\"\r\n                                                classNamePrefix=\"dropdown\"\r\n                                                options={ItemList_Options}\r\n                                                onChange={(hasSelect, evn) => {\r\n                                                    onChangeSelect({ hasSelect, evn, state, setState, })\r\n                                                    setrRturnMode(2)\r\n                                                }}\r\n                                            />\r\n\r\n                                        </Col>\r\n\r\n                                        <Col sm=\"1\" className=\"mx-6 mt-1\">\r\n                                            {\r\n                                                (!(returnMode === 1)) &&\r\n                                                < Button type=\"button\" color=\"btn btn-outline-primary border-1 font-size-11 text-center\"\r\n                                                    onClick={(e,) => AddPartyHandler(e, \"add\")}\r\n                                                > Add</Button>\r\n                                            }\r\n\r\n                                        </Col>\r\n                                        {/* <Col sm=\"1\" className=\"mx-6 mt-1 \">\r\n\r\n                                            <Col sm=\"1\" className=\"mx-6 \">                   \r\n                                                {(pageMode === mode.defaultsave) ?\r\n                                                    (TableArr.length === 0) || (returnMode === 2) ?\r\n                                                        <Button type=\"button\" color=\"btn btn-outline-primary border-1 font-size-11 text-center\"\r\n                                                            onClick={(e,) => AddPartyHandler(e, \"1\")}\r\n                                                        >        <i > </i>Add</Button>\r\n                                                        :\r\n                                                        <Change_Button onClick={(e) => {\r\n                                                            setTableArr([])\r\n                                                            setState((i) => {\r\n                                                                let a = { ...i }\r\n                                                                a.values.InvoiceNumber = \"\"\r\n                                                                a.hasValid.InvoiceNumber.valid = true;\r\n                                                                return a\r\n                                                            })\r\n                                                        }} />\r\n                                                    : null\r\n                                                }\r\n\r\n                                            </Col>\r\n                                        </Col> */}\r\n                                        {/* <Col sm=\"1\" className=\"mx-4 mt-1 \">\r\n                                            <Label className=\"col-sm-1 p-2\"\r\n                                                style={{ width: \"115px\", marginLeft: \"0.5cm\", color: \" rgb(125 74 157)\" }}>\r\n                                                OR </Label>\r\n\r\n                                        </Col> */}\r\n                                    </FormGroup>\r\n                                </Col >\r\n                                <Col sm=\"6\">\r\n                                    <FormGroup className=\" row mt-2 \" >\r\n                                        <Label className=\"col-sm-1 p-2\"\r\n                                            style={{ width: \"115px\", marginRight: \"0.4cm\" }}>  {fieldLabel.InvoiceNumber}</Label>\r\n                                        <Col sm=\"7\">\r\n                                            <Select\r\n                                                id=\"InvoiceNumber \"\r\n                                                name=\"InvoiceNumber\"\r\n                                                value={values.InvoiceNumber}\r\n                                                isDisabled={((returnMode === 2) || (TableArr.length > 0)) ? true : false}\r\n                                                isSearchable={true}\r\n                                                className=\"react-dropdown\"\r\n                                                classNamePrefix=\"dropdown\"\r\n                                                options={InvoiceNo_Options}\r\n                                                onChange={(hasSelect, evn) => {\r\n                                                    onChangeSelect({ hasSelect, evn, state, setState, })\r\n                                                    setrRturnMode(1)\r\n                                                }}\r\n                                            />\r\n\r\n                                        </Col>\r\n                                        <Col sm=\"1\" className=\"mx-6 mt-1 \">\r\n                                            {((TableArr.length > 0) || (!(values.ItemName === \"\"))) ?\r\n                                                <Change_Button onClick={(e) => {\r\n                                                    setTableArr([])\r\n                                                    setState((i) => {\r\n                                                        let a = { ...i }\r\n                                                        a.values.ItemName = \"\"\r\n                                                        a.values.InvoiceNumber = \"\"\r\n                                                        return a\r\n                                                    })\r\n                                                }} />\r\n                                                :\r\n                                                (!(returnMode === 2)) &&\r\n                                                <Button type=\"button\" color=\"btn btn-outline-primary border-1 font-size-11 text-center\"\r\n                                                    onClick={(e,) => AddPartyHandler(e, \"Select\")}\r\n                                                >        <i > </i>Select</Button>\r\n\r\n                                            }\r\n\r\n\r\n                                        </Col>\r\n                                    </FormGroup>\r\n                                </Col >\r\n\r\n                            </Row>\r\n                        </div>\r\n\r\n                        <CustomTable2\r\n                            data={TableArr}\r\n                            columns={pagesListColumns}\r\n                            // customSearch={bulkSearch}\r\n                            classes={\" table table-responsive table-bordered table-hover\"}\r\n                            noDataIndication={\r\n                                <div className=\"text-danger text-center \">\r\n                                    Record Not available\r\n                                </div>\r\n                            }\r\n                        >\r\n                        </CustomTable2>\r\n\r\n                        {\r\n                            TableArr.length > 0 ?\r\n                                <FormGroup>\r\n                                    <Col sm={2} style={{ marginLeft: \"-40px\" }} className={\"row save1\"}>\r\n                                        <SaveButton pageMode={pageMode}\r\n                                            onClick={SaveHandler}\r\n                                            userAcc={userPageAccessState}\r\n                                            editCreatedBy={editCreatedBy}\r\n                                            module={\"SalesReturn\"}\r\n                                        />\r\n\r\n                                    </Col>\r\n                                </FormGroup >\r\n                                : null\r\n                        }\r\n\r\n                    </form >\r\n                </div >\r\n            </React.Fragment >\r\n        );\r\n    }\r\n    else {\r\n        return (\r\n            <React.Fragment></React.Fragment>\r\n        )\r\n    }\r\n};\r\n\r\nexport default SalesReturn\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}