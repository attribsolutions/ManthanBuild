{"ast":null,"code":"import _objectSpread from\"D:/Rohit/Git projects/Manthan/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _regeneratorRuntime from\"D:/Rohit/Git projects/Manthan/node_modules/@babel/runtime/regenerator\";import _defineProperty from\"D:/Rohit/Git projects/Manthan/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _asyncToGenerator from\"D:/Rohit/Git projects/Manthan/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"D:/Rohit/Git projects/Manthan/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import BootstrapTable from\"react-bootstrap-table-next\";import ToolkitProvider from\"react-bootstrap-table2-toolkit\";import{Card,CardBody,FormGroup,Input,Modal,Spinner}from\"reactstrap\";import{mySearchProps}from\"../../../components/Common/SearchBox/MySearch\";import React,{useEffect}from\"react\";import{useDispatch,useSelector}from\"react-redux\";import{CommonConsole,date_dmy_func,date_ymd_func,loginRoleID,loginSystemSetting,loginUserID,tableInputArrowUpDounFunc}from\"../../../components/Common/CommonFunction\";import{confirm_SalesReturn_Id_Succcess,returnApprove,returnApprove_Success}from\"../../../store/actions\";import{useState}from\"react\";import{customAlert}from\"../../../CustomAlert/ConfirmDialog\";import{url}from\"../../../routes\";import{table_ArrowUseEffect}from\"../../../components/Common/CommonUseEffect\";import{CInput,onlyNumberRegx}from\"../../../CustomValidateForm\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ViewDetails_Modal=function ViewDetails_Modal(){var dispatch=useDispatch();var _loginSystemSetting=loginSystemSetting(),_loginSystemSetting$R=_loginSystemSetting.ReturnFinalApprovalRole,ReturnFinalApprovalRole=_loginSystemSetting$R===void 0?'':_loginSystemSetting$R;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),modal_view=_useState2[0],setModal_view=_useState2[1];var _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),tableArray=_useState4[0],setTableArray=_useState4[1];var _useSelector=useSelector(function(state){return{viewData_redux:state.SalesReturnReducer.confirmBtnData,// modify Redux State\nApprovrMsg:state.SalesReturnReducer.ApprovrMsg,// modify Redux State\nsaveBtnloading:state.SalesReturnReducer.saveBtnloading// modify Redux State\n};}),_useSelector$viewData=_useSelector.viewData_redux,viewData_redux=_useSelector$viewData===void 0?[]:_useSelector$viewData,ApprovrMsg=_useSelector.ApprovrMsg,saveBtnloading=_useSelector.saveBtnloading;useEffect(function(){try{if(viewData_redux.Status===true){if(viewData_redux.Data.length>0){setTableArray(viewData_redux.Data[0]);// modify Custom Table Data\nsetModal_view(true);}}}catch(error){CommonConsole(error);}},[viewData_redux]);useEffect(function(){if(ApprovrMsg.Status===true&&ApprovrMsg.StatusCode===200){dispatch(confirm_SalesReturn_Id_Succcess({Status:false}));dispatch(returnApprove_Success({Status:false}));customAlert({Type:1,Message:ApprovrMsg.Message});setModal_view(false);}},[ApprovrMsg]);if(Object.keys(tableArray).length>0){tableArray.ReturnItems.sort(function(a,b){//Sort With Same Item Name  \nif(a.ItemName===b.ItemName){return 0;}return b.ItemName.localeCompare(a.ItemName);});}function modalToggleFunc(){setModal_view(false);dispatch(confirm_SalesReturn_Id_Succcess({Status:false}));// modify Custom Api Action call\n}useEffect(function(){return table_ArrowUseEffect(\"#table_Arrow\");},[viewData_redux]);function QuantityHandler(event,row){var input=event.target.value;var v1=Number(row.Quantity);var v2=Number(input);if(!(v1>=v2)){event.target.value=v1;}row.ApprovedQuantity=input;}var pagesListColumns=[{text:\"Item Name\",dataField:\"ItemName\",formatter:function formatter(value,row,k){return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{children:\"\".concat(row.ItemName)})});}},{text:\"Dist Name (Retailer Name)\",dataField:\"primarySource\",style:{width:\"200px\"},formatter:function formatter(value,row,k){return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{children:\"\".concat(row.primarySource)})});}},{text:\"Quantity\",dataField:\"Quantity\",formatter:function formatter(value,row,k){return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{children:\"\".concat(Number(row.Quantity).toFixed(0),\" \").concat(row.UnitName)})});}},{text:\"Basic Rate\",dataField:\"Rate\"},{text:\"Batch\",dataField:\"ItemName\",formatter:function formatter(cellContent,index){return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{style:{width:\"120px\"},children:\"\".concat(index.BatchCode)}),/*#__PURE__*/_jsx(\"div\",{style:{width:\"120px\"},children:\"\".concat(date_dmy_func(index.BatchDate))})]});}},{text:\"NOC\",dataField:\"ItemReason\"},{text:\"Approve Quantity\",dataField:\"Quantity\",hidden:tableArray.viewMode===url.PURCHASE_RETURN_LIST?true:false,formatter:function formatter(value,row,k){if(tableArray.viewMode===url.PURCHASE_RETURN_LIST){return/*#__PURE__*/_jsx(\"div\",{style:{width:\"120px\"},children:\"\".concat(Number(row.Quantity).toFixed(0),\" \").concat(row.UnitName)});}else{var defaultQuantity=tableArray.IsApproved?row.ApprovedQuantity:row.Quantity;return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(CInput,{defaultValue:Number(defaultQuantity),autoComplete:\"off\",type:\"text\",disabled:tableArray.IsApproved,cpattern:onlyNumberRegx,className:\"col col-sm text-end\",onChange:function onChange(event){QuantityHandler(event,row);}})});}}},{text:\"Comment\",dataField:\"\",hidden:tableArray.viewMode===url.PURCHASE_RETURN_LIST?true:false,formatter:function formatter(value,row,k){return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Input,{id:\"ApproveComment-\".concat(k),defaultValue:row.ApproveComment,autoComplete:\"off\",placeholder:\"Enter Comment\",onChange:function onChange(e){row[\"ApproveComment\"]=e.target.value;}},\"ApproveComment-\".concat(k))});}}];var SaveHandler=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(event){var btnId,tableItemArray,inValideUnits,jsonBody;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:btnId=event.target.id;try{tableItemArray=[];inValideUnits=[];tableArray.ReturnItems.forEach(function(index){var approvedQty=index.ApprovedQuantity?index.ApprovedQuantity:index.Quantity;var Comment=index.ApproveComment?index.ApproveComment:null;if(index.ApprovedQuantity===\"\"){inValideUnits.push(_defineProperty({},\"\".concat(index.ItemName),\"Please Enter Approve Quantity\"));}else if(Number(approvedQty)>0){var ReturnItems={\"id\":index.id,\"Item\":index.Item,\"Unit\":1,\"ApprovedQuantity\":approvedQty,\"ApproveComment\":Comment,\"Approvedby\":loginUserID(),\"ItemComment\":index.ItemComment,\"Quantity\":index.Quantity,\"BaseUnitQuantity\":index.BaseUnitQuantity,\"MRPValue\":index.MRPValue,\"Rate\":index.Rate,\"BasicAmount\":index.BasicAmount,\"TaxType\":index.TaxType,\"GSTPercentage\":index.GSTPercentage,\"GSTAmount\":index.GSTAmount,\"Amount\":index.Amount,\"CGST\":index.CGST,\"SGST\":index.SGST,\"IGST\":index.IGST,\"CGSTPercentage\":index.CGSTPercentage,\"SGSTPercentage\":index.SGSTPercentage,\"IGSTPercentage\":index.IGSTPercentage,\"BatchDate\":index.BatchDate,\"BatchCode\":index.BatchCode,\"CreatedOn\":index.CreatedOn,\"GST\":index.GST,\"ItemName\":index.ItemName,\"MRP\":index.MRP,\"PurchaseReturn\":index.PurchaseReturn,\"UnitName\":index.UnitName,\"ItemReason\":index.ItemReasonID,\"Comment\":index.Comment,\"primarySourceID\":index.primarySourceID,\"ApprovedByCompany\":null,\"FinalApprovalDate\":null};var allowedRoles=ReturnFinalApprovalRole.split(\",\").map(function(role){return parseInt(role.trim());});if(allowedRoles.includes(loginRoleID())){ReturnItems.ApprovedByCompany=Number(approvedQty).toFixed(2);ReturnItems.FinalApprovalDate=date_ymd_func();}tableItemArray.push(ReturnItems);}});jsonBody=JSON.stringify({\"ReturnID\":viewData_redux.Data[0].ReturnID,\"UserID\":loginUserID(),\"ReturnItem\":tableItemArray});if(inValideUnits.length>0){customAlert({Type:3,Message:inValideUnits});}else{dispatch(returnApprove({jsonBody:jsonBody,btnId:btnId}));}}catch(e){}case 2:case\"end\":return _context.stop();}}},_callee);}));return function SaveHandler(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsx(Modal,{isOpen:modal_view,toggle:modalToggleFunc,size:\"xl\",children:/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsx(CardBody,{className:\"c_card_body\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-body\",children:[tableArray.viewMode===url.PURCHASE_RETURN_LIST?/*#__PURE__*/_jsx(\"h2\",{className:\"text-center\",children:\"Purchase Return Items\"}):/*#__PURE__*/_jsx(\"h2\",{className:\"text-center\",children:\"Sales Return Items\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-n1\",children:[/*#__PURE__*/_jsx(ToolkitProvider,{keyField:\"id\",data:tableArray.ReturnItems,columns:pagesListColumns,search:true,children:function children(toolkitProps){return/*#__PURE__*/_jsx(React.Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"table\",children:[/*#__PURE__*/_jsx(BootstrapTable,_objectSpread({keyField:\"id\",id:\"table_Arrow\",noDataIndication:/*#__PURE__*/_jsx(\"div\",{className:\"text-danger text-center \",children:\"Record Not available\"}),classes:\"table  table-bordered table-hover\",headerWrapperClasses:\"thead-light\",onDataSizeChange:function onDataSizeChange(e){tableInputArrowUpDounFunc(\"#table_Arrow\");}},toolkitProps.baseProps)),mySearchProps(toolkitProps.searchProps)]})});}},\"RetrunItem\"),!(tableArray.viewMode===url.PURCHASE_RETURN_LIST)&&!tableArray.IsApproved&&/*#__PURE__*/_jsx(FormGroup,{children:/*#__PURE__*/_jsx(\"div\",{children:saveBtnloading?/*#__PURE__*/_jsxs(\"button\",{title:\"Save\",className:\"btn btn-primary w-md\",autoFocus:false,children:[\"  Saving.. \\xA0\",/*#__PURE__*/_jsx(Spinner,{style:{height:\"13px\",width:\"13px\"},color:\"white\"})]}):/*#__PURE__*/_jsxs(\"button\",{type:\"submit\",autoFocus:false,title:\"Save \",className:\"btn btn-primary w-md\",onClick:SaveHandler,children:[\" \",/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-save me-2\"}),\" Save\"]})})})]})]})})})});};export default ViewDetails_Modal;","map":{"version":3,"names":["BootstrapTable","ToolkitProvider","Card","CardBody","FormGroup","Input","Modal","Spinner","mySearchProps","React","useEffect","useDispatch","useSelector","CommonConsole","date_dmy_func","date_ymd_func","loginRoleID","loginSystemSetting","loginUserID","tableInputArrowUpDounFunc","confirm_SalesReturn_Id_Succcess","returnApprove","returnApprove_Success","useState","customAlert","url","table_ArrowUseEffect","CInput","onlyNumberRegx","ViewDetails_Modal","dispatch","ReturnFinalApprovalRole","modal_view","setModal_view","tableArray","setTableArray","state","viewData_redux","SalesReturnReducer","confirmBtnData","ApprovrMsg","saveBtnloading","Status","Data","length","error","StatusCode","Type","Message","Object","keys","ReturnItems","sort","a","b","ItemName","localeCompare","modalToggleFunc","QuantityHandler","event","row","input","target","value","v1","Number","Quantity","v2","ApprovedQuantity","pagesListColumns","text","dataField","formatter","k","style","width","primarySource","toFixed","UnitName","cellContent","index","BatchCode","BatchDate","hidden","viewMode","PURCHASE_RETURN_LIST","defaultQuantity","IsApproved","ApproveComment","e","SaveHandler","btnId","id","tableItemArray","inValideUnits","forEach","approvedQty","Comment","push","Item","ItemComment","BaseUnitQuantity","MRPValue","Rate","BasicAmount","TaxType","GSTPercentage","GSTAmount","Amount","CGST","SGST","IGST","CGSTPercentage","SGSTPercentage","IGSTPercentage","CreatedOn","GST","MRP","PurchaseReturn","ItemReasonID","primarySourceID","allowedRoles","split","map","role","parseInt","trim","includes","ApprovedByCompany","FinalApprovalDate","jsonBody","JSON","stringify","ReturnID","toolkitProps","baseProps","searchProps","height"],"sources":["D:/Rohit/Git projects/Manthan/src/pages/Sale/SalesReturn/SalesReturnConfirm.js"],"sourcesContent":["import BootstrapTable from \"react-bootstrap-table-next\";\r\nimport ToolkitProvider from \"react-bootstrap-table2-toolkit\";\r\nimport { Card, CardBody, FormGroup, Input, Modal, Spinner, } from \"reactstrap\";\r\nimport { mySearchProps } from \"../../../components/Common/SearchBox/MySearch\";\r\nimport React, { useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { CommonConsole, date_dmy_func, date_ymd_func, loginRoleID, loginSystemSetting, loginUserID, tableInputArrowUpDounFunc } from \"../../../components/Common/CommonFunction\";\r\nimport { confirm_SalesReturn_Id_Succcess, returnApprove, returnApprove_Success } from \"../../../store/actions\";\r\nimport { useState } from \"react\";\r\nimport { customAlert } from \"../../../CustomAlert/ConfirmDialog\";\r\nimport { url } from \"../../../routes\";\r\nimport { table_ArrowUseEffect } from \"../../../components/Common/CommonUseEffect\";\r\nimport { CInput, onlyNumberRegx } from \"../../../CustomValidateForm\";\r\n\r\nconst ViewDetails_Modal = () => {\r\n\r\n    const dispatch = useDispatch();\r\n    const { ReturnFinalApprovalRole = '' } = loginSystemSetting()\r\n\r\n    const [modal_view, setModal_view] = useState(false);\r\n    const [tableArray, setTableArray] = useState({});\r\n\r\n    const { viewData_redux = [], ApprovrMsg, saveBtnloading } = useSelector((state) => ({\r\n        viewData_redux: state.SalesReturnReducer.confirmBtnData, // modify Redux State\r\n        ApprovrMsg: state.SalesReturnReducer.ApprovrMsg,// modify Redux State\r\n        saveBtnloading: state.SalesReturnReducer.saveBtnloading // modify Redux State\r\n    }))\r\n\r\n    useEffect(() => {\r\n\r\n        try {\r\n            if ((viewData_redux.Status === true)) {\r\n                if (viewData_redux.Data.length > 0) {\r\n                    setTableArray(viewData_redux.Data[0])// modify Custom Table Data\r\n                    setModal_view(true);\r\n                }\r\n\r\n            }\r\n        } catch (error) { CommonConsole(error) }\r\n    }, [viewData_redux]);\r\n\r\n    useEffect(() => {\r\n\r\n        if ((ApprovrMsg.Status === true) && (ApprovrMsg.StatusCode === 200)) {\r\n            dispatch(confirm_SalesReturn_Id_Succcess({ Status: false }))\r\n            dispatch(returnApprove_Success({ Status: false }))\r\n            customAlert({\r\n                Type: 1,\r\n                Message: ApprovrMsg.Message,\r\n            })\r\n            setModal_view(false);\r\n\r\n        }\r\n    }, [ApprovrMsg])\r\n    if (Object.keys(tableArray).length > 0) {\r\n        tableArray.ReturnItems.sort((a, b) => {   //Sort With Same Item Name  \r\n            if (a.ItemName === b.ItemName) {\r\n                return 0;\r\n            }\r\n            return b.ItemName.localeCompare(a.ItemName);\r\n        });\r\n    }\r\n\r\n    function modalToggleFunc() {\r\n        setModal_view(false);\r\n        dispatch(confirm_SalesReturn_Id_Succcess({ Status: false }))// modify Custom Api Action call\r\n    }\r\n\r\n    useEffect(() => table_ArrowUseEffect(\"#table_Arrow\"), [viewData_redux]);\r\n\r\n    function QuantityHandler(event, row,) {\r\n\r\n        let input = event.target.value\r\n\r\n        let v1 = Number(row.Quantity);\r\n        let v2 = Number(input)\r\n        if (!(v1 >= v2)) {\r\n            event.target.value = v1;\r\n        }\r\n        row.ApprovedQuantity = input;\r\n    }\r\n\r\n    const pagesListColumns = [\r\n        {\r\n            text: \"Item Name\",\r\n            dataField: \"ItemName\",\r\n            formatter: (value, row, k) => (\r\n                <>\r\n                    <div >{`${(row.ItemName)}`}</div>\r\n                </>\r\n            )\r\n\r\n\r\n        },\r\n\r\n        {\r\n            text: \"Dist Name (Retailer Name)\",\r\n            dataField: \"primarySource\",\r\n            style: { width: \"200px\" },\r\n            formatter: (value, row, k) => (\r\n                <>\r\n                    <div  >{`${row.primarySource}`}</div>\r\n                </>\r\n            )\r\n\r\n\r\n        },\r\n\r\n\r\n        {\r\n            text: \"Quantity\",\r\n            dataField: \"Quantity\",\r\n            formatter: (value, row, k) => (\r\n                <>\r\n                    <div>{`${Number(row.Quantity).toFixed(0)} ${row.UnitName}`}</div>\r\n                </>\r\n            )\r\n        },\r\n        {\r\n            text: \"Basic Rate\",\r\n            dataField: \"Rate\",\r\n        },\r\n        {\r\n            text: \"Batch\",\r\n            dataField: \"ItemName\",\r\n            formatter: (cellContent, index) => (\r\n                <>\r\n                    <div style={{ width: \"120px\" }}>{`${index.BatchCode}`}</div>\r\n                    <div style={{ width: \"120px\" }}>{`${date_dmy_func(index.BatchDate)}`}</div>\r\n                </>\r\n            )\r\n        },\r\n        {\r\n            text: \"NOC\",\r\n            dataField: \"ItemReason\",\r\n        },\r\n\r\n        {\r\n            text: \"Approve Quantity\",\r\n            dataField: \"Quantity\",\r\n            hidden: tableArray.viewMode === url.PURCHASE_RETURN_LIST ? true : false,\r\n            formatter: (value, row, k,) => {\r\n                if (tableArray.viewMode === url.PURCHASE_RETURN_LIST) {\r\n\r\n                    return <div style={{ width: \"120px\" }}>{`${Number(row.Quantity).toFixed(0)} ${row.UnitName}`}</div>\r\n                } else {\r\n\r\n                    let defaultQuantity = tableArray.IsApproved ? row.ApprovedQuantity : row.Quantity;\r\n                    return (\r\n                        <div>\r\n                            <CInput\r\n                                defaultValue={Number(defaultQuantity)}\r\n                                autoComplete=\"off\"\r\n                                type=\"text\"\r\n                                disabled={tableArray.IsApproved}\r\n                                cpattern={onlyNumberRegx}\r\n                                className=\"col col-sm text-end\"\r\n                                onChange={(event) => {\r\n                                    QuantityHandler(event, row)\r\n                                }}\r\n                            />\r\n                        </div>\r\n                    )\r\n                }\r\n            },\r\n        },\r\n        {\r\n            text: \"Comment\",\r\n            dataField: \"\",\r\n            hidden: tableArray.viewMode === url.PURCHASE_RETURN_LIST ? true : false,\r\n            formatter: (value, row, k) => {\r\n                return (\r\n                    <div>\r\n                        <Input\r\n                            key={`ApproveComment-${k}`}\r\n                            id={`ApproveComment-${k}`}\r\n                            defaultValue={row.ApproveComment}\r\n                            autoComplete=\"off\"\r\n                            placeholder=\"Enter Comment\"\r\n                            onChange={(e) => {\r\n                                row[\"ApproveComment\"] = e.target.value\r\n                            }}\r\n                        />\r\n                    </div>\r\n                )\r\n            },\r\n        },\r\n    ];\r\n\r\n    const SaveHandler = async (event) => {\r\n\r\n        const btnId = event.target.id\r\n        try {\r\n            const tableItemArray = []\r\n            let inValideUnits = []\r\n            tableArray.ReturnItems.forEach(index => {\r\n\r\n                const approvedQty = index.ApprovedQuantity ? index.ApprovedQuantity : index.Quantity\r\n                const Comment = index.ApproveComment ? index.ApproveComment : null\r\n\r\n                if (index.ApprovedQuantity === \"\") {\r\n                    inValideUnits.push({ [`${index.ItemName}`]: `Please Enter Approve Quantity` })\r\n                } else if (Number(approvedQty) > 0) {\r\n                    const ReturnItems = {\r\n                        \"id\": index.id,\r\n                        \"Item\": index.Item,\r\n                        \"Unit\": 1,\r\n                        \"ApprovedQuantity\": approvedQty,\r\n                        \"ApproveComment\": Comment,\r\n                        \"Approvedby\": loginUserID(),\r\n                        \"ItemComment\": index.ItemComment,\r\n                        \"Quantity\": index.Quantity,\r\n                        \"BaseUnitQuantity\": index.BaseUnitQuantity,\r\n                        \"MRPValue\": index.MRPValue,\r\n                        \"Rate\": index.Rate,\r\n                        \"BasicAmount\": index.BasicAmount,\r\n                        \"TaxType\": index.TaxType,\r\n                        \"GSTPercentage\": index.GSTPercentage,\r\n                        \"GSTAmount\": index.GSTAmount,\r\n                        \"Amount\": index.Amount,\r\n                        \"CGST\": index.CGST,\r\n                        \"SGST\": index.SGST,\r\n                        \"IGST\": index.IGST,\r\n                        \"CGSTPercentage\": index.CGSTPercentage,\r\n                        \"SGSTPercentage\": index.SGSTPercentage,\r\n                        \"IGSTPercentage\": index.IGSTPercentage,\r\n                        \"BatchDate\": index.BatchDate,\r\n                        \"BatchCode\": index.BatchCode,\r\n                        \"CreatedOn\": index.CreatedOn,\r\n                        \"GST\": index.GST,\r\n                        \"ItemName\": index.ItemName,\r\n                        \"MRP\": index.MRP,\r\n                        \"PurchaseReturn\": index.PurchaseReturn,\r\n                        \"UnitName\": index.UnitName,\r\n                        \"ItemReason\": index.ItemReasonID,\r\n                        \"Comment\": index.Comment,\r\n                        \"primarySourceID\": index.primarySourceID,\r\n                        \"ApprovedByCompany\": null,\r\n                        \"FinalApprovalDate\": null\r\n                    }\r\n\r\n                    const allowedRoles = ReturnFinalApprovalRole.split(\",\").map(role => parseInt(role.trim()));\r\n\r\n                    if (allowedRoles.includes(loginRoleID())) {\r\n                        ReturnItems.ApprovedByCompany = Number(approvedQty).toFixed(2);\r\n                        ReturnItems.FinalApprovalDate = date_ymd_func();\r\n                    }\r\n                    tableItemArray.push(ReturnItems)\r\n                }\r\n            })\r\n\r\n            const jsonBody = JSON.stringify({\r\n                \"ReturnID\": viewData_redux.Data[0].ReturnID,\r\n                \"UserID\": loginUserID(),\r\n                \"ReturnItem\": tableItemArray\r\n            });\r\n\r\n            if (inValideUnits.length > 0) {\r\n                customAlert({\r\n                    Type: 3,\r\n                    Message: inValideUnits\r\n                })\r\n\r\n            } else {\r\n                dispatch(returnApprove({ jsonBody, btnId }));\r\n            }\r\n\r\n        } catch (e) { }\r\n    };\r\n\r\n    return (\r\n        <Modal\r\n            isOpen={modal_view}\r\n            toggle={modalToggleFunc}\r\n            size=\"xl\"\r\n        >\r\n            <Card>\r\n                <CardBody className=\"c_card_body\">\r\n                    <div className=\"modal-body\">\r\n                        {tableArray.viewMode === url.PURCHASE_RETURN_LIST ?\r\n                            <h2 className=\"text-center\">Purchase Return Items</h2> :\r\n                            <h2 className=\"text-center\">Sales Return Items</h2>}\r\n                        <div className=\"mt-n1\">\r\n                            <ToolkitProvider\r\n                                keyField=\"id\"\r\n                                key=\"RetrunItem\"\r\n                                data={tableArray.ReturnItems}\r\n                                columns={pagesListColumns}\r\n                                search\r\n                            >\r\n                                {toolkitProps => (\r\n                                    <React.Fragment>\r\n                                        <div className=\"table\">\r\n                                            <BootstrapTable\r\n                                                keyField={\"id\"}\r\n                                                id=\"table_Arrow\"\r\n                                                noDataIndication={<div className=\"text-danger text-center \">Record Not available</div>}\r\n                                                classes={\"table  table-bordered table-hover\"}\r\n                                                headerWrapperClasses={\"thead-light\"}\r\n                                                onDataSizeChange={(e) => {\r\n                                                    tableInputArrowUpDounFunc(\"#table_Arrow\")\r\n                                                }}\r\n                                                {...toolkitProps.baseProps}\r\n\r\n                                            />\r\n                                            {mySearchProps(toolkitProps.searchProps)}\r\n                                        </div>\r\n\r\n                                    </React.Fragment>\r\n                                )\r\n                                }\r\n                            </ToolkitProvider>\r\n                            {(!(tableArray.viewMode === url.PURCHASE_RETURN_LIST) && !tableArray.IsApproved) &&\r\n                                <FormGroup>\r\n                                    <div>\r\n\r\n                                        {saveBtnloading ? <button\r\n                                            title={`Save`}\r\n                                            className=\"btn btn-primary w-md\"\r\n                                            autoFocus={false}\r\n                                        >  Saving.. &nbsp;\r\n                                            <Spinner style={{ height: \"13px\", width: \"13px\" }} color=\"white\" />\r\n                                        </button>\r\n                                            :\r\n                                            <button\r\n                                                type=\"submit\"\r\n                                                autoFocus={false}\r\n                                                title={`Save `}\r\n                                                className=\"btn btn-primary w-md\"\r\n                                                onClick={SaveHandler}\r\n                                            > <i className=\"fas fa-save me-2\"></i> Save\r\n                                            </button>}\r\n                                    </div>\r\n                                </FormGroup >}\r\n\r\n                        </div>\r\n                    </div>\r\n                </CardBody>\r\n            </Card>\r\n        </Modal>\r\n    )\r\n\r\n}\r\nexport default ViewDetails_Modal;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}