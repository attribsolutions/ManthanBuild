{"ast":null,"code":"import _toConsumableArray from\"D:/Rohit/Git projects/Manthan/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _regeneratorRuntime from\"D:/Rohit/Git projects/Manthan/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"D:/Rohit/Git projects/Manthan/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _objectSpread from\"D:/Rohit/Git projects/Manthan/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"D:/Rohit/Git projects/Manthan/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import{Col,FormGroup,Label,Input,Row,Button}from\"reactstrap\";import{MetaTags}from\"react-meta-tags\";import Flatpickr from\"react-flatpickr\";import{Breadcrumb_inputName,commonPageFieldSuccess,getItemList}from\"../../../../store/actions\";import{useDispatch,useSelector}from\"react-redux\";import{AlertState,commonPageField}from\"../../../../store/actions\";import{useHistory}from\"react-router-dom\";import{comAddPageFieldFunc,formValid,initialFiledFunc,onChangeDate,onChangeSelect,onChangeText,resetFunction}from\"../../../../components/Common/validationFunction\";import Select from\"react-select\";import{Change_Button,Go_Button,SaveButton}from\"../../../../components/Common/CommonButton\";import{breadcrumbReturnFunc,loginPartyID,currentDate,btnIsDissablefunc,loginUserID,loginCompanyID,convertDatefunc,invertDatefunc}from\"../../../../components/Common/CommonFunction\";import*as pageId from\"../../../../routes//allPageID\";import*as url from\"../../../../routes/route_url\";import*as mode from\"../../../../routes/PageMode\";import{GetVender,Retailer_List}from\"../../../../store/CommonAPI/SupplierRedux/actions\";import{CustomAlert}from\"../../../../CustomAlert/ConfirmDialog\";import{postSelect_Field_for_dropdown}from\"../../../../store/Administrator/PartyMasterBulkUpdateRedux/actions\";import{saveSalesReturnMaster,InvoiceNumber,InvoiceNumberSuccess,saveSalesReturnMaster_Success}from\"../../../../store/Sales/SalesReturnRedux/action\";import CustomTable2 from\"../../../../CustomTable2/Table\";import\"./salesReturn.scss\";import CInput from\"../../../../CustomValidateForm/CInput\";import{decimalRegx,floatRegx}from\"../../../../CustomValidateForm/RegexPattern\";import{getpartyItemList}from\"../../../../store/Administrator/PartyItemsRedux/action\";import{SalesReturn_add_button_api,SalesReturn_add_button_api_For_Invoice,SalesReturn_add_button_api_For_Item}from\"../../../../helpers/backend_helper\";import{salesReturnCalculate}from\"./SalesCalculation\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var SalesReturn=function SalesReturn(props){var dispatch=useDispatch();var history=useHistory();var _useState=useState(mode.defaultsave),_useState2=_slicedToArray(_useState,2),pageMode=_useState2[0],setPageMode=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),userPageAccessState=_useState4[0],setUserAccState=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),editCreatedBy=_useState6[0],seteditCreatedBy=_useState6[1];var fileds={ReturnDate:currentDate,Customer:\"\",ItemName:\"\",InvoiceNumber:\"\",ReturnReason:\"\",Comment:\"\"};var _useState7=useState(initialFiledFunc(fileds)),_useState8=_slicedToArray(_useState7,2),state=_useState8[0],setState=_useState8[1];var _useState9=useState([]),_useState10=_slicedToArray(_useState9,2),TableArr=_useState10[0],setTableArr=_useState10[1];var _useState11=useState(0),_useState12=_slicedToArray(_useState11,2),returnMode=_useState12[0],setrRturnMode=_useState12[1];var _useState13=useState([]),_useState14=_slicedToArray(_useState13,2),imageTable=_useState14[0],setImageTable=_useState14[1];console.log(returnMode);//Access redux store Data /  'save_ModuleSuccess' action data\nvar _useSelector=useSelector(function(state){return{postMsg:state.SalesReturnReducer.postMsg,RetailerList:state.CommonAPI_Reducer.RetailerList,ItemList:state.PartyItemsReducer.partyItem,ReturnReasonList:state.PartyMasterBulkUpdateReducer.SelectField,InvoiceNo:state.SalesReturnReducer.InvoiceNo,userAccess:state.Login.RoleAccessUpdateData,pageField:state.CommonPageFieldReducer.pageField};}),postMsg=_useSelector.postMsg,RetailerList=_useSelector.RetailerList,ItemList=_useSelector.ItemList,ReturnReasonList=_useSelector.ReturnReasonList,InvoiceNo=_useSelector.InvoiceNo,pageField=_useSelector.pageField,userAccess=_useSelector.userAccess;useEffect(function(){dispatch(InvoiceNumberSuccess([]));var page_Id=pageId.SALES_RETURN;dispatch(commonPageFieldSuccess(null));dispatch(commonPageField(page_Id));dispatch(getpartyItemList(loginPartyID()));},[]);useEffect(function(){var jsonBody=JSON.stringify({Type:1,PartyID:loginPartyID(),CompanyID:loginCompanyID()});dispatch(Retailer_List(jsonBody));},[]);useEffect(function(){if(TableArr.length===0){setrRturnMode(0);}},[TableArr]);var location=_objectSpread({},history.location);// const hasShowloction = location.hasOwnProperty(mode.editValue)\nvar hasShowModal=props.hasOwnProperty(mode.editValue);var values=_objectSpread({},state.values);var isError=state.isError;var fieldLabel=state.fieldLabel;// userAccess useEffect\nuseEffect(function(){var userAcc=null;var locationPath=location.pathname;if(hasShowModal){locationPath=props.masterPath;};userAcc=userAccess.find(function(inx){return\"/\".concat(inx.ActualPagePath)===locationPath;});if(userAcc){setUserAccState(userAcc);breadcrumbReturnFunc({dispatch:dispatch,userAcc:userAcc});};},[userAccess]);// Return Reason dropdown Values\nuseEffect(function(){var jsonBody=JSON.stringify({Company:loginCompanyID(),TypeID:8});dispatch(postSelect_Field_for_dropdown(jsonBody));},[]);useEffect(function(){if(pageField){var fieldArr=pageField.PageFieldMaster;comAddPageFieldFunc({state:state,setState:setState,fieldArr:fieldArr});}},[pageField]);useEffect(function(){if(postMsg.Status===true&&postMsg.StatusCode===200){dispatch(saveSalesReturnMaster_Success({Status:false}));setTableArr([]);setState(function(){return resetFunction(fileds,state);});// Clear form values  \ndispatch(Breadcrumb_inputName(''));if(pageMode===mode.dropdownAdd){dispatch(AlertState({Type:1,Status:true,Message:postMsg.Message}));}else{dispatch(AlertState({Type:1,Status:true,Message:postMsg.Message,RedirectPath:url.SALES_RETURN_LIST}));}}else if(postMsg.Status===true){dispatch(saveSalesReturnMaster_Success({Status:false}));dispatch(AlertState({Type:4,Status:true,Message:JSON.stringify(postMessage.Message),RedirectPath:false,AfterResponseAction:false}));}},[postMsg]);function ReturnDate_Onchange(e,date){setState(function(i){var a=_objectSpread({},i);a.values.ReturnDate=date;a.hasValid.ReturnDate.valid=true;return a;});}var customerOptions=RetailerList.map(function(index){return{value:index.id,label:index.Name};});var itemList=ItemList.map(function(index){return{value:index.Item,label:index.ItemName,itemCheck:index.selectCheck};});var ItemList_Options=itemList.filter(function(index){return index.itemCheck===true;});var ReturnReasonOptions=ReturnReasonList.map(function(index){return{value:index.id,label:index.Name};});var InvoiceNo_Options=InvoiceNo.map(function(index){return{value:index.Invoice,label:index.FullInvoiceNumber};});function deleteButtonAction(row){var newArr=TableArr.filter(function(index){return!(index.id===row.id);});setTableArr(newArr);}function quantityHandler(event,row){row[\"Qty\"]=event.target.value;var input=event.target.value;if(returnMode===1){var v1=Number(row.Quantity);var v2=Number(input);if(!(v1>=v2)){event.target.value=v1;}}row.Qty=event.target.value;}var pagesListColumns=[{text:\"Item Name\",dataField:\"\",formatter:function formatter(cellContent,row,key){return/*#__PURE__*/_jsx(Label,{children:row.ItemName.label});}},,{text:\"Invoice Qty\",dataField:\"\",hidden:returnMode===2&&true,formatter:function formatter(cellContent,row,key){return/*#__PURE__*/_jsx(Label,{children:row.Quantity});}},{text:\"Quantity\",dataField:\"\",classes:function classes(){return\"sales-return-row\";},formatter:function formatter(cellContent,row,key){return/*#__PURE__*/_jsx(\"span\",{style:{justifyContent:'center',width:\"100px\"},children:/*#__PURE__*/_jsx(CInput,{id:\"Qty\".concat(key),defaultValue:row.Qty,autoComplete:\"off\",type:\"text\",pattern:decimalRegx,className:\"col col-sm text-end\",onChange:function onChange(event){return quantityHandler(event,row);}},\"Qty\".concat(row.id))});}},{text:\"Unit\",dataField:\"\",classes:function classes(){return\"sales-return-row\";},formatter:function formatter(cellContent,row,key,a,b){return/*#__PURE__*/_jsx(\"span\",{style:{justifyContent:'center',width:\"100px\"},children:/*#__PURE__*/_jsx(Select,{id:\"Unit\".concat(key),name:\"Unit\",defaultValue:returnMode===1&&{value:row.RowData.Unit,label:row.RowData.UnitName},isSearchable:true,isDisabled:returnMode===1&&true,className:\"react-dropdown\",classNamePrefix:\"dropdown\",options:row.ItemUnitDetails,onChange:function onChange(event){row.Unit=event.value;row.BaseUnitQuantity=event.BaseUnitQuantity;}})});}},{text:\"MRP\",dataField:\"\",classes:function classes(){return\"sales-return-row\";},formatter:function formatter(cellContent,row,key){return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"span\",{style:{justifyContent:'center',width:\"100px\"},children:/*#__PURE__*/_jsx(Select,{id:\"MRP\".concat(key),name:\"MRP\",defaultValue:returnMode===1&&{value:row.RowData.MRP,label:row.RowData.MRPValue},isSearchable:true,isDisabled:returnMode===1&&true,className:\"react-dropdown\",classNamePrefix:\"dropdown\",options:row.ItemMRPDetails,onChange:function onChange(event){row.MRP=event.value;}})})});}},{text:\"GST\",dataField:\"\",classes:function classes(){return\"sales-return-row\";},formatter:function formatter(cellContent,row,key){return/*#__PURE__*/_jsx(\"span\",{style:{justifyContent:'center',width:\"100px\"},children:/*#__PURE__*/_jsx(Select,{id:\"GST\".concat(key),name:\"GST\",defaultValue:returnMode===1&&{value:row.RowData.GST,label:row.RowData.GSTPercentage},isSearchable:true,isDisabled:returnMode===1&&true,className:\"react-dropdown\",classNamePrefix:\"dropdown\",options:row.ItemGSTHSNDetails,onChange:function onChange(event){row.GST_ID=event.value;row.GST=event.label;}})});}},{text:\"Rate\",dataField:\"\",classes:function classes(){return\"sales-return-row\";},formatter:function formatter(cellContent,row,key){return/*#__PURE__*/_jsx(\"span\",{style:{justifyContent:'center',width:\"100px\"},children:/*#__PURE__*/_jsx(CInput,{id:\"\",defaultValue:row.Rate,disabled:returnMode===1&&true,type:\"text\",pattern:/^-?([0-9]*\\.?[0-9]+|[0-9]+\\.?[0-9]*)$/,className:\"col col-sm text-end\",onChange:function onChange(event){row.Rate=event.target.value;}},row.id)});}},{text:\"BatchCode\",dataField:\"\",classes:function classes(){return\"sales-return-row\";},formatter:function formatter(cellContent,row,key){return/*#__PURE__*/_jsx(\"span\",{style:{justifyContent:'center',width:\"100px\"},children:/*#__PURE__*/_jsx(Input,{id:\"\",defaultValue:row.RowData.BatchCode,disabled:returnMode===1&&true,type:\"text\",className:\"col col-sm text-center\",onChange:function onChange(event){row.BatchCode=event.target.value;}},row.id)});}},{text:\"BatchDate\",dataField:\"\",classes:function classes(){return\"sales-return-row\";},formatter:function formatter(cellContent,row,key){return/*#__PURE__*/_jsx(\"span\",{style:{justifyContent:'center',width:\"100px\"},children:/*#__PURE__*/_jsx(Flatpickr,{name:\"ReturnDate\",defaultValue:returnMode===1?invertDatefunc(row.RowData.BatchDate):currentDate,disabled:returnMode===1?true:false,className:\"form-control d-block p-2 bg-white text-dark\",placeholder:\"Select...\",options:{altInput:true,altFormat:\"d-m-Y\",dateFormat:\"Y-m-d\"},onChange:function onChange(event){row.BatchDate=invertDatefunc(event);}})});}},{text:\"Item Comment\",dataField:\"\",classes:function classes(){return\"sales-return-row\";},formatter:function formatter(cellContent,row,key){return/*#__PURE__*/_jsx(\"span\",{style:{justifyContent:'center',width:\"100px\"},children:/*#__PURE__*/_jsx(Input,{id:\"\",defaultChecked:row.ItemComment,type:\"text\",className:\"col col-sm text-center\",onChange:function onChange(event){row.ItemComment=event.target.value;}},row.id)});}},{text:\"Image\",dataField:\"\",classes:function classes(){return\"sales-return-Image-row\";},formatter:function formatter(cellContent,row,key){return/*#__PURE__*/_jsx(\"span\",{style:{justifyContent:'center',width:\"100px\"},children:/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"btn-group btn-group-example mb-3\",role:\"group\",children:[/*#__PURE__*/_jsx(Input,{type:\"file\",className:\"form-control \"// value={FileName}\n,name:\"image\",id:\"file\",accept:\".jpg, .jpeg, .png ,.pdf\",onChange:function onChange(event){onchangeHandler(event,row);}}),/*#__PURE__*/_jsx(\"button\",{name:\"image\",accept:\".jpg, .jpeg, .png ,.pdf\",onClick:function onClick(){myFunction(row);},id:\"ImageId\",type:\"button\",className:\"btn btn-primary \",children:\"Show\"})]})})});}},{text:\"Action \",dataField:\"\",hidden:returnMode===1&&true,formatter:function formatter(cellContent,row,key){return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{style:{justifyContent:'center'},children:/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsx(FormGroup,{className:\" col col-sm-4 \",children:/*#__PURE__*/_jsx(Button,{id:\"deleteid\",type:\"button\",className:\"badge badge-soft-danger font-size-12 btn btn-danger waves-effect waves-light w-xxs border border-light\",\"data-mdb-toggle\":\"tooltip\",\"data-mdb-placement\":\"top\",title:\"Delete MRP\",onClick:function onClick(e){deleteButtonAction(row);},children:/*#__PURE__*/_jsx(\"i\",{className:\"mdi mdi-delete font-size-18\"})})})})})});}}];function AddPartyHandler(_x,_x2){return _AddPartyHandler.apply(this,arguments);}function _AddPartyHandler(){_AddPartyHandler=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(e,type){var invalidMsg1,resp,data,itemArr;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:invalidMsg1=[];if(values.ItemName===''&&type==='add'){invalidMsg1.push(\"Select Item Name\");}if(values.InvoiceNumber===''&&values.Customer===''&&type==='Select'){invalidMsg1.push(\"Select Retailer.\");}else if(values.InvoiceNumber===''&&type==='Select'){invalidMsg1.push(\"Select Invoice No.\");}if(!(invalidMsg1.length>0)){_context3.next=6;break;}CustomAlert({Type:4,Message:JSON.stringify(invalidMsg1)});return _context3.abrupt(\"return\");case 6:_context3.prev=6;if(!(returnMode===2)){_context3.next=13;break;}_context3.next=10;return SalesReturn_add_button_api_For_Item(values.ItemName.value);case 10:resp=_context3.sent;_context3.next=16;break;case 13:_context3.next=15;return SalesReturn_add_button_api_For_Invoice(values.InvoiceNumber.value);case 15:resp=_context3.sent;case 16:data=resp.Data.InvoiceItems.map(function(i){return{unitOps:returnMode===1?{label:i.UnitName,value:i.Unit,BaseUnitQuantity:i.BaseUnitQuantity}:i.ItemUnitDetails.map(function(i){return{label:i.UnitName,value:i.Unit,BaseUnitQuantity:i.BaseUnitQuantity};}),MRPOps:i.ItemMRPDetails.map(function(i){return{label:i.MRPValue,value:i.MRP};}),GSTOps:i.ItemGSTDetails.map(function(i){return{label:i.GSTPercentage,value:i.GST};}),ItemName:{label:i.ItemName,value:i.Item},Quantity:i.Quantity,Rate:i.Rate,RowData:i};});itemArr=_toConsumableArray(TableArr);data.forEach(function(i){itemArr.push({id:itemArr.length+1,ItemUnitDetails:i.unitOps,ItemMRPDetails:i.MRPOps,ItemGSTHSNDetails:i.GSTOps,ItemName:i.ItemName,Quantity:i.Quantity,Rate:i.Rate,gstPercentage:i.RowData.GSTPercentage,RowData:i.RowData});});setTableArr(itemArr);setState(function(i){var a=_objectSpread({},i);a.values.ItemName=\"\";a.hasValid.ItemName.valid=true;return a;});_context3.next=25;break;case 23:_context3.prev=23;_context3.t0=_context3[\"catch\"](6);case 25:case\"end\":return _context3.stop();}}},_callee3,null,[[6,23]]);}));return _AddPartyHandler.apply(this,arguments);}function RetailerHandler(event){setState(function(i){var a=_objectSpread({},i);a.values.ItemName=\"\";a.values.InvoiceNumber=\"\";a.hasValid.ItemName.valid=true;a.hasValid.InvoiceNumber.valid=true;return a;});setTableArr([]);var jsonBody=JSON.stringify({PartyID:loginPartyID(),CustomerID:event.value});dispatch(InvoiceNumber(jsonBody));}// image onchange handler\nvar onchangeHandler=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(event,row){var file,base64,ImageUpload;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:file=event.target.files[0];_context.next=3;return convertBase64(file);case 3:base64=_context.sent;ImageUpload=base64;row.Image=ImageUpload;setImageTable(ImageUpload);case 7:case\"end\":return _context.stop();}}},_callee);}));return function onchangeHandler(_x3,_x4){return _ref.apply(this,arguments);};}();// image convert in string\nvar convertBase64=function convertBase64(file){return new Promise(function(resolve,reject){var fileReader=new FileReader();fileReader.readAsDataURL(file);fileReader.onload=function(){resolve(fileReader.result);};fileReader.onerror=function(error){reject(error);};});};function myFunction(row){var x=document.getElementById(\"add-img\");if(x.style.display===\"none\"){x.src=imageTable;if(imageTable!=\"\"){x.style.display=\"block\";}}else{x.style.display=\"none\";}}var SaveHandler=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(event){var btnId,grand_total,ReturnItems,filterData,invalidMsg1,jsonBody;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:event.preventDefault();btnId=event.target.id;grand_total=0;ReturnItems=TableArr.map(function(i){var gstPercentage=returnMode===1?i.gstPercentage:i.GST;var calculate=salesReturnCalculate({Rate:i.Rate,Qty:i.Qty,gstPercentage:gstPercentage});grand_total=grand_total+Number(calculate.tAmount);return{Item:i.ItemName.value,ItemName:i.ItemName.label,Quantity:i.Qty,Unit:returnMode===1?i.RowData.Unit:i.Unit,BaseUnitQuantity:returnMode===1?i.RowData.BaseUnitQuantity:i.BaseUnitQuantity,BatchCode:returnMode===1?i.RowData.BatchCode:i.BatchCode,BatchDate:i.BatchDate,Amount:calculate.tAmount,MRP:returnMode===1?i.RowData.MRP:i.MRP,Rate:i.Rate,BasicAmount:calculate.baseAmt,GSTAmount:calculate.gstAmt,GST:returnMode===1?i.RowData.GST:i.GST_ID,CGST:calculate.CGST,SGST:calculate.SGST,IGST:0,GSTPercentage:gstPercentage,CGSTPercentage:gstPercentage/2,SGSTPercentage:gstPercentage/2,IGSTPercentage:0,TaxType:\"GST\",ReturnItemImages:[]};});filterData=ReturnItems.filter(function(i){return i.Quantity>0;});if(!(filterData.length===0)){_context2.next=8;break;}CustomAlert({Type:4,Message:\" Please Enter One Item Quantity\"});return _context2.abrupt(\"return\",btnIsDissablefunc({btnId:btnId,state:false}));case 8:invalidMsg1=[];ReturnItems.forEach(function(i){if(i.Unit===undefined||i.Unit===null){invalidMsg1.push(\"\".concat(i.ItemName,\" : Unit Is Required\"));}else if(i.MRP===undefined||i.MRP===null){invalidMsg1.push(\"\".concat(i.ItemName,\" : MRP Is Required\"));}else if(i.GST===undefined||i.GST===null){invalidMsg1.push(\"\".concat(i.ItemName,\" : GST Is Required\"));}else if(i.Rate===undefined||i.Rate===null){invalidMsg1.push(\"\".concat(i.ItemName,\" : Rate Is Required\"));}else if(i.BatchCode===undefined||i.BatchCode===null){invalidMsg1.push(\"\".concat(i.ItemName,\" : BatchCode Is Required\"));};});if(!(invalidMsg1.length>0)){_context2.next=13;break;}CustomAlert({Type:4,Message:JSON.stringify(invalidMsg1)});return _context2.abrupt(\"return\",btnIsDissablefunc({btnId:btnId,state:false}));case 13:try{if(formValid(state,setState)){btnIsDissablefunc({btnId:btnId,state:true});jsonBody=JSON.stringify({ReturnDate:values.ReturnDate,ReturnReason:values.ReturnReason.value,Customer:values.Customer.value,Comment:values.Comment,GrandTotal:grand_total,Party:loginPartyID(),RoundOffAmount:(grand_total-Math.trunc(grand_total)).toFixed(2),CreatedBy:loginUserID(),UpdatedBy:loginUserID(),ReturnItems:filterData});// if (pageMode === mode.edit) {\n//     dispatch(updateCategoryTypeID({ jsonBody, updateId: values.id, btnId }));\n// }\n// else {\ndispatch(saveSalesReturnMaster({jsonBody:jsonBody,btnId:btnId}));}// }\n}catch(e){btnIsDissablefunc({btnId:btnId,state:false});}case 14:case\"end\":return _context2.stop();}}},_callee2);}));return function SaveHandler(_x5){return _ref2.apply(this,arguments);};}();if(!(userPageAccessState==='')){return/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsxs(MetaTags,{children:[\" \",/*#__PURE__*/_jsxs(\"title\",{children:[userAccess.PageHeading,\"| FoodERP-React FrontEnd\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"page-content\",style:{marginBottom:\"5cm\"},children:/*#__PURE__*/_jsxs(\"form\",{noValidate:true,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"px-2 c_card_filter header text-black mb-2\",children:[/*#__PURE__*/_jsx(\"img\",{id:\"add-img\",className:\"abc1\",src:'',style:{top:\"400px\"}}),/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{sm:\"6\",children:/*#__PURE__*/_jsxs(FormGroup,{className:\"row mt-2\",children:[/*#__PURE__*/_jsxs(Label,{className:\"col-sm-1 p-2\",style:{width:\"115px\",marginRight:\"0.4cm\"},children:[fieldLabel.ReturnDate,\"  \"]}),/*#__PURE__*/_jsx(Col,{sm:\"7\",children:/*#__PURE__*/_jsx(Flatpickr,{name:\"ReturnDate\",value:values.ReturnDate,className:\"form-control d-block p-2 bg-white text-dark\",placeholder:\"Select...\",options:{altInput:true,altFormat:\"d-m-Y\",dateFormat:\"Y-m-d\"},onChange:ReturnDate_Onchange})})]})}),/*#__PURE__*/_jsx(Col,{sm:\"6\",children:/*#__PURE__*/_jsxs(FormGroup,{className:\" row mt-2 \",children:[/*#__PURE__*/_jsxs(Label,{className:\"col-sm-1 p-2\",style:{width:\"115px\",marginRight:\"0.4cm\"},children:[fieldLabel.Customer,\" \"]}),/*#__PURE__*/_jsxs(Col,{sm:\"7\",children:[/*#__PURE__*/_jsx(Select,{id:\"Customer \",name:\"Customer\"// closeMenuOnSelect={false}\n// menuIsOpen={menuIsOpen}\n,value:values.Customer,isSearchable:true,className:\"react-dropdown\",classNamePrefix:\"dropdown\",options:customerOptions,onChange:function onChange(hasSelect,evn){onChangeSelect({hasSelect:hasSelect,evn:evn,state:state,setState:setState});RetailerHandler(hasSelect);}}),isError.Customer.length>0&&/*#__PURE__*/_jsx(\"span\",{className:\"text-danger f-8\",children:/*#__PURE__*/_jsx(\"small\",{children:isError.Customer})})]})]})})]}),/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{sm:\"6\",children:/*#__PURE__*/_jsxs(FormGroup,{className:\" row mt-2 \",children:[/*#__PURE__*/_jsxs(Label,{className:\"col-sm-1 p-2\",style:{width:\"115px\",marginRight:\"0.4cm\"},children:[fieldLabel.ReturnReason,\" \"]}),/*#__PURE__*/_jsxs(Col,{sm:\"7\",children:[/*#__PURE__*/_jsx(Select,{id:\"ReturnReason \",name:\"ReturnReason\",value:values.ReturnReason,isSearchable:true,className:\"react-dropdown\",classNamePrefix:\"dropdown\",options:ReturnReasonOptions,onChange:function onChange(hasSelect,evn){onChangeSelect({hasSelect:hasSelect,evn:evn,state:state,setState:setState});}}),isError.ReturnReason.length>0&&/*#__PURE__*/_jsx(\"span\",{className:\"text-danger f-8\",children:/*#__PURE__*/_jsx(\"small\",{children:isError.ReturnReason})})]})]})}),/*#__PURE__*/_jsx(Col,{sm:\"6\",children:/*#__PURE__*/_jsxs(FormGroup,{className:\" row mt-2 \",children:[/*#__PURE__*/_jsxs(Label,{className:\"col-sm-1 p-2\",style:{width:\"115px\",marginRight:\"0.4cm\"},children:[fieldLabel.Comment,\" \"]}),/*#__PURE__*/_jsxs(Col,{sm:\"7\",children:[/*#__PURE__*/_jsx(Input,{name:\"Comment\",id:\"Comment\",value:values.Comment,type:\"text\",className:isError.Comment.length>0?\"is-invalid form-control\":\"form-control\",placeholder:\"Please Enter Comment\",autoComplete:\"off\"// autoFocus={true}\n,onChange:function onChange(event){onChangeText({event:event,state:state,setState:setState});}}),isError.Comment.length>0&&/*#__PURE__*/_jsx(\"span\",{className:\"invalid-feedback\",children:isError.Comment})]})]})})]}),/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{sm:\"6\",children:/*#__PURE__*/_jsxs(FormGroup,{className:\" row mt-2 \",children:[/*#__PURE__*/_jsxs(Label,{className:\"col-sm-1 p-2\",style:{width:\"115px\",marginRight:\"0.4cm\"},children:[fieldLabel.ItemName,\" \"]}),/*#__PURE__*/_jsx(Col,{sm:\"7\",children:/*#__PURE__*/_jsx(Select,{id:\"ItemName \",name:\"ItemName\",value:values.ItemName,isDisabled:returnMode===1?true:false,isSearchable:true,className:\"react-dropdown\",classNamePrefix:\"dropdown\",options:ItemList_Options,onChange:function onChange(hasSelect,evn){onChangeSelect({hasSelect:hasSelect,evn:evn,state:state,setState:setState});setrRturnMode(2);}})}),/*#__PURE__*/_jsx(Col,{sm:\"1\",className:\"mx-6 mt-1\",children:!(returnMode===1)&&/*#__PURE__*/_jsx(Button,{type:\"button\",color:\"btn btn-outline-primary border-1 font-size-11 text-center\",onClick:function onClick(e){return AddPartyHandler(e,\"add\");},children:\" Add\"})})]})}),/*#__PURE__*/_jsx(Col,{sm:\"6\",children:/*#__PURE__*/_jsxs(FormGroup,{className:\" row mt-2 \",children:[/*#__PURE__*/_jsxs(Label,{className:\"col-sm-1 p-2\",style:{width:\"115px\",marginRight:\"0.4cm\"},children:[\"  \",fieldLabel.InvoiceNumber]}),/*#__PURE__*/_jsx(Col,{sm:\"7\",children:/*#__PURE__*/_jsx(Select,{id:\"InvoiceNumber \",name:\"InvoiceNumber\",value:values.InvoiceNumber,isDisabled:returnMode===2||TableArr.length>0?true:false,isSearchable:true,className:\"react-dropdown\",classNamePrefix:\"dropdown\",options:InvoiceNo_Options,onChange:function onChange(hasSelect,evn){onChangeSelect({hasSelect:hasSelect,evn:evn,state:state,setState:setState});setrRturnMode(1);}})}),/*#__PURE__*/_jsx(Col,{sm:\"1\",className:\"mx-6 mt-1 \",children:TableArr.length>0||!(values.ItemName===\"\")?/*#__PURE__*/_jsx(Change_Button,{onClick:function onClick(e){setTableArr([]);setState(function(i){var a=_objectSpread({},i);a.values.ItemName=\"\";a.values.InvoiceNumber=\"\";return a;});}}):!(returnMode===2)&&/*#__PURE__*/_jsxs(Button,{type:\"button\",color:\"btn btn-outline-primary border-1 font-size-11 text-center\",onClick:function onClick(e){return AddPartyHandler(e,\"Select\");},children:[\"        \",/*#__PURE__*/_jsx(\"i\",{children:\" \"}),\"Select\"]})})]})})]})]}),/*#__PURE__*/_jsx(CustomTable2,{data:TableArr,columns:pagesListColumns// customSearch={bulkSearch}\n,classes:\" table table-responsive table-bordered table-hover\",noDataIndication:/*#__PURE__*/_jsx(\"div\",{className:\"text-danger text-center \",children:\"Record Not available\"})}),TableArr.length>0?/*#__PURE__*/_jsx(FormGroup,{children:/*#__PURE__*/_jsx(Col,{sm:2,style:{marginLeft:\"-40px\"},className:\"row save1\",children:/*#__PURE__*/_jsx(SaveButton,{pageMode:pageMode,onClick:SaveHandler,userAcc:userPageAccessState,editCreatedBy:editCreatedBy,module:\"SalesReturn\"})})}):null]})})]});}else{return/*#__PURE__*/_jsx(React.Fragment,{});}};export default SalesReturn;","map":{"version":3,"names":["React","useEffect","useState","Col","FormGroup","Label","Input","Row","Button","MetaTags","Flatpickr","Breadcrumb_inputName","commonPageFieldSuccess","getItemList","useDispatch","useSelector","AlertState","commonPageField","useHistory","comAddPageFieldFunc","formValid","initialFiledFunc","onChangeDate","onChangeSelect","onChangeText","resetFunction","Select","Change_Button","Go_Button","SaveButton","breadcrumbReturnFunc","loginPartyID","currentDate","btnIsDissablefunc","loginUserID","loginCompanyID","convertDatefunc","invertDatefunc","pageId","url","mode","GetVender","Retailer_List","CustomAlert","postSelect_Field_for_dropdown","saveSalesReturnMaster","InvoiceNumber","InvoiceNumberSuccess","saveSalesReturnMaster_Success","CustomTable2","CInput","decimalRegx","floatRegx","getpartyItemList","SalesReturn_add_button_api","SalesReturn_add_button_api_For_Invoice","SalesReturn_add_button_api_For_Item","salesReturnCalculate","SalesReturn","props","dispatch","history","defaultsave","pageMode","setPageMode","userPageAccessState","setUserAccState","editCreatedBy","seteditCreatedBy","fileds","ReturnDate","Customer","ItemName","ReturnReason","Comment","state","setState","TableArr","setTableArr","returnMode","setrRturnMode","imageTable","setImageTable","console","log","postMsg","SalesReturnReducer","RetailerList","CommonAPI_Reducer","ItemList","PartyItemsReducer","partyItem","ReturnReasonList","PartyMasterBulkUpdateReducer","SelectField","InvoiceNo","userAccess","Login","RoleAccessUpdateData","pageField","CommonPageFieldReducer","page_Id","SALES_RETURN","jsonBody","JSON","stringify","Type","PartyID","CompanyID","length","location","hasShowModal","hasOwnProperty","editValue","values","isError","fieldLabel","userAcc","locationPath","pathname","masterPath","find","inx","ActualPagePath","Company","TypeID","fieldArr","PageFieldMaster","Status","StatusCode","dropdownAdd","Message","RedirectPath","SALES_RETURN_LIST","postMessage","AfterResponseAction","ReturnDate_Onchange","e","date","i","a","hasValid","valid","customerOptions","map","index","value","id","label","Name","itemList","Item","itemCheck","selectCheck","ItemList_Options","filter","ReturnReasonOptions","InvoiceNo_Options","Invoice","FullInvoiceNumber","deleteButtonAction","row","newArr","quantityHandler","event","target","input","v1","Number","Quantity","v2","Qty","pagesListColumns","text","dataField","formatter","cellContent","key","hidden","classes","justifyContent","width","b","RowData","Unit","UnitName","ItemUnitDetails","BaseUnitQuantity","MRP","MRPValue","ItemMRPDetails","GST","GSTPercentage","ItemGSTHSNDetails","GST_ID","Rate","BatchCode","BatchDate","altInput","altFormat","dateFormat","ItemComment","onchangeHandler","myFunction","AddPartyHandler","type","invalidMsg1","push","resp","data","Data","InvoiceItems","unitOps","MRPOps","GSTOps","ItemGSTDetails","itemArr","forEach","gstPercentage","RetailerHandler","CustomerID","file","files","convertBase64","base64","ImageUpload","Image","Promise","resolve","reject","fileReader","FileReader","readAsDataURL","onload","result","onerror","error","x","document","getElementById","style","display","src","SaveHandler","preventDefault","btnId","grand_total","ReturnItems","calculate","tAmount","Amount","BasicAmount","baseAmt","GSTAmount","gstAmt","CGST","SGST","IGST","CGSTPercentage","SGSTPercentage","IGSTPercentage","TaxType","ReturnItemImages","filterData","undefined","GrandTotal","Party","RoundOffAmount","Math","trunc","toFixed","CreatedBy","UpdatedBy","PageHeading","marginBottom","top","marginRight","hasSelect","evn","marginLeft"],"sources":["D:/Rohit/Git projects/Manthan/src/pages/Sale/Invoice/SalesReturn/SalesReturn.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport {\r\n    Col,\r\n    FormGroup,\r\n    Label,\r\n    Input,\r\n    Row,\r\n    Button\r\n} from \"reactstrap\";\r\nimport { MetaTags } from \"react-meta-tags\";\r\nimport Flatpickr from \"react-flatpickr\"\r\nimport { Breadcrumb_inputName, commonPageFieldSuccess, getItemList } from \"../../../../store/actions\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { AlertState, commonPageField } from \"../../../../store/actions\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport {\r\n    comAddPageFieldFunc,\r\n    formValid,\r\n    initialFiledFunc,\r\n    onChangeDate,\r\n    onChangeSelect,\r\n    onChangeText,\r\n    resetFunction,\r\n} from \"../../../../components/Common/validationFunction\";\r\nimport Select from \"react-select\";\r\nimport { Change_Button, Go_Button, SaveButton } from \"../../../../components/Common/CommonButton\";\r\nimport { breadcrumbReturnFunc, loginPartyID, currentDate, btnIsDissablefunc, loginUserID, loginCompanyID, convertDatefunc, invertDatefunc } from \"../../../../components/Common/CommonFunction\";\r\nimport * as pageId from \"../../../../routes//allPageID\";\r\nimport * as url from \"../../../../routes/route_url\";\r\nimport * as mode from \"../../../../routes/PageMode\";\r\nimport { GetVender, Retailer_List } from \"../../../../store/CommonAPI/SupplierRedux/actions\";\r\nimport { CustomAlert } from \"../../../../CustomAlert/ConfirmDialog\";\r\nimport { postSelect_Field_for_dropdown } from \"../../../../store/Administrator/PartyMasterBulkUpdateRedux/actions\";\r\nimport { saveSalesReturnMaster, InvoiceNumber, InvoiceNumberSuccess, saveSalesReturnMaster_Success } from \"../../../../store/Sales/SalesReturnRedux/action\";\r\nimport CustomTable2 from \"../../../../CustomTable2/Table\";\r\nimport \"./salesReturn.scss\";\r\nimport CInput from \"../../../../CustomValidateForm/CInput\";\r\nimport { decimalRegx, floatRegx } from \"../../../../CustomValidateForm/RegexPattern\";\r\nimport { getpartyItemList } from \"../../../../store/Administrator/PartyItemsRedux/action\";\r\nimport { SalesReturn_add_button_api, SalesReturn_add_button_api_For_Invoice, SalesReturn_add_button_api_For_Item } from \"../../../../helpers/backend_helper\";\r\nimport { salesReturnCalculate } from \"./SalesCalculation\";\r\n\r\nconst SalesReturn = (props) => {\r\n\r\n    const dispatch = useDispatch();\r\n    const history = useHistory()\r\n\r\n    const [pageMode, setPageMode] = useState(mode.defaultsave);\r\n    const [userPageAccessState, setUserAccState] = useState('');\r\n    const [editCreatedBy, seteditCreatedBy] = useState(\"\");\r\n\r\n    const fileds = {\r\n        ReturnDate: currentDate,\r\n        Customer: \"\",\r\n        ItemName: \"\",\r\n        InvoiceNumber: \"\",\r\n        ReturnReason: \"\",\r\n        Comment: \"\"\r\n    }\r\n\r\n    const [state, setState] = useState(initialFiledFunc(fileds))\r\n\r\n    const [TableArr, setTableArr] = useState([]);\r\n\r\n    const [returnMode, setrRturnMode] = useState(0);\r\n    const [imageTable, setImageTable] = useState([]);\r\n    console.log(returnMode)\r\n    //Access redux store Data /  'save_ModuleSuccess' action data\r\n    const {\r\n        postMsg,\r\n        RetailerList,\r\n        ItemList,\r\n        ReturnReasonList,\r\n        InvoiceNo,\r\n        pageField,\r\n        userAccess,\r\n    } = useSelector((state) => ({\r\n        postMsg: state.SalesReturnReducer.postMsg,\r\n        RetailerList: state.CommonAPI_Reducer.RetailerList,\r\n        ItemList: state.PartyItemsReducer.partyItem,\r\n        ReturnReasonList: state.PartyMasterBulkUpdateReducer.SelectField,\r\n        InvoiceNo: state.SalesReturnReducer.InvoiceNo,\r\n        userAccess: state.Login.RoleAccessUpdateData,\r\n        pageField: state.CommonPageFieldReducer.pageField,\r\n    }));\r\n\r\n    useEffect(() => {\r\n        dispatch(InvoiceNumberSuccess([]))\r\n        const page_Id = pageId.SALES_RETURN\r\n        dispatch(commonPageFieldSuccess(null));\r\n        dispatch(commonPageField(page_Id))\r\n        dispatch(getpartyItemList(loginPartyID()))\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        const jsonBody = JSON.stringify({\r\n            Type: 1,\r\n            PartyID: loginPartyID(),\r\n            CompanyID: loginCompanyID()\r\n        });\r\n        dispatch(Retailer_List(jsonBody));\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        if (TableArr.length === 0) {\r\n            setrRturnMode(0)\r\n        }\r\n    }, [TableArr]);\r\n\r\n    const location = { ...history.location }\r\n    // const hasShowloction = location.hasOwnProperty(mode.editValue)\r\n    const hasShowModal = props.hasOwnProperty(mode.editValue)\r\n\r\n    const values = { ...state.values }\r\n    const { isError } = state;\r\n    const { fieldLabel } = state;\r\n\r\n    // userAccess useEffect\r\n    useEffect(() => {\r\n        let userAcc = null;\r\n        let locationPath = location.pathname;\r\n        if (hasShowModal) {\r\n            locationPath = props.masterPath;\r\n        };\r\n        userAcc = userAccess.find((inx) => {\r\n            return (`/${inx.ActualPagePath}` === locationPath)\r\n        })\r\n        if (userAcc) {\r\n            setUserAccState(userAcc)\r\n            breadcrumbReturnFunc({ dispatch, userAcc });\r\n        };\r\n    }, [userAccess])\r\n\r\n    // Return Reason dropdown Values\r\n    useEffect(() => {\r\n        const jsonBody = JSON.stringify({\r\n            Company: loginCompanyID(),\r\n            TypeID: 8\r\n        });\r\n        dispatch(postSelect_Field_for_dropdown(jsonBody));\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        if (pageField) {\r\n            const fieldArr = pageField.PageFieldMaster\r\n            comAddPageFieldFunc({ state, setState, fieldArr })\r\n        }\r\n    }, [pageField])\r\n\r\n    useEffect(() => {\r\n        if ((postMsg.Status === true) && (postMsg.StatusCode === 200)) {\r\n            dispatch(saveSalesReturnMaster_Success({ Status: false }))\r\n            setTableArr([])\r\n            setState(() => resetFunction(fileds, state))// Clear form values  \r\n            dispatch(Breadcrumb_inputName(''))\r\n\r\n            if (pageMode === mode.dropdownAdd) {\r\n                dispatch(AlertState({\r\n                    Type: 1,\r\n                    Status: true,\r\n                    Message: postMsg.Message,\r\n                }))\r\n            }\r\n            else {\r\n                dispatch(AlertState({\r\n                    Type: 1,\r\n                    Status: true,\r\n                    Message: postMsg.Message,\r\n                    RedirectPath: url.SALES_RETURN_LIST,\r\n                }))\r\n            }\r\n        }\r\n        else if (postMsg.Status === true) {\r\n            dispatch(saveSalesReturnMaster_Success({ Status: false }))\r\n            dispatch(AlertState({\r\n                Type: 4,\r\n                Status: true,\r\n                Message: JSON.stringify(postMessage.Message),\r\n                RedirectPath: false,\r\n                AfterResponseAction: false\r\n            }));\r\n        }\r\n    }, [postMsg])\r\n\r\n    function ReturnDate_Onchange(e, date) {\r\n        setState((i) => {\r\n            const a = { ...i }\r\n            a.values.ReturnDate = date;\r\n            a.hasValid.ReturnDate.valid = true\r\n            return a\r\n        })\r\n    }\r\n\r\n    const customerOptions = RetailerList.map((index) => ({\r\n        value: index.id,\r\n        label: index.Name,\r\n    }));\r\n\r\n    const itemList = ItemList.map((index) => ({\r\n        value: index.Item,\r\n        label: index.ItemName,\r\n        itemCheck: index.selectCheck\r\n    }));\r\n\r\n    const ItemList_Options = itemList.filter((index) => {\r\n        return index.itemCheck === true\r\n    });\r\n\r\n    const ReturnReasonOptions = ReturnReasonList.map((index) => ({\r\n        value: index.id,\r\n        label: index.Name,\r\n    }));\r\n\r\n    const InvoiceNo_Options = InvoiceNo.map((index) => ({\r\n        value: index.Invoice,\r\n        label: index.FullInvoiceNumber,\r\n    }));\r\n\r\n    function deleteButtonAction(row) {\r\n        const newArr = TableArr.filter((index) => !(index.id === row.id))\r\n        setTableArr(newArr)\r\n    }\r\n\r\n    function quantityHandler(event, row) {\r\n\r\n        row[\"Qty\"] = event.target.value\r\n\r\n        let input = event.target.value\r\n\r\n        if (returnMode === 1) {\r\n            let v1 = Number(row.Quantity);\r\n            let v2 = Number(input)\r\n            if (!(v1 >= v2)) {\r\n                event.target.value = v1;\r\n            }\r\n        }\r\n        row.Qty = event.target.value\r\n\r\n    }\r\n\r\n    const pagesListColumns = [\r\n        {\r\n            text: \"Item Name\",\r\n            dataField: \"\",\r\n            formatter: (cellContent, row, key) => {\r\n                return (\r\n                    <Label>{row.ItemName.label}</Label>\r\n                )\r\n            }\r\n        }, ,\r\n        {\r\n            text: \"Invoice Qty\",\r\n            dataField: \"\",\r\n            hidden: returnMode === 2 && true,\r\n            formatter: (cellContent, row, key) => {\r\n                return (\r\n                    <Label>{row.Quantity}</Label>\r\n                )\r\n            }\r\n        },\r\n        {\r\n            text: \"Quantity\",\r\n            dataField: \"\",\r\n            classes: () => \"sales-return-row\",\r\n            formatter: (cellContent, row, key) => {\r\n\r\n                return (<span style={{ justifyContent: 'center', width: \"100px\" }}>\r\n                    <CInput\r\n                        id={`Qty${key}`}\r\n                        key={`Qty${row.id}`}\r\n                        defaultValue={row.Qty}\r\n                        autoComplete=\"off\"\r\n                        type=\"text\"\r\n                        pattern={decimalRegx}\r\n                        className=\"col col-sm text-end\"\r\n                        onChange={(event) => quantityHandler(event, row)}\r\n                    />\r\n                </span>)\r\n            }\r\n        },\r\n        {\r\n            text: \"Unit\",\r\n            dataField: \"\",\r\n            classes: () => \"sales-return-row\",\r\n            formatter: (cellContent, row, key, a, b) => {\r\n\r\n                return (<span style={{ justifyContent: 'center', width: \"100px\" }}>\r\n                    <Select\r\n                        id={`Unit${key}`}\r\n                        name=\"Unit\"\r\n                        defaultValue={returnMode === 1 && { value: row.RowData.Unit, label: row.RowData.UnitName }}\r\n                        isSearchable={true}\r\n                        isDisabled={returnMode === 1 && true}\r\n                        className=\"react-dropdown\"\r\n                        classNamePrefix=\"dropdown\"\r\n                        options={row.ItemUnitDetails}\r\n                        onChange={(event) => {\r\n                            row.Unit = event.value\r\n                            row.BaseUnitQuantity = event.BaseUnitQuantity\r\n                        }}\r\n                    />\r\n                </span>)\r\n            }\r\n        },\r\n        {\r\n            text: \"MRP\",\r\n            dataField: \"\",\r\n            classes: () => \"sales-return-row\",\r\n            formatter: (cellContent, row, key) => {\r\n                return (\r\n                    <>\r\n                        <span style={{ justifyContent: 'center', width: \"100px\" }}>\r\n                            <Select\r\n                                id={`MRP${key}`}\r\n                                name=\"MRP\"\r\n                                defaultValue={returnMode === 1 && { value: row.RowData.MRP, label: row.RowData.MRPValue }}\r\n                                isSearchable={true}\r\n                                isDisabled={returnMode === 1 && true}\r\n                                className=\"react-dropdown\"\r\n                                classNamePrefix=\"dropdown\"\r\n                                options={row.ItemMRPDetails}\r\n                                onChange={(event) => { row.MRP = event.value }}\r\n                            />\r\n                        </span></>)\r\n            }\r\n        },\r\n\r\n        {\r\n            text: \"GST\",\r\n            dataField: \"\",\r\n            classes: () => \"sales-return-row\",\r\n            formatter: (cellContent, row, key) => {\r\n                return (<span style={{ justifyContent: 'center', width: \"100px\" }}>\r\n                    <Select\r\n                        id={`GST${key}`}\r\n                        name=\"GST\"\r\n                        defaultValue={returnMode === 1 && { value: row.RowData.GST, label: row.RowData.GSTPercentage }}\r\n                        isSearchable={true}\r\n                        isDisabled={returnMode === 1 && true}\r\n                        className=\"react-dropdown\"\r\n                        classNamePrefix=\"dropdown\"\r\n                        options={row.ItemGSTHSNDetails}\r\n                        onChange={(event) => {\r\n                            row.GST_ID = event.value\r\n                            row.GST = event.label\r\n                        }}\r\n                    />\r\n                </span>)\r\n            }\r\n        },\r\n        {\r\n            text: \"Rate\",\r\n            dataField: \"\",\r\n            classes: () => \"sales-return-row\",\r\n            formatter: (cellContent, row, key) => {\r\n\r\n                return (<span style={{ justifyContent: 'center', width: \"100px\" }}>\r\n                    <CInput\r\n                        id=\"\"\r\n                        key={row.id}\r\n                        defaultValue={row.Rate}\r\n                        disabled={returnMode === 1 && true}\r\n                        type=\"text\"\r\n                        pattern={/^-?([0-9]*\\.?[0-9]+|[0-9]+\\.?[0-9]*)$/}\r\n                        className=\"col col-sm text-end\"\r\n                        onChange={(event) => { row.Rate = event.target.value }}\r\n                    />\r\n                </span>)\r\n            }\r\n        },\r\n        {\r\n            text: \"BatchCode\",\r\n            dataField: \"\",\r\n            classes: () => \"sales-return-row\",\r\n            formatter: (cellContent, row, key) => {\r\n\r\n                return (<span style={{ justifyContent: 'center', width: \"100px\" }}>\r\n                    <Input\r\n                        id=\"\"\r\n                        key={row.id}\r\n                        defaultValue={row.RowData.BatchCode}\r\n                        disabled={returnMode === 1 && true}\r\n                        type=\"text\"\r\n                        className=\"col col-sm text-center\"\r\n                        onChange={(event) => { row.BatchCode = event.target.value }}\r\n                    />\r\n                </span>)\r\n            }\r\n        },\r\n        {\r\n            text: \"BatchDate\",\r\n            dataField: \"\",\r\n            classes: () => \"sales-return-row\",\r\n            formatter: (cellContent, row, key) => {\r\n\r\n                return (<span style={{ justifyContent: 'center', width: \"100px\" }}>\r\n                    <Flatpickr\r\n                        name='ReturnDate'\r\n                        defaultValue={returnMode === 1 ? invertDatefunc(row.RowData.BatchDate) : currentDate}\r\n                        disabled={returnMode === 1 ? true : false}\r\n                        className=\"form-control d-block p-2 bg-white text-dark\"\r\n                        placeholder=\"Select...\"\r\n                        options={{\r\n                            altInput: true,\r\n                            altFormat: \"d-m-Y\",\r\n                            dateFormat: \"Y-m-d\",\r\n                        }}\r\n                        onChange={(event) => {\r\n                            row.BatchDate = invertDatefunc(event)\r\n                        }}\r\n                    />\r\n                </span>)\r\n            }\r\n        },\r\n        {\r\n            text: \"Item Comment\",\r\n            dataField: \"\",\r\n            classes: () => \"sales-return-row\",\r\n            formatter: (cellContent, row, key) => {\r\n\r\n                return (<span style={{ justifyContent: 'center', width: \"100px\" }}>\r\n                    <Input\r\n                        id=\"\"\r\n                        key={row.id}\r\n                        defaultChecked={row.ItemComment}\r\n                        type=\"text\"\r\n                        className=\"col col-sm text-center\"\r\n                        onChange={(event) => { row.ItemComment = event.target.value }}\r\n                    />\r\n                </span>)\r\n            }\r\n        },\r\n        {\r\n            text: \"Image\",\r\n            dataField: \"\",\r\n            classes: () => \"sales-return-Image-row\",\r\n            formatter: (cellContent, row, key) => {\r\n\r\n                return (<span style={{ justifyContent: 'center', width: \"100px\" }}>\r\n                    <div>\r\n                        <div className=\"btn-group btn-group-example mb-3\" role=\"group\">\r\n                            <Input\r\n                                type=\"file\"\r\n                                className=\"form-control \"\r\n                                // value={FileName}\r\n                                name=\"image\"\r\n                                id=\"file\"\r\n                                accept=\".jpg, .jpeg, .png ,.pdf\"\r\n                                onChange={(event) => { onchangeHandler(event, row) }}\r\n                            />\r\n                            <button name=\"image\"\r\n                                accept=\".jpg, .jpeg, .png ,.pdf\"\r\n                                onClick={() => { myFunction(row) }}\r\n                                id=\"ImageId\" type=\"button\" className=\"btn btn-primary \">Show</button>\r\n                        </div>\r\n                    </div>\r\n\r\n\r\n                </span>)\r\n            }\r\n        },\r\n        {\r\n            text: \"Action \",\r\n            dataField: \"\",\r\n            hidden: (returnMode === 1) && true,\r\n            formatter: (cellContent, row, key) => (\r\n                <>\r\n                    <div style={{ justifyContent: 'center' }} >\r\n                        <Col>\r\n                            <FormGroup className=\" col col-sm-4 \">\r\n                                <Button\r\n                                    id={\"deleteid\"}\r\n                                    type=\"button\"\r\n                                    className=\"badge badge-soft-danger font-size-12 btn btn-danger waves-effect waves-light w-xxs border border-light\"\r\n                                    data-mdb-toggle=\"tooltip\" data-mdb-placement=\"top\" title='Delete MRP'\r\n                                    onClick={(e) => { deleteButtonAction(row) }}\r\n                                >\r\n                                    <i className=\"mdi mdi-delete font-size-18\"></i>\r\n                                </Button>\r\n                            </FormGroup>\r\n                        </Col>\r\n                    </div>\r\n                </>\r\n            ),\r\n        },\r\n    ];\r\n\r\n    async function AddPartyHandler(e, type) {\r\n\r\n        const invalidMsg1 = []\r\n        if ((values.ItemName === '') && (type === 'add')) {\r\n            invalidMsg1.push(`Select Item Name`)\r\n        }\r\n        if ((values.InvoiceNumber === '') && (values.Customer === '') && (type === 'Select')) {\r\n            invalidMsg1.push(`Select Retailer.`)\r\n        }\r\n        else if ((values.InvoiceNumber === '') && (type === 'Select')) {\r\n            invalidMsg1.push(`Select Invoice No.`)\r\n        }\r\n\r\n        if (invalidMsg1.length > 0) {\r\n            CustomAlert({\r\n                Type: 4,\r\n                Message: JSON.stringify(invalidMsg1)\r\n            })\r\n            return\r\n        }\r\n\r\n        let resp;\r\n        try {\r\n\r\n            if (returnMode === 2) {\r\n                resp = await SalesReturn_add_button_api_For_Item(values.ItemName.value)\r\n            }\r\n            else {\r\n                resp = await SalesReturn_add_button_api_For_Invoice(values.InvoiceNumber.value)\r\n            }\r\n\r\n            const data = resp.Data.InvoiceItems.map((i) => ({\r\n                unitOps: (returnMode === 1) ? { label: i.UnitName, value: i.Unit, BaseUnitQuantity: i.BaseUnitQuantity } : i.ItemUnitDetails.map(i => ({ label: i.UnitName, value: i.Unit, BaseUnitQuantity: i.BaseUnitQuantity })),\r\n                MRPOps: i.ItemMRPDetails.map(i => ({ label: i.MRPValue, value: i.MRP })),\r\n                GSTOps: i.ItemGSTDetails.map(i => ({ label: i.GSTPercentage, value: i.GST })),\r\n                ItemName: { label: i.ItemName, value: i.Item },\r\n                Quantity: i.Quantity,\r\n                Rate: i.Rate,\r\n                RowData: i\r\n            }))\r\n\r\n            const itemArr = [...TableArr]\r\n\r\n            data.forEach((i) => {\r\n                itemArr.push({\r\n                    id: itemArr.length + 1,\r\n                    ItemUnitDetails: i.unitOps,\r\n                    ItemMRPDetails: i.MRPOps,\r\n                    ItemGSTHSNDetails: i.GSTOps,\r\n                    ItemName: i.ItemName,\r\n                    Quantity: i.Quantity,\r\n                    Rate: i.Rate,\r\n                    gstPercentage: i.RowData.GSTPercentage,\r\n                    RowData: i.RowData\r\n                })\r\n            })\r\n\r\n            setTableArr(itemArr)\r\n\r\n            setState((i) => {\r\n                let a = { ...i }\r\n                a.values.ItemName = \"\"\r\n                a.hasValid.ItemName.valid = true;\r\n                return a\r\n            })\r\n        } catch (w) { }\r\n    }\r\n\r\n    function RetailerHandler(event) {\r\n\r\n        setState((i) => {\r\n            let a = { ...i }\r\n            a.values.ItemName = \"\"\r\n            a.values.InvoiceNumber = \"\"\r\n            a.hasValid.ItemName.valid = true;\r\n            a.hasValid.InvoiceNumber.valid = true;\r\n            return a\r\n        })\r\n        setTableArr([])\r\n\r\n        const jsonBody = JSON.stringify({\r\n            PartyID: loginPartyID(),\r\n            CustomerID: event.value\r\n        });\r\n\r\n        dispatch(InvoiceNumber(jsonBody));\r\n    }\r\n\r\n    // image onchange handler\r\n    const onchangeHandler = async (event, row) => {\r\n\r\n        const file = event.target.files[0]\r\n        const base64 = await convertBase64(file);\r\n        let ImageUpload = base64\r\n        row.Image = ImageUpload\r\n        setImageTable(ImageUpload)\r\n    }\r\n\r\n    // image convert in string\r\n    const convertBase64 = (file) => {\r\n        return new Promise((resolve, reject) => {\r\n            const fileReader = new FileReader()\r\n            fileReader.readAsDataURL(file);\r\n\r\n            fileReader.onload = () => {\r\n                resolve(fileReader.result)\r\n            };\r\n            fileReader.onerror = (error) => {\r\n                reject(error)\r\n            }\r\n        })\r\n    }\r\n\r\n    function myFunction(row) {\r\n\r\n        var x = document.getElementById(\"add-img\");\r\n        if (x.style.display === \"none\") {\r\n            x.src = imageTable\r\n            if (imageTable != \"\") {\r\n                x.style.display = \"block\";\r\n\r\n            }\r\n\r\n        } else {\r\n            x.style.display = \"none\";\r\n        }\r\n    }\r\n\r\n    const SaveHandler = async (event) => {\r\n        \r\n        event.preventDefault();\r\n\r\n        const btnId = event.target.id\r\n\r\n        let grand_total = 0;\r\n        const ReturnItems = TableArr.map((i) => {\r\n\r\n            var gstPercentage = returnMode === 1 ? i.gstPercentage : i.GST\r\n            const calculate = salesReturnCalculate({ Rate: i.Rate, Qty: i.Qty, gstPercentage: gstPercentage })\r\n\r\n            grand_total = grand_total + Number(calculate.tAmount)\r\n\r\n            return ({\r\n                Item: i.ItemName.value,\r\n                ItemName: i.ItemName.label,\r\n                Quantity: i.Qty,\r\n                Unit: returnMode === 1 ? i.RowData.Unit : i.Unit,\r\n                BaseUnitQuantity: returnMode === 1 ? i.RowData.BaseUnitQuantity : i.BaseUnitQuantity,\r\n                BatchCode: returnMode === 1 ? i.RowData.BatchCode : i.BatchCode,\r\n                BatchDate: i.BatchDate,\r\n                Amount: calculate.tAmount,\r\n                MRP: returnMode === 1 ? i.RowData.MRP : i.MRP,\r\n                Rate: i.Rate,\r\n                BasicAmount: calculate.baseAmt,\r\n                GSTAmount: calculate.gstAmt,\r\n                GST: returnMode === 1 ? i.RowData.GST : i.GST_ID,\r\n                CGST: calculate.CGST,\r\n                SGST: calculate.SGST,\r\n                IGST: 0,\r\n                GSTPercentage: gstPercentage,\r\n                CGSTPercentage: (gstPercentage / 2),\r\n                SGSTPercentage: (gstPercentage / 2),\r\n                IGSTPercentage: 0,\r\n                TaxType: \"GST\",\r\n                ReturnItemImages: []\r\n            })\r\n\r\n\r\n        })\r\n\r\n        const filterData = ReturnItems.filter((i) => {\r\n            return i.Quantity > 0\r\n        })\r\n\r\n        if (filterData.length === 0) {\r\n            CustomAlert({\r\n                Type: 4,\r\n                Message: \" Please Enter One Item Quantity\"\r\n            })\r\n            return btnIsDissablefunc({ btnId, state: false })\r\n        }\r\n\r\n        const invalidMsg1 = []\r\n\r\n        ReturnItems.forEach((i) => {\r\n\r\n            if ((i.Unit === undefined) || (i.Unit === null)) {\r\n                invalidMsg1.push(`${i.ItemName} : Unit Is Required`)\r\n            }\r\n            else if ((i.MRP === undefined) || (i.MRP === null)) {\r\n                invalidMsg1.push(`${i.ItemName} : MRP Is Required`)\r\n            }\r\n            else if ((i.GST === undefined) || (i.GST === null)) {\r\n                invalidMsg1.push(`${i.ItemName} : GST Is Required`)\r\n            }\r\n            else if ((i.Rate === undefined) || (i.Rate === null)) {\r\n                invalidMsg1.push(`${i.ItemName} : Rate Is Required`)\r\n            }\r\n            else if ((i.BatchCode === undefined) || (i.BatchCode === null)) {\r\n                invalidMsg1.push(`${i.ItemName} : BatchCode Is Required`)\r\n            };\r\n        })\r\n\r\n        if (invalidMsg1.length > 0) {\r\n            CustomAlert({\r\n                Type: 4,\r\n                Message: JSON.stringify(invalidMsg1)\r\n            })\r\n            return btnIsDissablefunc({ btnId, state: false })\r\n        }\r\n\r\n        try {\r\n            if (formValid(state, setState)) {\r\n                btnIsDissablefunc({ btnId, state: true })\r\n\r\n                const jsonBody = JSON.stringify({\r\n                    ReturnDate: values.ReturnDate,\r\n                    ReturnReason: values.ReturnReason.value,\r\n                    Customer: values.Customer.value,\r\n                    Comment: values.Comment,\r\n                    GrandTotal: grand_total,\r\n                    Party: loginPartyID(),\r\n                    RoundOffAmount: (grand_total - Math.trunc(grand_total)).toFixed(2),\r\n                    CreatedBy: loginUserID(),\r\n                    UpdatedBy: loginUserID(),\r\n                    ReturnItems: filterData,\r\n                });\r\n                // if (pageMode === mode.edit) {\r\n                //     dispatch(updateCategoryTypeID({ jsonBody, updateId: values.id, btnId }));\r\n                // }\r\n                // else {\r\n                dispatch(saveSalesReturnMaster({ jsonBody, btnId }));\r\n\r\n            }\r\n            // }\r\n        } catch (e) { btnIsDissablefunc({ btnId, state: false }) }\r\n    };\r\n\r\n    if (!(userPageAccessState === '')) {\r\n        return (\r\n            <React.Fragment>\r\n                <MetaTags> <title>{userAccess.PageHeading}| FoodERP-React FrontEnd</title></MetaTags>\r\n\r\n                <div className=\"page-content\" style={{ marginBottom: \"5cm\" }}>\r\n\r\n                    <form noValidate>\r\n                        <div className=\"px-2 c_card_filter header text-black mb-2\" >\r\n                            < img id='add-img' className='abc1' src={''} style={{ top: \"400px\" }} />\r\n\r\n                            <Row>\r\n                                <Col sm=\"6\">\r\n                                    <FormGroup className=\"row mt-2\" >\r\n                                        <Label className=\"col-sm-1 p-2\"\r\n                                            style={{ width: \"115px\", marginRight: \"0.4cm\" }}>{fieldLabel.ReturnDate}  </Label>\r\n                                        <Col sm=\"7\">\r\n                                            <Flatpickr\r\n                                                name='ReturnDate'\r\n                                                value={values.ReturnDate}\r\n                                                className=\"form-control d-block p-2 bg-white text-dark\"\r\n                                                placeholder=\"Select...\"\r\n                                                options={{\r\n                                                    altInput: true,\r\n                                                    altFormat: \"d-m-Y\",\r\n                                                    dateFormat: \"Y-m-d\",\r\n                                                }}\r\n                                                onChange={ReturnDate_Onchange}\r\n                                            />\r\n                                        </Col>\r\n                                    </FormGroup>\r\n                                </Col >\r\n\r\n                                <Col sm=\"6\">\r\n                                    <FormGroup className=\" row mt-2 \" >\r\n                                        <Label className=\"col-sm-1 p-2\"\r\n                                            style={{ width: \"115px\", marginRight: \"0.4cm\" }}>{fieldLabel.Customer} </Label>\r\n                                        <Col sm=\"7\">\r\n                                            <Select\r\n                                                id=\"Customer \"\r\n                                                name=\"Customer\"\r\n                                                // closeMenuOnSelect={false}\r\n                                                // menuIsOpen={menuIsOpen}\r\n                                                value={values.Customer}\r\n                                                isSearchable={true}\r\n                                                className=\"react-dropdown\"\r\n                                                classNamePrefix=\"dropdown\"\r\n                                                options={customerOptions}\r\n                                                onChange={(hasSelect, evn) => {\r\n                                                    onChangeSelect({ hasSelect, evn, state, setState, })\r\n                                                    RetailerHandler(hasSelect)\r\n                                                }}\r\n                                            />\r\n                                            {isError.Customer.length > 0 && (\r\n                                                <span className=\"text-danger f-8\"><small>{isError.Customer}</small></span>\r\n                                            )}\r\n                                        </Col>\r\n\r\n                                    </FormGroup>\r\n                                </Col >\r\n                            </Row>\r\n\r\n                            <Row>\r\n                                <Col sm=\"6\">\r\n                                    <FormGroup className=\" row mt-2 \" >\r\n                                        <Label className=\"col-sm-1 p-2\"\r\n                                            style={{ width: \"115px\", marginRight: \"0.4cm\" }}>{fieldLabel.ReturnReason} </Label>\r\n                                        <Col sm=\"7\">\r\n                                            <Select\r\n                                                id=\"ReturnReason \"\r\n                                                name=\"ReturnReason\"\r\n                                                value={values.ReturnReason}\r\n                                                isSearchable={true}\r\n                                                className=\"react-dropdown\"\r\n                                                classNamePrefix=\"dropdown\"\r\n                                                options={ReturnReasonOptions}\r\n                                                onChange={(hasSelect, evn) => {\r\n                                                    onChangeSelect({ hasSelect, evn, state, setState, })\r\n                                                }}\r\n                                            />\r\n                                            {isError.ReturnReason.length > 0 && (\r\n                                                <span className=\"text-danger f-8\"><small>{isError.ReturnReason}</small></span>\r\n                                            )}\r\n                                        </Col>\r\n\r\n                                    </FormGroup>\r\n                                </Col >\r\n\r\n                                <Col sm=\"6\">\r\n                                    <FormGroup className=\" row mt-2 \" >\r\n                                        <Label className=\"col-sm-1 p-2\"\r\n                                            style={{ width: \"115px\", marginRight: \"0.4cm\" }}>{fieldLabel.Comment} </Label>\r\n                                        <Col sm=\"7\">\r\n                                            <Input\r\n                                                name=\"Comment\"\r\n                                                id=\"Comment\"\r\n                                                value={values.Comment}\r\n                                                type=\"text\"\r\n                                                className={isError.Comment.length > 0 ? \"is-invalid form-control\" : \"form-control\"}\r\n                                                placeholder=\"Please Enter Comment\"\r\n                                                autoComplete='off'\r\n                                                // autoFocus={true}\r\n                                                onChange={(event) => {\r\n                                                    onChangeText({ event, state, setState })\r\n                                                }}\r\n                                            />\r\n                                            {isError.Comment.length > 0 && (\r\n                                                <span className=\"invalid-feedback\">{isError.Comment}</span>\r\n                                            )}\r\n                                        </Col>\r\n\r\n                                    </FormGroup>\r\n                                </Col >\r\n                            </Row>\r\n\r\n                            <Row>\r\n                                <Col sm=\"6\">\r\n                                    <FormGroup className=\" row mt-2 \" >\r\n                                        <Label className=\"col-sm-1 p-2\"\r\n                                            style={{ width: \"115px\", marginRight: \"0.4cm\" }}>{fieldLabel.ItemName} </Label>\r\n                                        <Col sm=\"7\">\r\n                                            <Select\r\n                                                id=\"ItemName \"\r\n                                                name=\"ItemName\"\r\n                                                value={values.ItemName}\r\n                                                isDisabled={(returnMode === 1) ? true : false}\r\n                                                isSearchable={true}\r\n                                                className=\"react-dropdown\"\r\n                                                classNamePrefix=\"dropdown\"\r\n                                                options={ItemList_Options}\r\n                                                onChange={(hasSelect, evn) => {\r\n                                                    onChangeSelect({ hasSelect, evn, state, setState, })\r\n                                                    setrRturnMode(2)\r\n                                                }}\r\n                                            />\r\n\r\n                                        </Col>\r\n\r\n                                        <Col sm=\"1\" className=\"mx-6 mt-1\">\r\n                                            {\r\n                                                (!(returnMode === 1)) &&\r\n                                                < Button type=\"button\" color=\"btn btn-outline-primary border-1 font-size-11 text-center\"\r\n                                                    onClick={(e,) => AddPartyHandler(e, \"add\")}\r\n                                                > Add</Button>\r\n                                            }\r\n\r\n                                        </Col>\r\n                                        {/* <Col sm=\"1\" className=\"mx-6 mt-1 \">\r\n\r\n                                            <Col sm=\"1\" className=\"mx-6 \">                   \r\n                                                {(pageMode === mode.defaultsave) ?\r\n                                                    (TableArr.length === 0) || (returnMode === 2) ?\r\n                                                        <Button type=\"button\" color=\"btn btn-outline-primary border-1 font-size-11 text-center\"\r\n                                                            onClick={(e,) => AddPartyHandler(e, \"1\")}\r\n                                                        >        <i > </i>Add</Button>\r\n                                                        :\r\n                                                        <Change_Button onClick={(e) => {\r\n                                                            setTableArr([])\r\n                                                            setState((i) => {\r\n                                                                let a = { ...i }\r\n                                                                a.values.InvoiceNumber = \"\"\r\n                                                                a.hasValid.InvoiceNumber.valid = true;\r\n                                                                return a\r\n                                                            })\r\n                                                        }} />\r\n                                                    : null\r\n                                                }\r\n\r\n                                            </Col>\r\n                                        </Col> */}\r\n                                        {/* <Col sm=\"1\" className=\"mx-4 mt-1 \">\r\n                                            <Label className=\"col-sm-1 p-2\"\r\n                                                style={{ width: \"115px\", marginLeft: \"0.5cm\", color: \" rgb(125 74 157)\" }}>\r\n                                                OR </Label>\r\n\r\n                                        </Col> */}\r\n                                    </FormGroup>\r\n                                </Col >\r\n                                <Col sm=\"6\">\r\n                                    <FormGroup className=\" row mt-2 \" >\r\n                                        <Label className=\"col-sm-1 p-2\"\r\n                                            style={{ width: \"115px\", marginRight: \"0.4cm\" }}>  {fieldLabel.InvoiceNumber}</Label>\r\n                                        <Col sm=\"7\">\r\n                                            <Select\r\n                                                id=\"InvoiceNumber \"\r\n                                                name=\"InvoiceNumber\"\r\n                                                value={values.InvoiceNumber}\r\n                                                isDisabled={((returnMode === 2) || (TableArr.length > 0)) ? true : false}\r\n                                                isSearchable={true}\r\n                                                className=\"react-dropdown\"\r\n                                                classNamePrefix=\"dropdown\"\r\n                                                options={InvoiceNo_Options}\r\n                                                onChange={(hasSelect, evn) => {\r\n                                                    onChangeSelect({ hasSelect, evn, state, setState, })\r\n                                                    setrRturnMode(1)\r\n                                                }}\r\n                                            />\r\n\r\n                                        </Col>\r\n                                        <Col sm=\"1\" className=\"mx-6 mt-1 \">\r\n                                            {((TableArr.length > 0) || (!(values.ItemName === \"\"))) ?\r\n                                                <Change_Button onClick={(e) => {\r\n                                                    setTableArr([])\r\n                                                    setState((i) => {\r\n                                                        let a = { ...i }\r\n                                                        a.values.ItemName = \"\"\r\n                                                        a.values.InvoiceNumber = \"\"\r\n                                                        return a\r\n                                                    })\r\n                                                }} />\r\n                                                :\r\n                                                (!(returnMode === 2)) &&\r\n                                                <Button type=\"button\" color=\"btn btn-outline-primary border-1 font-size-11 text-center\"\r\n                                                    onClick={(e,) => AddPartyHandler(e, \"Select\")}\r\n                                                >        <i > </i>Select</Button>\r\n\r\n                                            }\r\n\r\n\r\n                                        </Col>\r\n                                    </FormGroup>\r\n                                </Col >\r\n\r\n                            </Row>\r\n                        </div>\r\n\r\n                        <CustomTable2\r\n                            data={TableArr}\r\n                            columns={pagesListColumns}\r\n                            // customSearch={bulkSearch}\r\n                            classes={\" table table-responsive table-bordered table-hover\"}\r\n                            noDataIndication={\r\n                                <div className=\"text-danger text-center \">\r\n                                    Record Not available\r\n                                </div>\r\n                            }\r\n                        >\r\n                        </CustomTable2>\r\n\r\n                        {\r\n                            TableArr.length > 0 ?\r\n                                <FormGroup>\r\n                                    <Col sm={2} style={{ marginLeft: \"-40px\" }} className={\"row save1\"}>\r\n                                        <SaveButton pageMode={pageMode}\r\n                                            onClick={SaveHandler}\r\n                                            userAcc={userPageAccessState}\r\n                                            editCreatedBy={editCreatedBy}\r\n                                            module={\"SalesReturn\"}\r\n                                        />\r\n\r\n                                    </Col>\r\n                                </FormGroup >\r\n                                : null\r\n                        }\r\n\r\n                    </form >\r\n                </div >\r\n            </React.Fragment >\r\n        );\r\n    }\r\n    else {\r\n        return (\r\n            <React.Fragment></React.Fragment>\r\n        )\r\n    }\r\n};\r\n\r\nexport default SalesReturn\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}