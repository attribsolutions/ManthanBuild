{"ast":null,"code":"import _regeneratorRuntime from\"D:/Rohit/Git projects/Manthan/node_modules/@babel/runtime/regenerator\";import _objectSpread from\"D:/Rohit/Git projects/Manthan/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _asyncToGenerator from\"D:/Rohit/Git projects/Manthan/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import{Button,Spinner}from\"reactstrap\";import*as mode from\"../../routes/PageMode\";import{customAlert}from\"../../CustomAlert/ConfirmDialog\";import{date_dmy_func,loginSystemSetting,loginUserID}from\"./CommonFunction\";import'../../assets/searchBox/searchBox.scss';import{Cancel_EInvoiceAction,Cancel_EwayBillAction,Uploaded_EInvoiceAction,Uploaded_EwayBillAction}from\"../../store/actions\";//******************** button class ******************************\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var editBtnCss=\"badge badge-soft-success font-size-12 btn btn-success waves-effect waves-light w-xxs border border-light\";var editSelfBtnCss=\"badge badge-soft-primary font-size-12 btn c_btn-primary waves-effect waves-light w-xxs border border-light\";var vieBtnCss=\"badge badge-soft-primary font-size-12 btn c_btn-primary waves-effect waves-light w-xxs border border-light\";var copyBtnCss=\"badge badge-soft-primary font-size-12 btn c_btn-primary waves-effect waves-light w-xxs border border-light\";var updateBtnCss=\"badge badge-soft-info font-size-12 btn btn-info waves-effect waves-light w-xxs border border-light\";export var deltBtnCss=\"badge badge-soft-danger font-size-12 btn btn-danger waves-effect waves-light w-xxs border border-light\";export var makeBtnCss=\"badge badge-soft-info font-size-12 btn btn-info waves-effect waves-light w-xxs border border-light \";export var printBtnCss=\"badge badge-soft-primary font-size-12 btn c_btn-primary waves-effect waves-light w-xxs border border-light \";var printInvoiceBtnCss=\"badge badge-soft-info font-size-12 btn btn-info waves-effect waves-light w-xxs border border-light\";//******************** icon class ******************************\nvar editIconClass=\"mdi mdi-pencil font-size-16\";var viewIconClass=\"bx bxs-show font-size-16\";var approvalviewIconClass=\" far fa-check-circle font-size-16\";var makeBtnIconClass=\"fas fa-file-invoice font-size-16\";var printIconClass=\"bx bx-printer font-size-16\";var multiInvoiceIconClass=\"fas fa-file-download\";var updateIconClass=\"mdi mdi-file-table-box-multiple font-size-16\";var deleteIconClass=\"mdi mdi-delete font-size-16\";var copyIconClass=\"bx bxs-copy font-size-16\";var orderApprovalIconClass=\"bx bx-check-shield font-size-20\";var uploadIconClass=\"bx bx-upload font-size-14\";var cancelIconClass=\"mdi mdi-cancel font-size-14\";export var listPageActionsButtonFunc=function listPageActionsButtonFunc(props){var dispatch=props.dispatch,history=props.history,userAccState=props.userAccState,editActionFun=props.editActionFun,deleteActionFun=props.deleteActionFun,ButtonMsgLable=props.ButtonMsgLable,deleteName=props.deleteName,downBtnFunc=props.downBtnFunc,editBodyfunc=props.editBodyfunc,deleteBodyfunc=props.deleteBodyfunc,copyBodyfunc=props.copyBodyfunc,viewApprovalBtnFunc=props.viewApprovalBtnFunc,otherBtn_1Func=props.otherBtn_1Func,_props$makeBtnFunc=props.makeBtnFunc,makeBtnFunc=_props$makeBtnFunc===void 0?function(){}:_props$makeBtnFunc,pageMode=props.pageMode,makeBtnName=props.makeBtnName,_props$makeBtnShow=props.makeBtnShow,makeBtnShow=_props$makeBtnShow===void 0?false:_props$makeBtnShow,oderAprovalBtnFunc=props.oderAprovalBtnFunc;var listBtnLoading=props.reducers.listBtnLoading;var userCreated=loginUserID();var subPageMode=history.location.pathname;var makeButtonHandler=function makeButtonHandler(_ref){var rowData=_ref.rowData,btnId=_ref.btnId;rowData[\"hasSelect\"]=true;var arr=[];arr.push(rowData);makeBtnFunc(arr,btnId);};var renderButtonOnClick=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(_ref2){var rowData,btnmode,btnId,actionFunc,dispatchAction,config,alertRepsponse;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:rowData=_ref2.rowData,btnmode=_ref2.btnmode,btnId=_ref2.btnId,actionFunc=_ref2.actionFunc,dispatchAction=_ref2.dispatchAction;_context.prev=1;config={editId:rowData.id,viewId:rowData.id,deleteId:rowData.id,rowData:rowData,btnmode:btnmode,subPageMode:subPageMode,btnId:btnId};if(!actionFunc){_context.next=7;break;}actionFunc(_objectSpread({},config));_context.next=15;break;case 7:if(!(btnmode===mode.isdelete)){_context.next=14;break;}_context.next=10;return customAlert({Type:8,Message:\"Are you sure you want to delete this \".concat(ButtonMsgLable,\" : \\\"\").concat(rowData[deleteName],\"\\\"\")});case 10:alertRepsponse=_context.sent;if(alertRepsponse){dispatch(dispatchAction(_objectSpread({},config)));}_context.next=15;break;case 14:dispatch(dispatchAction(_objectSpread({},config)));case 15:_context.next=20;break;case 17:_context.prev=17;_context.t0=_context[\"catch\"](1);customAlert({Type:3,Message:\"Action Not defined\"});case 20:case\"end\":return _context.stop();}}},_callee,null,[[1,17]]);}));return function renderButtonOnClick(_x){return _ref3.apply(this,arguments);};}();var renderButtonWithSpinner=function renderButtonWithSpinner(btnmode,spinnerColor,iconClass){var style=btnmode===mode.makeBtn?{marginLeft:\"5px\",marginRight:\"6px\"}:{};return/*#__PURE__*/_jsx(_Fragment,{children:listBtnLoading===btnmode?/*#__PURE__*/_jsx(Spinner,{style:{height:\"16px\",width:\"16px\"},color:spinnerColor}):/*#__PURE__*/_jsx(\"i\",{className:iconClass,style:style})});};var renderActionButton=function renderActionButton(__cell,rowData,__key,formatExtra){var listBtnLoading=formatExtra.listBtnLoading;var forceEditHide=rowData.forceEditHide,forceDeleteHide=rowData.forceDeleteHide,forceHideOrderAprovalBtn=rowData.forceHideOrderAprovalBtn,forceMakeBtnHide=rowData.forceMakeBtnHide;rowData.hasSelect=false;var hasRole=function hasRole(role){return userAccState[role];};var canEdit=hasRole(\"RoleAccess_IsEdit\")&&!forceEditHide;var canEditSelf=hasRole(\"RoleAccess_IsEditSelf\")&&!canEdit&&rowData.CreatedBy===userCreated&&!forceEditHide;var canView=hasRole(\"RoleAccess_IsView\")&&!canEdit&&!canEditSelf&&!viewApprovalBtnFunc;var canApprovalView=hasRole(\"RoleAccess_IsView\")&&!canEdit&&!canEditSelf&&viewApprovalBtnFunc;var canPrint=hasRole(\"RoleAccess_IsPrint\");var canMultiInvoicePrint=hasRole(\"RoleAccess_IsMultipleInvoicePrint\");var canDelete=hasRole(\"RoleAccess_IsDelete\")&&!forceDeleteHide;var canDeleteSelf=hasRole(\"RoleAccess_IsDeleteSelf\")&&!canDelete&&rowData.CreatedBy===userCreated&&!forceDeleteHide;var canCopy=hasRole(\"RoleAccess_IsSave\")&&hasRole(\"RoleAccess_IsCopy\");var canMakeBtn=pageMode===mode.modeSTPList&&makeBtnShow&&!forceMakeBtnHide;var canOrderApproval=oderAprovalBtnFunc&&!forceHideOrderAprovalBtn;var dummyDisable_OrderApproval=!canOrderApproval&&oderAprovalBtnFunc;var dummyDisable_Edit=(userAccState.RoleAccess_IsEdit||userAccState.RoleAccess_IsEditSelf)&&!canEdit&&!canEditSelf&&!canView&&!viewApprovalBtnFunc;var dummyDisable_Delete=(hasRole(\"RoleAccess_IsDelete\")||hasRole(\"RoleAccess_IsDeleteSelf\"))&&!canDelete&&!canDeleteSelf;var dummyDisable_MakeBtn=!canMakeBtn&&makeBtnShow;var renderButtonIfNeeded=function renderButtonIfNeeded(_ref4){var condition=_ref4.condition,btnmode=_ref4.btnmode,iconClass=_ref4.iconClass,actionFunc=_ref4.actionFunc,dispatchAction=_ref4.dispatchAction,title=_ref4.title,buttonClasss=_ref4.buttonClasss,isDummyBtn=_ref4.isDummyBtn;if(!condition&&!isDummyBtn)return null;if(!isDummyBtn){return/*#__PURE__*/_jsx(Button,{type:\"button\",id:\"btn-\".concat(btnmode,\"-\").concat(rowData.id),className:buttonClasss,title:\"\".concat(title,\" \").concat(ButtonMsgLable)// disabled={listBtnLoading}\n,onClick:function onClick(){if(!listBtnLoading){renderButtonOnClick({rowData:rowData,btnmode:mode[btnmode],btnId:\"btn-\".concat(btnmode,\"-\").concat(rowData.id),actionFunc:actionFunc,dispatchAction:dispatchAction});}},children:renderButtonWithSpinner(\"btn-\".concat(btnmode,\"-\").concat(rowData.id),\"white\",iconClass)});}else{return/*#__PURE__*/_jsx(Button,{type:\"button\",id:\"btn-\".concat(btnmode,\"-\").concat(rowData.id),className:\"\".concat(buttonClasss,\" c_disableBtn\"),children:/*#__PURE__*/_jsx(\"i\",{className:iconClass})});}};return/*#__PURE__*/_jsxs(\"div\",{id:\"ActionBtn\",children:[renderButtonIfNeeded({condition:canEdit,btnmode:mode.edit,iconClass:editIconClass,actionFunc:editBodyfunc,dispatchAction:editActionFun,title:\"Edit\",buttonClasss:editBtnCss,isDummyBtn:dummyDisable_Edit}),renderButtonIfNeeded({condition:canEditSelf,btnmode:mode.edit,iconClass:editIconClass,actionFunc:editBodyfunc,dispatchAction:editActionFun,title:\"EditSelf\",buttonClasss:editSelfBtnCss}),renderButtonIfNeeded({condition:canView,btnmode:mode.view,iconClass:viewIconClass,dispatchAction:editActionFun,title:\"View\",buttonClasss:vieBtnCss}),renderButtonIfNeeded({condition:canApprovalView,btnmode:mode.viewApproval,iconClass:approvalviewIconClass,actionFunc:viewApprovalBtnFunc,title:\"Approval View\",buttonClasss:vieBtnCss}),renderButtonIfNeeded({condition:canMakeBtn,btnmode:mode.makeBtn,iconClass:makeBtnIconClass,actionFunc:makeButtonHandler,title:makeBtnName,buttonClasss:makeBtnCss,isDummyBtn:dummyDisable_MakeBtn}),renderButtonIfNeeded({condition:canPrint,btnmode:mode.download,iconClass:printIconClass,actionFunc:downBtnFunc,title:\"Print\",buttonClasss:printBtnCss}),renderButtonIfNeeded({condition:canMultiInvoicePrint,btnmode:mode.MultiInvoice,iconClass:multiInvoiceIconClass,actionFunc:downBtnFunc,title:\"MultipleInvoices\",buttonClasss:printInvoiceBtnCss}),renderButtonIfNeeded({condition:otherBtn_1Func,btnmode:mode.otherBtn_1,iconClass:updateIconClass,actionFunc:otherBtn_1Func,title:\"Update\",buttonClasss:updateBtnCss}),renderButtonIfNeeded({condition:canDelete,btnmode:mode.isdelete,iconClass:deleteIconClass,actionFunc:deleteBodyfunc,dispatchAction:deleteActionFun,title:\"Delete\",buttonClasss:deltBtnCss,isDummyBtn:dummyDisable_Delete}),renderButtonIfNeeded({condition:canDeleteSelf,btnmode:mode.isdelete,iconClass:deleteIconClass,actionFunc:deleteBodyfunc,dispatchAction:deleteActionFun,title:\"Delete\",buttonClasss:deltBtnCss}),renderButtonIfNeeded({condition:canCopy,btnmode:mode.copy,iconClass:copyIconClass,actionFunc:copyBodyfunc,title:\"Copy\",buttonClasss:copyBtnCss}),renderButtonIfNeeded({condition:canOrderApproval,btnmode:mode.orderApproval,iconClass:orderApprovalIconClass,actionFunc:oderAprovalBtnFunc,title:\"Order Approval\",buttonClasss:makeBtnCss,isDummyBtn:dummyDisable_OrderApproval})]});};var isActionColunmHidden=!(userAccState.RoleAccess_IsEdit||userAccState.RoleAccess_IsPrint||userAccState.RoleAccess_IsMultipleInvoicePrint||userAccState.RoleAccess_IsView||userAccState.RoleAccess_IsDelete||userAccState.RoleAccess_IsDeleteSelf||userAccState.RoleAccess_IsEditSelf||makeBtnShow||oderAprovalBtnFunc);if(isActionColunmHidden)return null;return{text:\"Action\",dataField:\"\",formatExtraData:{listBtnLoading:listBtnLoading},formatter:renderActionButton};};// ************************* E-Way Bill Button *****************************************************\nexport var E_WayBill_ActionsButtonFunc=function E_WayBill_ActionsButtonFunc(_ref5){var dispatch=_ref5.dispatch,reducers=_ref5.reducers,e_WayBill_ActionsBtnFunc=_ref5.e_WayBill_ActionsBtnFunc,deleteName=_ref5.deleteName;var listBtnLoading=reducers.listBtnLoading;function Uploaded_EwayBillHandler(btnId,rowData){try{var config={btnId:btnId,RowId:rowData.id,UserID:loginUserID()};if(rowData.VehicleNo===null&&!(rowData.VehicleNo===\"\")&&e_WayBill_ActionsBtnFunc){e_WayBill_ActionsBtnFunc(rowData);}else{dispatch(Uploaded_EwayBillAction(config));}}catch(error){}}function Cancel_EwayBillHandler(_x2,_x3){return _Cancel_EwayBillHandler.apply(this,arguments);}function _Cancel_EwayBillHandler(){_Cancel_EwayBillHandler=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(btnId,rowData){var alertRepsponse;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return customAlert({Type:8,Message:\"Are you sure you want to Cancel EwayBill : \\\"\".concat(rowData[deleteName],\"\\\"\")});case 3:alertRepsponse=_context2.sent;if(alertRepsponse){dispatch(Cancel_EwayBillAction({btnId:btnId,RowId:rowData.id,UserID:loginUserID()}));}_context2.next=9;break;case 7:_context2.prev=7;_context2.t0=_context2[\"catch\"](0);case 9:case\"end\":return _context2.stop();}}},_callee2,null,[[0,7]]);}));return _Cancel_EwayBillHandler.apply(this,arguments);}function Print_EwayBillHander(btnId,rowData){var InvoiceUploads=rowData.InvoiceUploads;if(!(InvoiceUploads===undefined)&&InvoiceUploads.length>0){var pdfUrl=\"https://\".concat(InvoiceUploads[0].EwayBillUrl);var filename=\"EwayBill/\".concat(rowData.Customer,\"/\").concat(date_dmy_func(rowData.InvoiceDate));window.open(pdfUrl,filename);}}var getButtonClassName=function getButtonClassName(btnmode){if(btnmode===\"E-WayBill-Upload\"){return editBtnCss;}else if(btnmode===\"Cancel-E-WayBill\"){return deltBtnCss;}else if(btnmode===\"Print-E-WayBill\"){return printInvoiceBtnCss;}else{return\"\";}};var renderButtonIfNeeded=function renderButtonIfNeeded(_ref6){var condition=_ref6.condition,btnmode=_ref6.btnmode,iconClass=_ref6.iconClass,actionFunc=_ref6.actionFunc,title=_ref6.title,rowData=_ref6.rowData,isDummyBtn=_ref6.isDummyBtn;if(!condition&&!isDummyBtn)return null;if(!isDummyBtn){return/*#__PURE__*/_jsx(Button,{type:\"button\",id:\"btn-\".concat(btnmode,\"-\").concat(rowData.id),className:getButtonClassName(btnmode),title:title,onClick:function onClick(){if(!listBtnLoading){var btnId=\"btn-\".concat(btnmode,\"-\").concat(rowData.id);actionFunc(btnId,rowData);}},children:listBtnLoading===\"btn-\".concat(btnmode,\"-\").concat(rowData.id)?/*#__PURE__*/_jsx(Spinner,{style:{height:\"16px\",width:\"16px\"},color:\"white\"}):/*#__PURE__*/_jsx(\"i\",{className:iconClass})});}else{return/*#__PURE__*/_jsx(Button,{type:\"button\",id:\"btn-\".concat(btnmode,\"-\").concat(rowData.id),className:\"\".concat(getButtonClassName(btnmode),\" c_disableBtn\"),children:/*#__PURE__*/_jsx(\"i\",{className:iconClass})});}};return{text:\"E-Way Bill\",formatExtraData:{listBtnLoading:listBtnLoading},formatter:function formatter(__cell,rowData){var _rowData$InvoiceUploa,_rowData$InvoiceUploa2,_rowData$InvoiceUploa3;var canUpload=rowData.InvoiceUploads.length===0||((_rowData$InvoiceUploa=rowData.InvoiceUploads[0])===null||_rowData$InvoiceUploa===void 0?void 0:_rowData$InvoiceUploa.EwayBillNo)===null;var canCancel=!canUpload&&((_rowData$InvoiceUploa2=rowData.InvoiceUploads[0])===null||_rowData$InvoiceUploa2===void 0?void 0:_rowData$InvoiceUploa2.EwayBillIsCancel)===false;var canPrint=!canUpload&&((_rowData$InvoiceUploa3=rowData.InvoiceUploads[0])===null||_rowData$InvoiceUploa3===void 0?void 0:_rowData$InvoiceUploa3.EwayBillUrl)!==null;return/*#__PURE__*/_jsxs(\"div\",{id:\"ActionBtn\",children:[renderButtonIfNeeded({condition:canUpload,btnmode:\"E-WayBill-Upload\",iconClass:uploadIconClass,actionFunc:Uploaded_EwayBillHandler,title:\"E-WayBill Upload\",rowData:rowData,isDummyBtn:!canUpload}),renderButtonIfNeeded({condition:canCancel,btnmode:\"Cancel-E-WayBill\",iconClass:cancelIconClass,actionFunc:Cancel_EwayBillHandler,title:\"Cancel E-WayBill\",rowData:rowData,isDummyBtn:!canCancel}),renderButtonIfNeeded({condition:canPrint,btnmode:\"Print-E-WayBill\",iconClass:printIconClass,actionFunc:Print_EwayBillHander,title:\"Print E-WayBill\",rowData:rowData,isDummyBtn:!canPrint})]});}};};// ************************* E-Invoice Button *****************************************************\nexport var E_Invoice_ActionsButtonFunc=function E_Invoice_ActionsButtonFunc(_ref7){var dispatch=_ref7.dispatch,reducers=_ref7.reducers,deleteName=_ref7.deleteName;var listBtnLoading=reducers.listBtnLoading;function Uploaded_EInvoiceHandler(btnId,rowData){try{dispatch(Uploaded_EInvoiceAction({btnId:btnId,RowId:rowData.id,UserID:loginUserID()}));}catch(error){}}function Cancel_EInvoiceHandler(_x4,_x5){return _Cancel_EInvoiceHandler.apply(this,arguments);}function _Cancel_EInvoiceHandler(){_Cancel_EInvoiceHandler=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(btnId,rowData){var alertRepsponse;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.prev=0;_context3.next=3;return customAlert({Type:8,Message:\"Are you sure you want to Cancel EInvoice : \\\"\".concat(rowData[deleteName],\"\\\"\")});case 3:alertRepsponse=_context3.sent;if(alertRepsponse){dispatch(Cancel_EInvoiceAction({btnId:btnId,RowId:rowData.id,UserID:loginUserID()}));}_context3.next=9;break;case 7:_context3.prev=7;_context3.t0=_context3[\"catch\"](0);case 9:case\"end\":return _context3.stop();}}},_callee3,null,[[0,7]]);}));return _Cancel_EInvoiceHandler.apply(this,arguments);}function Print_InvoiceHander(btnId,rowData){var InvoiceUploads=rowData.InvoiceUploads;if(!(InvoiceUploads===undefined)&&InvoiceUploads.length>0){var pdfUrl=InvoiceUploads[0].EInvoicePdf;window.open(pdfUrl,\"_blank\");}}var getButtonClassName=function getButtonClassName(btnmode){if(btnmode===\"E-Invoice-Upload\"){return editBtnCss;}else if(btnmode===\"Cancel-E-Invoice\"){return deltBtnCss;}else if(btnmode===\"Print-E-Invoice\"){return printInvoiceBtnCss;}return\"\";};var renderButtonIfNeeded=function renderButtonIfNeeded(_ref8){var condition=_ref8.condition,btnmode=_ref8.btnmode,iconClass=_ref8.iconClass,actionFunc=_ref8.actionFunc,title=_ref8.title,rowData=_ref8.rowData,isDummyBtn=_ref8.isDummyBtn;if(!condition&&!isDummyBtn)return null;if(!isDummyBtn){return/*#__PURE__*/_jsx(Button,{type:\"button\",id:\"btn-\".concat(btnmode,\"-\").concat(rowData.id),className:getButtonClassName(btnmode),title:title,onClick:function onClick(){if(!listBtnLoading){var btnId=\"btn-\".concat(btnmode,\"-\").concat(rowData.id);actionFunc(btnId,rowData);}},children:listBtnLoading===\"btn-\".concat(btnmode,\"-\").concat(rowData.id)?/*#__PURE__*/_jsx(Spinner,{style:{height:\"16px\",width:\"16px\"},color:\"white\"}):/*#__PURE__*/_jsx(\"i\",{className:iconClass})});}else{return/*#__PURE__*/_jsx(Button,{type:\"button\",id:\"btn-\".concat(btnmode,\"-\").concat(rowData.id),className:\"\".concat(getButtonClassName(btnmode),\" c_disableBtn\"),children:/*#__PURE__*/_jsx(\"i\",{className:iconClass})});}};if(!(loginSystemSetting().EInvoiceApplicable===\"1\")){return null;// Return null if the column should be hidden\n}return{text:\"E-Invoice\",formatExtraData:{listBtnLoading:listBtnLoading},formatter:function formatter(__cell,rowData){var _rowData$InvoiceUploa4,_rowData$InvoiceUploa5,_rowData$InvoiceUploa6;var canUpload=rowData.InvoiceUploads.length===0||((_rowData$InvoiceUploa4=rowData.InvoiceUploads[0])===null||_rowData$InvoiceUploa4===void 0?void 0:_rowData$InvoiceUploa4.Irn)===null;var canCancel=!canUpload&&((_rowData$InvoiceUploa5=rowData.InvoiceUploads[0])===null||_rowData$InvoiceUploa5===void 0?void 0:_rowData$InvoiceUploa5.EInvoiceIsCancel)===false;var canPrint=!canUpload&&((_rowData$InvoiceUploa6=rowData.InvoiceUploads[0])===null||_rowData$InvoiceUploa6===void 0?void 0:_rowData$InvoiceUploa6.EInvoicePdf)!==null;return/*#__PURE__*/_jsxs(\"div\",{id:\"ActionBtn\",children:[renderButtonIfNeeded({condition:canUpload,btnmode:\"E-Invoice-Upload\",iconClass:uploadIconClass,actionFunc:Uploaded_EInvoiceHandler,title:\"E-Invoice Upload\",rowData:rowData,isDummyBtn:!canUpload}),renderButtonIfNeeded({condition:canCancel,btnmode:\"Cancel-E-Invoice\",iconClass:cancelIconClass,actionFunc:Cancel_EInvoiceHandler,title:\"Cancel E-Invoice\",rowData:rowData,isDummyBtn:!canCancel}),renderButtonIfNeeded({condition:canPrint,btnmode:\"Print-E-Invoice\",iconClass:printIconClass,actionFunc:Print_InvoiceHander,title:\"Print E-Invoice\",rowData:rowData,isDummyBtn:!canPrint})]});}};};","map":{"version":3,"names":["Button","Spinner","mode","customAlert","date_dmy_func","loginSystemSetting","loginUserID","Cancel_EInvoiceAction","Cancel_EwayBillAction","Uploaded_EInvoiceAction","Uploaded_EwayBillAction","editBtnCss","editSelfBtnCss","vieBtnCss","copyBtnCss","updateBtnCss","deltBtnCss","makeBtnCss","printBtnCss","printInvoiceBtnCss","editIconClass","viewIconClass","approvalviewIconClass","makeBtnIconClass","printIconClass","multiInvoiceIconClass","updateIconClass","deleteIconClass","copyIconClass","orderApprovalIconClass","uploadIconClass","cancelIconClass","listPageActionsButtonFunc","props","dispatch","history","userAccState","editActionFun","deleteActionFun","ButtonMsgLable","deleteName","downBtnFunc","editBodyfunc","deleteBodyfunc","copyBodyfunc","viewApprovalBtnFunc","otherBtn_1Func","makeBtnFunc","pageMode","makeBtnName","makeBtnShow","oderAprovalBtnFunc","listBtnLoading","reducers","userCreated","subPageMode","location","pathname","makeButtonHandler","rowData","btnId","arr","push","renderButtonOnClick","btnmode","actionFunc","dispatchAction","config","editId","id","viewId","deleteId","isdelete","Type","Message","alertRepsponse","renderButtonWithSpinner","spinnerColor","iconClass","style","makeBtn","marginLeft","marginRight","height","width","renderActionButton","__cell","__key","formatExtra","forceEditHide","forceDeleteHide","forceHideOrderAprovalBtn","forceMakeBtnHide","hasSelect","hasRole","role","canEdit","canEditSelf","CreatedBy","canView","canApprovalView","canPrint","canMultiInvoicePrint","canDelete","canDeleteSelf","canCopy","canMakeBtn","modeSTPList","canOrderApproval","dummyDisable_OrderApproval","dummyDisable_Edit","RoleAccess_IsEdit","RoleAccess_IsEditSelf","dummyDisable_Delete","dummyDisable_MakeBtn","renderButtonIfNeeded","condition","title","buttonClasss","isDummyBtn","edit","view","viewApproval","download","MultiInvoice","otherBtn_1","copy","orderApproval","isActionColunmHidden","RoleAccess_IsPrint","RoleAccess_IsMultipleInvoicePrint","RoleAccess_IsView","RoleAccess_IsDelete","RoleAccess_IsDeleteSelf","text","dataField","formatExtraData","formatter","E_WayBill_ActionsButtonFunc","e_WayBill_ActionsBtnFunc","Uploaded_EwayBillHandler","RowId","UserID","VehicleNo","error","Cancel_EwayBillHandler","Print_EwayBillHander","InvoiceUploads","undefined","length","pdfUrl","EwayBillUrl","filename","Customer","InvoiceDate","window","open","getButtonClassName","canUpload","EwayBillNo","canCancel","EwayBillIsCancel","E_Invoice_ActionsButtonFunc","Uploaded_EInvoiceHandler","Cancel_EInvoiceHandler","Print_InvoiceHander","EInvoicePdf","EInvoiceApplicable","Irn","EInvoiceIsCancel"],"sources":["D:/Rohit/Git projects/Manthan/src/components/Common/ListActionsButtons.js"],"sourcesContent":["import { Button, Spinner } from \"reactstrap\";\r\nimport * as mode from \"../../routes/PageMode\"\r\nimport { customAlert } from \"../../CustomAlert/ConfirmDialog\";\r\nimport { date_dmy_func, loginSystemSetting, loginUserID } from \"./CommonFunction\"\r\nimport '../../assets/searchBox/searchBox.scss'\r\nimport { Cancel_EInvoiceAction, Cancel_EwayBillAction, Uploaded_EInvoiceAction, Uploaded_EwayBillAction } from \"../../store/actions\";\r\n\r\n//******************** button class ******************************\r\n\r\nconst editBtnCss = \"badge badge-soft-success font-size-12 btn btn-success waves-effect waves-light w-xxs border border-light\"\r\nconst editSelfBtnCss = \"badge badge-soft-primary font-size-12 btn c_btn-primary waves-effect waves-light w-xxs border border-light\"\r\nconst vieBtnCss = \"badge badge-soft-primary font-size-12 btn c_btn-primary waves-effect waves-light w-xxs border border-light\"\r\nconst copyBtnCss = \"badge badge-soft-primary font-size-12 btn c_btn-primary waves-effect waves-light w-xxs border border-light\"\r\nconst updateBtnCss = \"badge badge-soft-info font-size-12 btn btn-info waves-effect waves-light w-xxs border border-light\"\r\nexport const deltBtnCss = \"badge badge-soft-danger font-size-12 btn btn-danger waves-effect waves-light w-xxs border border-light\"\r\nexport const makeBtnCss = \"badge badge-soft-info font-size-12 btn btn-info waves-effect waves-light w-xxs border border-light \"\r\nexport const printBtnCss = \"badge badge-soft-primary font-size-12 btn c_btn-primary waves-effect waves-light w-xxs border border-light \"\r\nconst printInvoiceBtnCss = \"badge badge-soft-info font-size-12 btn btn-info waves-effect waves-light w-xxs border border-light\"\r\n\r\n//******************** icon class ******************************\r\nconst editIconClass = \"mdi mdi-pencil font-size-16\";\r\nconst viewIconClass = \"bx bxs-show font-size-16\";\r\nconst approvalviewIconClass = \" far fa-check-circle font-size-16\";\r\nconst makeBtnIconClass = \"fas fa-file-invoice font-size-16\";\r\nconst printIconClass = \"bx bx-printer font-size-16\";\r\nconst multiInvoiceIconClass = \"fas fa-file-download\";\r\nconst updateIconClass = \"mdi mdi-file-table-box-multiple font-size-16\";\r\nconst deleteIconClass = \"mdi mdi-delete font-size-16\";\r\nconst copyIconClass = \"bx bxs-copy font-size-16\";\r\nconst orderApprovalIconClass = \"bx bx-check-shield font-size-20\";\r\nconst uploadIconClass = \"bx bx-upload font-size-14\";\r\nconst cancelIconClass = \"mdi mdi-cancel font-size-14\";\r\n\r\n\r\n\r\nexport const listPageActionsButtonFunc = (props) => {\r\n    const {\r\n        dispatch,\r\n        history,\r\n        userAccState,\r\n        editActionFun,\r\n        deleteActionFun,\r\n        ButtonMsgLable,\r\n        deleteName,\r\n        downBtnFunc,\r\n        editBodyfunc,\r\n        deleteBodyfunc,\r\n        copyBodyfunc,\r\n        viewApprovalBtnFunc,\r\n        otherBtn_1Func,\r\n        makeBtnFunc = () => { },\r\n        pageMode,\r\n        makeBtnName,\r\n        makeBtnShow = false,\r\n        oderAprovalBtnFunc,\r\n    } = props;\r\n\r\n    const { listBtnLoading } = props.reducers;\r\n\r\n    const userCreated = loginUserID();\r\n    const subPageMode = history.location.pathname;\r\n\r\n    const makeButtonHandler = ({ rowData, btnId }) => {\r\n        rowData[\"hasSelect\"] = true;\r\n        let arr = [];\r\n        arr.push(rowData);\r\n        makeBtnFunc(arr, btnId);\r\n    };\r\n\r\n    const renderButtonOnClick = async ({ rowData, btnmode, btnId, actionFunc, dispatchAction }) => {\r\n\r\n        try {\r\n            const config = {\r\n                editId: rowData.id,\r\n                viewId: rowData.id,\r\n                deleteId: rowData.id,\r\n                rowData,\r\n                btnmode,\r\n                subPageMode,\r\n                btnId\r\n            };\r\n            if (actionFunc) {\r\n                actionFunc({ ...config });\r\n            } else {\r\n                if (btnmode === mode.isdelete) {\r\n                    let alertRepsponse = await customAlert({\r\n                        Type: 8,\r\n                        Message: `Are you sure you want to delete this ${ButtonMsgLable} : \"${rowData[deleteName]}\"`,\r\n                    })\r\n                    if (alertRepsponse) {\r\n                        dispatch(dispatchAction({ ...config }));\r\n                    }\r\n                } else {\r\n                    dispatch(dispatchAction({ ...config }));\r\n                }\r\n            }\r\n        } catch (error) {\r\n            customAlert({\r\n                Type: 3,\r\n                Message: \"Action Not defined\",\r\n            });\r\n        }\r\n    };\r\n\r\n    const renderButtonWithSpinner = (btnmode, spinnerColor, iconClass) => {\r\n        const style = (btnmode === mode.makeBtn) ? { marginLeft: \"5px\", marginRight: \"6px\" } : {};\r\n\r\n        return (\r\n            <>\r\n                {listBtnLoading === btnmode ? (\r\n                    <Spinner style={{ height: \"16px\", width: \"16px\" }} color={spinnerColor} />\r\n                ) : (\r\n                    <i className={iconClass} style={style}></i>\r\n                )}\r\n            </>\r\n        );\r\n    };\r\n\r\n    const renderActionButton = (__cell, rowData, __key, formatExtra) => {\r\n        const { listBtnLoading } = formatExtra;\r\n        const {\r\n            forceEditHide,\r\n            forceDeleteHide,\r\n            forceHideOrderAprovalBtn,\r\n            forceMakeBtnHide,\r\n        } = rowData;\r\n\r\n        rowData.hasSelect = false;\r\n\r\n        const hasRole = (role) => userAccState[role];\r\n\r\n        const canEdit = hasRole(\"RoleAccess_IsEdit\") && !forceEditHide;\r\n        const canEditSelf = hasRole(\"RoleAccess_IsEditSelf\") && !canEdit && rowData.CreatedBy === userCreated && !forceEditHide;\r\n        const canView = hasRole(\"RoleAccess_IsView\") && !canEdit && !canEditSelf && !viewApprovalBtnFunc;\r\n        const canApprovalView = hasRole(\"RoleAccess_IsView\") && !canEdit && !canEditSelf && viewApprovalBtnFunc;\r\n        const canPrint = hasRole(\"RoleAccess_IsPrint\");\r\n        const canMultiInvoicePrint = hasRole(\"RoleAccess_IsMultipleInvoicePrint\");\r\n        const canDelete = hasRole(\"RoleAccess_IsDelete\") && !forceDeleteHide;\r\n        const canDeleteSelf = hasRole(\"RoleAccess_IsDeleteSelf\") && !canDelete && rowData.CreatedBy === userCreated && !forceDeleteHide;\r\n        const canCopy = hasRole(\"RoleAccess_IsSave\") && hasRole(\"RoleAccess_IsCopy\");\r\n        const canMakeBtn = pageMode === mode.modeSTPList && makeBtnShow && !forceMakeBtnHide;\r\n        const canOrderApproval = oderAprovalBtnFunc && !forceHideOrderAprovalBtn;\r\n\r\n        const dummyDisable_OrderApproval = !canOrderApproval && oderAprovalBtnFunc;\r\n        const dummyDisable_Edit = (userAccState.RoleAccess_IsEdit || userAccState.RoleAccess_IsEditSelf) && !canEdit && !canEditSelf && !canView && !viewApprovalBtnFunc;\r\n        const dummyDisable_Delete = (hasRole(\"RoleAccess_IsDelete\") || hasRole(\"RoleAccess_IsDeleteSelf\")) && !canDelete && !canDeleteSelf;\r\n        const dummyDisable_MakeBtn = !canMakeBtn && makeBtnShow;\r\n\r\n\r\n        const renderButtonIfNeeded = ({ condition, btnmode, iconClass, actionFunc, dispatchAction, title, buttonClasss, isDummyBtn }) => {\r\n            if (!condition && !isDummyBtn) return null;\r\n            if (!isDummyBtn) {\r\n\r\n                return (\r\n                    <Button\r\n                        type=\"button\"\r\n                        id={`btn-${btnmode}-${rowData.id}`}\r\n                        className={buttonClasss}\r\n                        title={`${title} ${ButtonMsgLable}`}\r\n                        // disabled={listBtnLoading}\r\n                        onClick={() => {\r\n                            if (!listBtnLoading) {\r\n                                renderButtonOnClick({\r\n                                    rowData: rowData,\r\n                                    btnmode: mode[btnmode],\r\n                                    btnId: `btn-${btnmode}-${rowData.id}`,\r\n                                    actionFunc: actionFunc,\r\n                                    dispatchAction: dispatchAction\r\n                                })\r\n                            }\r\n                        }\r\n                        }\r\n                    >\r\n                        {renderButtonWithSpinner(`btn-${btnmode}-${rowData.id}`, \"white\", iconClass)}\r\n                    </Button>\r\n                );\r\n            }\r\n            else {\r\n                return (\r\n                    < Button\r\n                        type=\"button\"\r\n                        id={`btn-${btnmode}-${rowData.id}`}\r\n                        className={`${buttonClasss} c_disableBtn`}\r\n                    >\r\n                        <i className={iconClass} ></i>\r\n                    </Button >\r\n                )\r\n            }\r\n        };\r\n\r\n        return (\r\n            <div id=\"ActionBtn\">\r\n                {renderButtonIfNeeded({\r\n                    condition: canEdit,\r\n                    btnmode: mode.edit,\r\n                    iconClass: editIconClass,\r\n                    actionFunc: editBodyfunc,\r\n                    dispatchAction: editActionFun,\r\n                    title: \"Edit\",\r\n                    buttonClasss: editBtnCss,\r\n                    isDummyBtn: dummyDisable_Edit\r\n                })}\r\n                {renderButtonIfNeeded({\r\n                    condition: canEditSelf,\r\n                    btnmode: mode.edit,\r\n                    iconClass: editIconClass,\r\n                    actionFunc: editBodyfunc,\r\n                    dispatchAction: editActionFun,\r\n                    title: \"EditSelf\",\r\n                    buttonClasss: editSelfBtnCss,\r\n                })}\r\n                {renderButtonIfNeeded({\r\n                    condition: canView,\r\n                    btnmode: mode.view,\r\n                    iconClass: viewIconClass,\r\n                    dispatchAction: editActionFun,\r\n                    title: \"View\",\r\n                    buttonClasss: vieBtnCss,\r\n                })}\r\n\r\n                {renderButtonIfNeeded({\r\n                    condition: canApprovalView,\r\n                    btnmode: mode.viewApproval,\r\n                    iconClass: approvalviewIconClass,\r\n                    actionFunc: viewApprovalBtnFunc,\r\n                    title: \"Approval View\",\r\n                    buttonClasss: vieBtnCss,\r\n                })}\r\n\r\n\r\n\r\n                {renderButtonIfNeeded({\r\n                    condition: canMakeBtn,\r\n                    btnmode: mode.makeBtn,\r\n                    iconClass: makeBtnIconClass,\r\n                    actionFunc: makeButtonHandler,\r\n                    title: makeBtnName,\r\n                    buttonClasss: makeBtnCss,\r\n                    isDummyBtn: dummyDisable_MakeBtn\r\n                })}\r\n\r\n                {renderButtonIfNeeded({\r\n                    condition: canPrint,\r\n                    btnmode: mode.download,\r\n                    iconClass: printIconClass,\r\n                    actionFunc: downBtnFunc,\r\n                    title: \"Print\",\r\n                    buttonClasss: printBtnCss,\r\n                })}\r\n                {renderButtonIfNeeded({\r\n                    condition: canMultiInvoicePrint,\r\n                    btnmode: mode.MultiInvoice,\r\n                    iconClass: multiInvoiceIconClass,\r\n                    actionFunc: downBtnFunc,\r\n                    title: \"MultipleInvoices\",\r\n                    buttonClasss: printInvoiceBtnCss,\r\n                })}\r\n                {renderButtonIfNeeded({\r\n                    condition: otherBtn_1Func,\r\n                    btnmode: mode.otherBtn_1,\r\n                    iconClass: updateIconClass,\r\n                    actionFunc: otherBtn_1Func,\r\n                    title: \"Update\",\r\n                    buttonClasss: updateBtnCss,\r\n                })}\r\n                {renderButtonIfNeeded({\r\n                    condition: canDelete,\r\n                    btnmode: mode.isdelete,\r\n                    iconClass: deleteIconClass,\r\n                    actionFunc: deleteBodyfunc,\r\n                    dispatchAction: deleteActionFun,\r\n                    title: \"Delete\",\r\n                    buttonClasss: deltBtnCss,\r\n                    isDummyBtn: dummyDisable_Delete\r\n\r\n                })}\r\n                {renderButtonIfNeeded({\r\n                    condition: canDeleteSelf,\r\n                    btnmode: mode.isdelete,\r\n                    iconClass: deleteIconClass,\r\n                    actionFunc: deleteBodyfunc,\r\n                    dispatchAction: deleteActionFun,\r\n                    title: \"Delete\",\r\n                    buttonClasss: deltBtnCss,\r\n                })}\r\n                {renderButtonIfNeeded({\r\n                    condition: canCopy,\r\n                    btnmode: mode.copy,\r\n                    iconClass: copyIconClass,\r\n                    actionFunc: copyBodyfunc,\r\n                    title: \"Copy\",\r\n                    buttonClasss: copyBtnCss,\r\n                })}\r\n                {renderButtonIfNeeded({\r\n                    condition: canOrderApproval,\r\n                    btnmode: mode.orderApproval,\r\n                    iconClass: orderApprovalIconClass,\r\n                    actionFunc: oderAprovalBtnFunc,\r\n                    title: \"Order Approval\",\r\n                    buttonClasss: makeBtnCss,\r\n                    isDummyBtn: dummyDisable_OrderApproval\r\n                })}\r\n            </div>\r\n        );\r\n    };\r\n    const isActionColunmHidden = !(\r\n        userAccState.RoleAccess_IsEdit ||\r\n        userAccState.RoleAccess_IsPrint ||\r\n        userAccState.RoleAccess_IsMultipleInvoicePrint ||\r\n        userAccState.RoleAccess_IsView ||\r\n        userAccState.RoleAccess_IsDelete ||\r\n        userAccState.RoleAccess_IsDeleteSelf ||\r\n        userAccState.RoleAccess_IsEditSelf ||\r\n        makeBtnShow ||\r\n        oderAprovalBtnFunc\r\n    );\r\n    if (isActionColunmHidden) return null;\r\n    return {\r\n        text: \"Action\",\r\n        dataField: \"\",\r\n        formatExtraData: { listBtnLoading },\r\n        formatter: renderActionButton,\r\n    };\r\n};\r\n\r\n// ************************* E-Way Bill Button *****************************************************\r\nexport const E_WayBill_ActionsButtonFunc = ({ dispatch, reducers, e_WayBill_ActionsBtnFunc, deleteName }) => {\r\n\r\n    const { listBtnLoading } = reducers;\r\n\r\n    function Uploaded_EwayBillHandler(btnId, rowData) {\r\n        try {\r\n\r\n            let config = { btnId, RowId: rowData.id, UserID: loginUserID() };\r\n            if ((rowData.VehicleNo === null) && !(rowData.VehicleNo === \"\") && (e_WayBill_ActionsBtnFunc)) {\r\n                e_WayBill_ActionsBtnFunc(rowData)\r\n            }\r\n            else {\r\n                dispatch(Uploaded_EwayBillAction(config));\r\n            }\r\n        } catch (error) { }\r\n    }\r\n\r\n    async function Cancel_EwayBillHandler(btnId, rowData) {\r\n        try {\r\n            let alertRepsponse = await customAlert({\r\n                Type: 8,\r\n                Message: `Are you sure you want to Cancel EwayBill : \"${rowData[deleteName]}\"`,\r\n            })\r\n            if (alertRepsponse) {\r\n                dispatch(Cancel_EwayBillAction({ btnId, RowId: rowData.id, UserID: loginUserID() }));\r\n            }\r\n\r\n        } catch (error) { }\r\n    }\r\n\r\n    function Print_EwayBillHander(btnId, rowData) {\r\n        const { InvoiceUploads } = rowData;\r\n        if (!(InvoiceUploads === undefined) && InvoiceUploads.length > 0) {\r\n            const pdfUrl = `https://${InvoiceUploads[0].EwayBillUrl}`;\r\n            let filename = `EwayBill/${rowData.Customer}/${date_dmy_func(rowData.InvoiceDate)}`;\r\n            window.open(pdfUrl, filename);\r\n        }\r\n    }\r\n\r\n    const getButtonClassName = (btnmode) => {\r\n        if (btnmode === \"E-WayBill-Upload\") {\r\n            return editBtnCss;\r\n        } else if (btnmode === \"Cancel-E-WayBill\") {\r\n            return deltBtnCss;\r\n        } else if (btnmode === \"Print-E-WayBill\") {\r\n            return printInvoiceBtnCss;\r\n        } else {\r\n            return \"\";\r\n        }\r\n    };\r\n\r\n    const renderButtonIfNeeded = ({ condition, btnmode, iconClass, actionFunc, title, rowData, isDummyBtn }) => {\r\n        if (!condition && !isDummyBtn) return null;\r\n        if (!isDummyBtn) {\r\n            return (\r\n                <Button\r\n                    type=\"button\"\r\n                    id={`btn-${btnmode}-${rowData.id}`}\r\n                    className={getButtonClassName(btnmode)}\r\n                    title={title}\r\n                    onClick={() => {\r\n                        if (!listBtnLoading) {\r\n                            let btnId = `btn-${btnmode}-${rowData.id}`;\r\n                            actionFunc(btnId, rowData);\r\n                        }\r\n                    }\r\n                    }\r\n                >\r\n                    {listBtnLoading === `btn-${btnmode}-${rowData.id}` ? (\r\n                        <Spinner style={{ height: \"16px\", width: \"16px\" }} color=\"white\" />\r\n                    ) : (\r\n                        <i className={iconClass}></i>\r\n                    )}\r\n                </Button>\r\n            );\r\n        }\r\n        else {\r\n            return (\r\n                < Button\r\n                    type=\"button\"\r\n                    id={`btn-${btnmode}-${rowData.id}`}\r\n                    className={`${getButtonClassName(btnmode)} c_disableBtn`}\r\n                >\r\n                    <i className={iconClass} ></i>\r\n                </Button >\r\n            )\r\n        }\r\n    };\r\n\r\n    return {\r\n        text: \"E-Way Bill\",\r\n        formatExtraData: { listBtnLoading },\r\n        formatter: (__cell, rowData,) => {\r\n\r\n            const canUpload = ((rowData.InvoiceUploads.length === 0) || (rowData.InvoiceUploads[0]?.EwayBillNo === null));\r\n            const canCancel = (!canUpload && (rowData.InvoiceUploads[0]?.EwayBillIsCancel === false));\r\n            const canPrint = (!canUpload && (rowData.InvoiceUploads[0]?.EwayBillUrl !== null));\r\n\r\n            return (\r\n                <div id=\"ActionBtn\">\r\n                    {renderButtonIfNeeded({\r\n                        condition: canUpload,\r\n                        btnmode: \"E-WayBill-Upload\",\r\n                        iconClass: uploadIconClass,\r\n                        actionFunc: Uploaded_EwayBillHandler,\r\n                        title: \"E-WayBill Upload\",\r\n                        rowData: rowData,\r\n                        isDummyBtn: !canUpload\r\n                    })}\r\n\r\n                    {renderButtonIfNeeded({\r\n                        condition: canCancel,\r\n                        btnmode: \"Cancel-E-WayBill\",\r\n                        iconClass: cancelIconClass,\r\n                        actionFunc: Cancel_EwayBillHandler,\r\n                        title: \"Cancel E-WayBill\",\r\n                        rowData: rowData,\r\n                        isDummyBtn: !canCancel\r\n                    })}\r\n\r\n                    {renderButtonIfNeeded({\r\n                        condition: canPrint,\r\n                        btnmode: \"Print-E-WayBill\",\r\n                        iconClass: printIconClass,\r\n                        actionFunc: Print_EwayBillHander,\r\n                        title: \"Print E-WayBill\",\r\n                        rowData: rowData,\r\n                        isDummyBtn: !canPrint\r\n\r\n                    })}\r\n                </div>\r\n            );\r\n        },\r\n    };\r\n};\r\n\r\n// ************************* E-Invoice Button *****************************************************\r\n\r\nexport const E_Invoice_ActionsButtonFunc = ({ dispatch, reducers, deleteName }) => {\r\n    const { listBtnLoading } = reducers;\r\n\r\n    function Uploaded_EInvoiceHandler(btnId, rowData) {\r\n        try {\r\n            dispatch(Uploaded_EInvoiceAction({ btnId, RowId: rowData.id, UserID: loginUserID() }));\r\n        } catch (error) { }\r\n    }\r\n\r\n    async function Cancel_EInvoiceHandler(btnId, rowData) {\r\n        try {\r\n            let alertRepsponse = await customAlert({\r\n                Type: 8,\r\n                Message: `Are you sure you want to Cancel EInvoice : \"${rowData[deleteName]}\"`,\r\n            })\r\n            if (alertRepsponse) {\r\n                dispatch(Cancel_EInvoiceAction({ btnId, RowId: rowData.id, UserID: loginUserID() }));\r\n            }\r\n\r\n        } catch (error) { }\r\n    }\r\n\r\n    function Print_InvoiceHander(btnId, rowData) {\r\n        const { InvoiceUploads } = rowData;\r\n        if (!(InvoiceUploads === undefined) && InvoiceUploads.length > 0) {\r\n            const pdfUrl = InvoiceUploads[0].EInvoicePdf;\r\n            window.open(pdfUrl, \"_blank\");\r\n        }\r\n    }\r\n\r\n    const getButtonClassName = (btnmode) => {\r\n        if (btnmode === \"E-Invoice-Upload\") {\r\n            return editBtnCss;\r\n        } else if (btnmode === \"Cancel-E-Invoice\") {\r\n            return deltBtnCss;\r\n        } else if (btnmode === \"Print-E-Invoice\") {\r\n            return printInvoiceBtnCss;\r\n        }\r\n        return \"\";\r\n    };\r\n\r\n    const renderButtonIfNeeded = ({ condition, btnmode, iconClass, actionFunc, title, rowData, isDummyBtn }) => {\r\n        if (!condition && !isDummyBtn) return null;\r\n        if (!isDummyBtn) {\r\n            return (\r\n                <Button\r\n                    type=\"button\"\r\n                    id={`btn-${btnmode}-${rowData.id}`}\r\n                    className={getButtonClassName(btnmode)}\r\n                    title={title}\r\n                    onClick={() => {\r\n                        if (!listBtnLoading) {\r\n                            let btnId = `btn-${btnmode}-${rowData.id}`;\r\n                            actionFunc(btnId, rowData);\r\n                        }\r\n                    }\r\n                    }\r\n                >\r\n                    {listBtnLoading === `btn-${btnmode}-${rowData.id}` ? (\r\n                        <Spinner style={{ height: \"16px\", width: \"16px\" }} color=\"white\" />\r\n                    ) : (\r\n                        <i className={iconClass}></i>\r\n                    )}\r\n                </Button>\r\n            );\r\n        }\r\n        else {\r\n            return (\r\n                < Button\r\n                    type=\"button\"\r\n                    id={`btn-${btnmode}-${rowData.id}`}\r\n                    className={`${getButtonClassName(btnmode)} c_disableBtn`}\r\n                >\r\n                    <i className={iconClass} ></i>\r\n                </Button >\r\n            )\r\n        }\r\n    };\r\n\r\n    if (!(loginSystemSetting().EInvoiceApplicable === \"1\")) {\r\n        return null; // Return null if the column should be hidden\r\n    }\r\n    return {\r\n        text: \"E-Invoice\",\r\n        formatExtraData: { listBtnLoading },\r\n        formatter: (__cell, rowData) => {\r\n         \r\n            const canUpload = ((rowData.InvoiceUploads.length === 0) || (rowData.InvoiceUploads[0]?.Irn === null));\r\n            const canCancel = ((!canUpload) && (rowData.InvoiceUploads[0]?.EInvoiceIsCancel === false));\r\n            const canPrint = ((!canUpload ) && (rowData.InvoiceUploads[0]?.EInvoicePdf !== null));\r\n\r\n            return (\r\n                <div id=\"ActionBtn\" >\r\n                    {renderButtonIfNeeded({\r\n                        condition: canUpload,\r\n                        btnmode: \"E-Invoice-Upload\",\r\n                        iconClass: uploadIconClass,\r\n                        actionFunc: Uploaded_EInvoiceHandler,\r\n                        title: \"E-Invoice Upload\",\r\n                        rowData: rowData,\r\n                        isDummyBtn: !canUpload,\r\n                    })}\r\n\r\n                    {renderButtonIfNeeded({\r\n                        condition: canCancel,\r\n                        btnmode: \"Cancel-E-Invoice\",\r\n                        iconClass: cancelIconClass,\r\n                        actionFunc: Cancel_EInvoiceHandler,\r\n                        title: \"Cancel E-Invoice\",\r\n                        rowData: rowData,\r\n                        isDummyBtn: !canCancel,\r\n                    })}\r\n\r\n                    {renderButtonIfNeeded({\r\n                        condition: canPrint,\r\n                        btnmode: \"Print-E-Invoice\",\r\n                        iconClass: printIconClass,\r\n                        actionFunc: Print_InvoiceHander,\r\n                        title: \"Print E-Invoice\",\r\n                        rowData: rowData,\r\n                        isDummyBtn: !canPrint,\r\n                    })}\r\n                </div>\r\n            );\r\n        },\r\n    };\r\n};\r\n\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}