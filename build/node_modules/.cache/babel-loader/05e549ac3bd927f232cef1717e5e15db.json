{"ast":null,"code":"import _defineProperty from\"D:/Rohit/Git projects/Manthan/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _regeneratorRuntime from\"D:/Rohit/Git projects/Manthan/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"D:/Rohit/Git projects/Manthan/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _objectSpread from\"D:/Rohit/Git projects/Manthan/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"D:/Rohit/Git projects/Manthan/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import{Col,FormGroup,Input,Label,Row,Table}from\"reactstrap\";import{MetaTags}from\"react-meta-tags\";import{BreadcrumbShowCountlabel,commonPageFieldSuccess,getpdfReportdata}from\"../../../store/actions\";import{useDispatch,useSelector}from\"react-redux\";import{commonPageField}from\"../../../store/actions\";import{useHistory}from\"react-router-dom\";import{comAddPageFieldFunc,formValid,initialFiledFunc,onChangeDate,onChangeSelect}from\"../../../components/Common/validationFunction\";import Select from\"react-select\";import{GotoInvoiceBtn,SaveAndDownloadPDF,SaveButton}from\"../../../components/Common/CommonButton\";import{updateBOMListSuccess}from\"../../../store/Production/BOMRedux/action\";import*as mode from\"../../../routes/PageMode\";import*as pageId from\"../../../routes/allPageID\";import*as url from\"../../../routes/route_url\";import{GoButtonForinvoiceAdd,GoButtonForinvoiceAddSuccess,Uploaded_EInvoiceAction,invoiceSaveAction,invoiceSaveActionSuccess,makeIB_InvoiceActionSuccess}from\"../../../store/Sales/Invoice/action\";import{GetVenderSupplierCustomer,GetVenderSupplierCustomerSuccess}from\"../../../store/CommonAPI/SupplierRedux/actions\";import{customAlert}from\"../../../CustomAlert/ConfirmDialog\";import{invoice_discountCalculate_Func,innerStockCaculation,orderQtyOnChange,orderQtyUnit_SelectOnchange,stockQtyOnChange,settingBaseRoundOffAmountFunc}from\"./invoiceCaculations\";import\"./invoice.scss\";import*as _cfunc from\"../../../components/Common/CommonFunction\";import{CInput,C_DatePicker,decimalRegx}from\"../../../CustomValidateForm\";import{getVehicleList,getVehicleListSuccess}from\"../../../store/Administrator/VehicleRedux/action\";import{Invoice_1_Edit_API_Singel_Get}from\"../../../helpers/backend_helper\";import*as report from'../../../Reports/ReportIndex';import CustomTable from\"../../../CustomTable2\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Invoice=function Invoice(props){var dispatch=useDispatch();var history=useHistory();var currentDate_ymd=_cfunc.date_ymd_func();var subPageMode=history.location.pathname;var systemSetting=_cfunc.loginSystemSetting();var goBtnId=\"ADDGoBtn\".concat(subPageMode);var saveBtnid=\"saveBtn\".concat(subPageMode);var fileds={InvoiceDate:currentDate_ymd,Customer:\"\",VehicleNo:\"\"};var _useState=useState(function(){return initialFiledFunc(fileds);}),_useState2=_slicedToArray(_useState,2),state=_useState2[0],setState=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),orderItemDetails=_useState4[0],setOrderItemDetails=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),orderIDs=_useState6[0],setOrderIDs=_useState6[1];// for invoicer page heder dicount functionality useSate ************************************\nvar _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),discountValueAll=_useState8[0],setDiscountValueAll=_useState8[1];var _useState9=useState({value:2,label:\" % \"}),_useState10=_slicedToArray(_useState9,2),discountTypeAll=_useState10[0],setDiscountTypeAll=_useState10[1];var _useState11=useState([{value:1,label:\"Rs\"},{value:2,label:\"%\"}]),_useState12=_slicedToArray(_useState11,1),discountDropOption=_useState12[0];var _useState13=useState(false),_useState14=_slicedToArray(_useState13,2),changeAllDiscount=_useState14[0],setChangeAllDiscount=_useState14[1];var _useState15=useState(false),_useState16=_slicedToArray(_useState15,2),forceReload=_useState16[0],setForceReload=_useState16[1];// ****************************************************************************\nvar _useState17=useState(false),_useState18=_slicedToArray(_useState17,1),modalCss=_useState18[0];var _useState19=useState(mode.defaultsave),_useState20=_slicedToArray(_useState19,1),pageMode=_useState20[0];var _useState21=useState(''),_useState22=_slicedToArray(_useState21,2),userPageAccessState=_useState22[0],setUserAccState=_useState22[1];var _useSelector=useSelector(function(state){return{postMsg:state.InvoiceReducer.postMsg,updateMsg:state.BOMReducer.updateMsg,userAccess:state.Login.RoleAccessUpdateData,pageField:state.CommonPageFieldReducer.pageField,customer:state.CommonAPI_Reducer.customer,gobutton_Add:state.InvoiceReducer.gobutton_Add,vendorSupplierCustomer:state.CommonAPI_Reducer.vendorSupplierCustomer,VehicleNumber:state.VehicleReducer.VehicleList,makeIBInvoice:state.InvoiceReducer.makeIBInvoice,saveBtnloading:state.InvoiceReducer.saveBtnloading,goBtnloading:state.InvoiceReducer.goBtnloading,saveAndPdfBtnLoading:state.InvoiceReducer.saveAndPdfBtnLoading,commonPartyDropSelect:state.CommonPartyDropdownReducer.commonPartyDropSelect};}),postMsg=_useSelector.postMsg,updateMsg=_useSelector.updateMsg,pageField=_useSelector.pageField,userAccess=_useSelector.userAccess,_useSelector$gobutton=_useSelector.gobutton_Add,gobutton_Add=_useSelector$gobutton===void 0?{Status:false}:_useSelector$gobutton,vendorSupplierCustomer=_useSelector.vendorSupplierCustomer,makeIBInvoice=_useSelector.makeIBInvoice,VehicleNumber=_useSelector.VehicleNumber,goBtnloading=_useSelector.goBtnloading,saveBtnloading=_useSelector.saveBtnloading,saveAndPdfBtnLoading=_useSelector.saveAndPdfBtnLoading,commonPartyDropSelect=_useSelector.commonPartyDropSelect;var location=_objectSpread({},history.location);var hasShowModal=props.hasOwnProperty(\"editValue\");var values=_objectSpread({},state.values);var isError=state.isError;var fieldLabel=state.fieldLabel;useEffect(function(){dispatch(commonPageFieldSuccess(null));dispatch(commonPageField(pageId.INVOICE_1));dispatch(GoButtonForinvoiceAddSuccess([]));},[]);// Common Party Dropdown useEffect\nuseEffect(function(){if(commonPartyDropSelect.value>0){dispatch(getVehicleList(_objectSpread(_objectSpread({},_cfunc.loginJsonBody()),{},{\"PartyID\":commonPartyDropSelect.value})));dispatch(GetVenderSupplierCustomer({subPageMode:subPageMode,RouteID:\"\",\"PartyID\":commonPartyDropSelect.value}));}return function(){dispatch(GetVenderSupplierCustomerSuccess([]));dispatch(getVehicleListSuccess([]));};},[commonPartyDropSelect]);// userAccess useEffect\nuseEffect(function(){var userAcc=null;var locationPath=location.pathname;if(hasShowModal){locationPath=props.masterPath;};userAcc=userAccess.find(function(inx){return\"/\".concat(inx.ActualPagePath)===locationPath;});if(userAcc){setUserAccState(userAcc);_cfunc.breadcrumbReturnFunc({dispatch:dispatch,userAcc:userAcc});};},[userAccess]);useEffect(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var config,btnId;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(postMsg.Status===true&&postMsg.StatusCode===200){dispatch(invoiceSaveActionSuccess({Status:false}));// Reset the status to false\n//************************* / Fetch PDF report data if saveAndDownloadPdfMode is true /\nif(postMsg.saveAndDownloadPdfMode){config={editId:postMsg.InvoiceID,ReportType:report.invoice};dispatch(getpdfReportdata(Invoice_1_Edit_API_Singel_Get,config));}// ***************** Upload E-Invoice if AutoEInvoice and EInvoiceApplicable are both \"1\"  *****/\nif(systemSetting.AutoEInvoice===\"1\"&&systemSetting.EInvoiceApplicable===\"1\"){btnId=\"btn-E-Invoice-Upload-\".concat(postMsg.InvoiceID);try{dispatch(Uploaded_EInvoiceAction({btnId:btnId,RowId:postMsg.InvoiceID,UserID:_cfunc.loginUserID()}));}catch(error){}}customAlert({Type:1,Message:postMsg.Message});// Redirect to appropriate page based on subPageMode\nif(subPageMode===url.INVOICE_1){history.push({pathname:url.INVOICE_LIST_1});}else if(subPageMode===url.IB_INVOICE){history.push({pathname:url.IB_INVOICE_LIST});}}else if(postMsg.Status===true){// Show error alert message with the JSON stringified postMsg.Message\ncustomAlert({Type:4,Message:JSON.stringify(postMsg.Message)});}case 1:case\"end\":return _context.stop();}}},_callee);})),[postMsg]);useEffect(function(){if(updateMsg.Status===true&&updateMsg.StatusCode===200&&!modalCss){history.push({pathname:url.MATERIAL_ISSUE_LIST});}else if(updateMsg.Status===true&&!modalCss){dispatch(updateBOMListSuccess({Status:false}));customAlert({Type:3,Status:true,Message:JSON.stringify(updateMsg.Message)});}},[updateMsg,modalCss]);useEffect(function(){if(pageField){var fieldArr=pageField.PageFieldMaster;comAddPageFieldFunc({state:state,setState:setState,fieldArr:fieldArr});}},[pageField]);useEffect(function(){if(makeIBInvoice.Status===true&&makeIBInvoice.StatusCode===200){setState(function(i){var obj=_objectSpread({},i);obj.values.Customer=makeIBInvoice.customer;obj.hasValid.Customer.valid=true;return obj;});dispatch(makeIB_InvoiceActionSuccess({Status:false}));}},[makeIBInvoice]);useEffect(function(){if(gobutton_Add.Status===true&&gobutton_Add.StatusCode===200){setState(function(i){var obj=_objectSpread({},i);obj.values.Customer=gobutton_Add.customer;obj.hasValid.Customer.valid=true;return obj;});setOrderItemDetails(gobutton_Add.Data.OrderItemDetails);// **********************************************************\ntotalAmountCalcuationFunc(gobutton_Add.Data.OrderItemDetails);// show breadcrump tolat amount function//passs table array \n//*********************************************************** */\nsetOrderIDs(gobutton_Add.Data.OrderIDs);dispatch(GoButtonForinvoiceAddSuccess({Status:false}));}},[gobutton_Add]);useEffect(function(){return _cfunc.tableInputArrowUpDounFunc(\"#table_Arrow\");},[orderItemDetails]);var CustomerDropdown_Options=vendorSupplierCustomer.map(function(index){return{value:index.id,label:index.Name};});var VehicleNumber_Options=VehicleNumber.map(function(index){return{value:index.id,label:index.VehicleNumber};});var pagesListColumns=[{//***************ItemName********************************************************************* */\ntext:\"Item Name\",dataField:\"ItemName\",attrs:function attrs(cell,row,rowIndex,colIndex){return{'data-label':\"ItemName\",\"sticky-col\":\"true\"};},// headerClasses: 'd-none d-sm-table-cell', // Hide on mobile\nformatter:function formatter(cellContent,index1){return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"samp\",{id:\"ItemName\".concat(index1.id),children:index1.ItemName})}),index1.StockInValid?/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"samp\",{id:\"StockInvalidMsg-\".concat(index1.id),style:{color:\"red\"},children:[\" \",index1.StockInvalidMsg]})}):/*#__PURE__*/_jsx(_Fragment,{})]});}},{//***************Quantity********************************************************************* */\ntext:\"Quantity/Unit\",dataField:\"\",formatExtraData:{tableList:orderItemDetails},attrs:function attrs(cell,row,rowIndex,colIndex){return{'data-label':\"Quantity/Unit\"};},formatter:function formatter(cellContent,index1,keys_,_ref2){var _ref2$tableList=_ref2.tableList,tableList=_ref2$tableList===void 0?[]:_ref2$tableList;return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Input,{type:\"text\",disabled:pageMode==='edit'?true:false,id:\"OrderQty-\".concat(index1.id),className:\"input\",style:{textAlign:\"right\"},autoComplete:\"off\",defaultValue:index1.Quantity,onChange:function onChange(event){orderQtyOnChange(event,index1);totalAmountCalcuationFunc(tableList);}},index1.id)}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"div\",{id:\"select\",children:/*#__PURE__*/_jsx(Select,{classNamePrefix:\"select2-selection\",id:\"ddlUnit\",isDisabled:true,defaultValue:index1.default_UnitDropvalue,options:index1.UnitDetails.map(function(i){return{\"label\":i.UnitName,\"value\":i.UnitID,\"ConversionUnit\":i.ConversionUnit,\"Unitlabel\":i.Unitlabel,\"BaseUnitQuantity\":i.BaseUnitQuantity,\"BaseUnitQuantityNoUnit\":i.BaseUnitQuantityNoUnit};}),onChange:function onChange(event){orderQtyUnit_SelectOnchange(event,index1);totalAmountCalcuationFunc(tableList);}})})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{children:\"Order-Qty :\"}),/*#__PURE__*/_jsx(\"samp\",{children:index1.OrderQty}),/*#__PURE__*/_jsx(\"samp\",{children:index1.UnitName})]})]});}},{//***************StockDetails********************************************************************* */\ntext:\"Stock Details\",dataField:\"StockDetails\",attrs:function attrs(cell,row,rowIndex,colIndex){return{'data-label1':\"Stock Details\",\"stock-header\":\"true\"};},headerStyle:{zIndex:\"2\"},// classes: '_StockDetails-header',\nformatExtraData:{tableList:orderItemDetails},formatter:function formatter(cellContent,index1,keys_,_ref3){var _ref3$tableList=_ref3.tableList,tableList=_ref3$tableList===void 0?[]:_ref3$tableList;return/*#__PURE__*/_jsx(\"div\",{className:\"table-responsive\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"custom-table \",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"BatchCode\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Stock Quantity\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Quantity\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Basic Rate\"}),/*#__PURE__*/_jsx(\"th\",{children:\"MRP\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:cellContent.map(function(index2){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{\"data-label\":\"BatchCode\",children:index2.BatchCode}),/*#__PURE__*/_jsx(\"td\",{\"data-label\":\"Stock Quantity\",style:{textAlign:\"right\"},children:/*#__PURE__*/_jsx(\"samp\",{id:\"ActualQuantity-\".concat(index1.id,\"-\").concat(index2.id),children:index2.ActualQuantity})}),/*#__PURE__*/_jsx(\"td\",{\"data-label\":\"Quantity\",children:/*#__PURE__*/_jsx(Input,{type:\"text\",disabled:pageMode==='edit'?true:false,style:{textAlign:\"right\"},id:\"batchQty\".concat(index1.id,\"-\").concat(index2.id),defaultValue:index2.Qty,onChange:function onChange(event){stockQtyOnChange(event,index1,index2);totalAmountCalcuationFunc(tableList);}},\"batchQty\".concat(index1.id,\"-\").concat(index2.id))}),/*#__PURE__*/_jsx(\"td\",{\"data-label\":\"Basic Rate\",style:{textAlign:\"right\"},children:/*#__PURE__*/_jsx(\"span\",{id:\"stockItemRate-\".concat(index1.id,\"-\").concat(index2.id),children:_cfunc.amountCommaSeparateFunc(Number(index2.Rate).toFixed(2))})}),/*#__PURE__*/_jsx(\"td\",{\"data-label\":\"MRP\",style:{textAlign:\"right\"},children:index2.MRP})]},index1.id);})})]})});}},{//***************Discount********************************************************************* */\ntext:\"Discount/unit\",dataField:\"\",attrs:function attrs(cell,row,rowIndex,colIndex){return{'data-label':\"Discount/unit\"};},formatExtraData:{discountValueAll:discountValueAll,discountTypeAll:discountTypeAll,changeAllDiscount:changeAllDiscount,forceReload:forceReload,tableList:orderItemDetails},headerFormatter:function headerFormatter(){return/*#__PURE__*/_jsx(\"div\",{className:\"\",children:orderItemDetails.length<=0?/*#__PURE__*/_jsx(\"div\",{className:\"col col-3 mt-2\",children:/*#__PURE__*/_jsx(Label,{children:\"Discount/unit\"})}):/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\" mt-n2 mb-n2\",children:/*#__PURE__*/_jsx(Label,{children:\"Discount/unit\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"col col-6\",style:{width:\"100px\"},children:/*#__PURE__*/_jsx(Select,{type:\"text\",defaultValue:discountTypeAll,classNamePrefix:\"select2-selection\",options:discountDropOption,style:{textAlign:\"right\"},onChange:function onChange(e){setChangeAllDiscount(true);setDiscountTypeAll(e);setDiscountValueAll('');}})}),/*#__PURE__*/_jsx(\"div\",{className:\"col col-6\",style:{width:\"100px\"},children:/*#__PURE__*/_jsx(CInput,{type:\"text\",className:\"input\",style:{textAlign:\"right\"},cpattern:decimalRegx,value:discountValueAll,onChange:function onChange(e){var e_val=Number(e.target.value);// Check if discount type is \"percentage\"\nif(discountTypeAll.value===2){// Discount type 2 represents \"percentage\"\n// Limit the input to the range of 0 to 100\nif(e_val>100){e.target.value=100;// Set the input value to 100 if it exceeds 100\n}else if(!(e_val>=0&&e_val<100)){e.target.value=\"\";// Clear the input value if it is less than 0\n}}setChangeAllDiscount(true);setDiscountValueAll(e.target.value);}})})]})});},classes:function classes(){return\"invoice-discount-row\";},formatter:function formatter(cellContent,index1,key,formatExtraData){var tableList=formatExtraData.tableList,discountValueAll=formatExtraData.discountValueAll,discountTypeAll=formatExtraData.discountTypeAll;if(formatExtraData.changeAllDiscount){index1.Discount=discountValueAll;index1.DiscountType=discountTypeAll.value;innerStockCaculation(index1);totalAmountCalcuationFunc(tableList);}if(!index1.DiscountType){index1.DiscountType=discountTypeAll.value;}var defaultDiscountTypelabel=index1.DiscountType===1?discountDropOption[0]:discountDropOption[1];return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"mb-2\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"parent\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"child\",children:/*#__PURE__*/_jsx(\"label\",{className:\"label\",children:\"Type\\xA0\\xA0\\xA0\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"child\",children:/*#__PURE__*/_jsx(Select,{id:\"DicountType_\".concat(key),classNamePrefix:\"select2-selection\",value:defaultDiscountTypelabel,options:discountDropOption,onChange:function onChange(e){setChangeAllDiscount(false);setForceReload(!forceReload);index1.DiscountType=e.value;index1.Discount='';innerStockCaculation(index1);totalAmountCalcuationFunc(tableList);}},\"DicountType_\".concat(key,\"-\").concat(index1.id))})]})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"parent\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"child\",children:/*#__PURE__*/_jsx(\"label\",{className:\"label\",children:\"Value\\xA0\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"child\",children:/*#__PURE__*/_jsx(CInput,{className:\"input\",id:\"Dicount_\".concat(key,\"-\").concat(index1.id),style:{textAlign:\"right\"},type:\"text\",value:index1.Discount,cpattern:decimalRegx,onChange:function onChange(e){var e_val=Number(e.target.value);// Check if discount type is \"percentage\"\nif(index1.DiscountType===2){// Discount type 2 represents \"percentage\"\n// Limit the input to the range of 0 to 100\nif(e_val>100){e.target.value=100;// Set the input value to 100 if it exceeds 100\n}else if(!(e_val>=0&&e_val<100)){e.target.value='';// Clear the input value if it is less than 0\n}}index1.Discount=e.target.value;setChangeAllDiscount(false);setForceReload(!forceReload);innerStockCaculation(index1);totalAmountCalcuationFunc(tableList);}})})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"bottom-div\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Amount:\"}),/*#__PURE__*/_jsx(\"samp\",{id:\"itemTotalAmount-\".concat(index1.id),children:_cfunc.amountCommaSeparateFunc(Number(index1.itemTotalAmount).toFixed(2))})]})]});}}];var totalAmountCalcuationFunc=function totalAmountCalcuationFunc(){var tableList=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];var calcalateGrandTotal=settingBaseRoundOffAmountFunc(tableList);//toLocaleString is convert comma saprate Amount\nvar count_label=\"Total Amount\".concat(\" :\",_cfunc.amountCommaSeparateFunc(Number(calcalateGrandTotal.sumOfGrandTotal).toFixed(2)));dispatch(BreadcrumbShowCountlabel(count_label));};function InvoiceDateOnchange(y,v,e){dispatch(GoButtonForinvoiceAddSuccess([]));onChangeDate({e:e,v:v,state:state,setState:setState});};function CustomerOnchange(hasSelect){setState(function(i){var v1=_objectSpread({},i);v1.values.Customer=hasSelect;v1.hasValid.Customer.valid=true;return v1;});};function goButtonHandler(makeIBInvoice){var btnId=goBtnId;_cfunc.btnIsDissablefunc({btnId:btnId,state:true});try{var jsonBody=JSON.stringify({FromDate:values.InvoiceDate,Customer:makeIBInvoice?makeIBInvoice.customer.value:values.Customer.value,Party:commonPartyDropSelect.value,OrderIDs:\"\"});dispatch(GoButtonForinvoiceAdd({subPageMode:subPageMode,jsonBody:jsonBody,btnId:btnId}));}catch(e){_cfunc.btnIsDissablefunc({btnId:btnId,state:false});}};var SaveHandler=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(event){var btnId,saveAndDownloadPdfMode,validMsg,invoiceItems,IsComparGstIn,calcalateGrandTotal,forInvoice_1_json,forIB_Invoice_json,for_common_json,jsonBody;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:event.preventDefault();btnId=event.target.id;saveAndDownloadPdfMode=btnId.substring(0,21)===\"SaveAndDownloadPdfBtn\";validMsg=[];invoiceItems=[];// IsComparGstIn= compare Supplier and Customer are Same State by GSTIn Number\nIsComparGstIn={GSTIn_1:values.Customer.GSTIN,GSTIn_2:_cfunc.loginUserGSTIN()};debugger;orderItemDetails.forEach(function(index){if(index.StockInValid){validMsg.push(_defineProperty({},index.ItemName,\" \".concat(index.StockInvalidMsg,\".\")));return;};var isSameMRPinStock='';//this is check is Enterd stock Quantity is Same MRP\nindex.StockDetails.forEach(function(ele){if(Number(ele.Qty)>0){if(isSameMRPinStock===\"\"&&!(isSameMRPinStock===false)){//this is check is Enterd stock Quantity is Same MRP\nisSameMRPinStock=parseFloat(ele.MRP);}else if(isSameMRPinStock!==parseFloat(ele.MRP)){isSameMRPinStock=false;}if(!Number(ele.Rate)>0){//** */ rate validation check  */\nvalidMsg.push(_defineProperty({},index.ItemName,\" Rate not available.\"));return;};//**calculate Amount ,Discount Amount based on Discound type */\nvar calculate=invoice_discountCalculate_Func(ele,index,IsComparGstIn);invoiceItems.push({\"Item\":index.Item,\"Unit\":index.default_UnitDropvalue.value,\"BatchCode\":ele.BatchCode,\"Quantity\":Number(ele.Qty).toFixed(3),\"BatchDate\":ele.BatchDate,\"BatchID\":ele.id,\"BaseUnitQuantity\":Number(ele.BaseUnitQuantity).toFixed(3),\"LiveBatch\":ele.LiveBatche,\"MRP\":ele.LiveBatcheMRPID,\"MRPValue\":ele.MRP,//changes\n\"Rate\":Number(ele.Rate).toFixed(2),\"GST\":ele.LiveBatcheGSTID,\"CGST\":Number(calculate.CGST_Amount).toFixed(2),\"SGST\":Number(calculate.SGST_Amount).toFixed(2),\"IGST\":Number(calculate.IGST_Amount).toFixed(2),\"GSTPercentage\":calculate.GST_Percentage,\"CGSTPercentage\":calculate.CGST_Percentage,\"SGSTPercentage\":calculate.SGST_Percentage,\"IGSTPercentage\":calculate.IGST_Percentage,\"BasicAmount\":Number(calculate.discountBaseAmt).toFixed(2),\"GSTAmount\":Number(calculate.roundedGstAmount).toFixed(2),\"Amount\":Number(calculate.roundedTotalAmount).toFixed(2),\"TaxType\":'GST',\"DiscountType\":index.DiscountType,\"Discount\":Number(index.Discount)||0,\"DiscountAmount\":Number(calculate.disCountAmt).toFixed(2)});}});if(isSameMRPinStock===false){validMsg.push(_defineProperty({},index.ItemName,\" Multiple MRP’S Invoice not allowed.\"));return;};});if(!(validMsg.length>0)){_context3.next=11;break;}customAlert({Type:4,Message:validMsg});return _context3.abrupt(\"return\");case 11:if(invoiceItems.length>0){_context3.next=14;break;}customAlert({Type:4,Message:\"Please Enter One Item Quantity\"});return _context3.abrupt(\"return\");case 14://**grand total and Tcs Round Off calculations  */ \ncalcalateGrandTotal=settingBaseRoundOffAmountFunc(orderItemDetails);//Pass Table Data \nforInvoice_1_json=function forInvoice_1_json(){return{//** Json Body Generate For Invoice_1  Start+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++*/\nInvoiceDate:values.InvoiceDate,InvoiceItems:invoiceItems,InvoicesReferences:orderIDs.map(function(i){return{Order:i};})};};forIB_Invoice_json=/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.t0=values.InvoiceDate;_context2.t1=invoiceItems;_context2.next=4;return orderIDs.map(function(i){return{Demand:i};});case 4:_context2.t2=_context2.sent;return _context2.abrupt(\"return\",{IBChallanDate:_context2.t0,IBChallanItems:_context2.t1,IBChallansReferences:_context2.t2});case 6:case\"end\":return _context2.stop();}}},_callee2);}));return function forIB_Invoice_json(){return _ref5.apply(this,arguments);};}();for_common_json=function for_common_json(){return{//**  Json Body Generate Common for Both +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++\nCustomerGSTTin:values.Customer.GSTIN,GrandTotal:calcalateGrandTotal.sumOfGrandTotal,RoundOffAmount:calcalateGrandTotal.RoundOffAmount,TCSAmount:calcalateGrandTotal.TCS_Amount,Customer:values.Customer.value,Vehicle:values.VehicleNo.value?values.VehicleNo.value:\"\",Party:commonPartyDropSelect.value,CreatedBy:_cfunc.loginUserID(),UpdatedBy:_cfunc.loginUserID()};};_context3.prev=18;if(!formValid(state,setState)){_context3.next=27;break;}_cfunc.btnIsDissablefunc({btnId:btnId,state:true});//json body decleration \nif(subPageMode===url.INVOICE_1){jsonBody=JSON.stringify(_objectSpread(_objectSpread({},for_common_json()),forInvoice_1_json()));}else if(subPageMode===url.IB_INVOICE){jsonBody=JSON.stringify(_objectSpread(_objectSpread({},for_common_json()),forIB_Invoice_json()));}// +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++\nif(!(pageMode===mode.edit)){_context3.next=26;break;}return _context3.abrupt(\"return\");case 26:dispatch(invoiceSaveAction({subPageMode:subPageMode,jsonBody:jsonBody,btnId:btnId,saveAndDownloadPdfMode:saveAndDownloadPdfMode}));case 27:_context3.next=32;break;case 29:_context3.prev=29;_context3.t0=_context3[\"catch\"](18);_cfunc.CommonConsole(\"invode save Handler\",_context3.t0);case 32:case\"end\":return _context3.stop();}}},_callee3,null,[[18,29]]);}));return function SaveHandler(_x){return _ref4.apply(this,arguments);};}();if(!(userPageAccessState==='')){return/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsx(MetaTags,{children:_cfunc.metaTagLabel(userPageAccessState)}),/*#__PURE__*/_jsx(\"div\",{className:\"page-content\",children:/*#__PURE__*/_jsxs(\"form\",{noValidate:true,children:[/*#__PURE__*/_jsx(Col,{className:\"px-2 mb-1 c_card_filter header text-black\",sm:12,children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(Col,{sm:\"4\",className:\"\",children:/*#__PURE__*/_jsxs(FormGroup,{className:\"mb- row mt-3 \",children:[/*#__PURE__*/_jsx(Label,{className:\"col-sm-8 p-2\",style:{width:\"83px\"},children:fieldLabel.InvoiceDate}),/*#__PURE__*/_jsxs(Col,{sm:\"7\",children:[/*#__PURE__*/_jsx(C_DatePicker,{name:\"InvoiceDate\",value:values.InvoiceDate,id:\"myInput11\",disabled:orderItemDetails.length>0||pageMode===\"edit\"?true:false,onChange:InvoiceDateOnchange}),isError.InvoiceDate.length>0&&/*#__PURE__*/_jsx(\"span\",{className:\"invalid-feedback\",children:isError.InvoiceDate})]})]})}),/*#__PURE__*/_jsx(Col,{sm:\"4\",className:\"\",children:/*#__PURE__*/_jsxs(FormGroup,{className:\"mb- row mt-3 \",children:[/*#__PURE__*/_jsx(Label,{className:\"col-sm-6 p-2\",style:{width:\"65px\"},children:fieldLabel.Customer}),/*#__PURE__*/_jsxs(Col,{sm:\"7\",children:[/*#__PURE__*/_jsx(Select,{name:\"Customer\",value:values.Customer,isSearchable:true,isDisabled:orderItemDetails.length>0?true:false,id:'customerselect',className:\"react-dropdown\",classNamePrefix:\"dropdown\",options:CustomerDropdown_Options,onChange:CustomerOnchange,styles:{menu:function menu(provided){return _objectSpread(_objectSpread({},provided),{},{zIndex:3});}}}),isError.Customer.length>0&&/*#__PURE__*/_jsx(\"span\",{className:\"text-danger f-8\",children:/*#__PURE__*/_jsx(\"small\",{children:isError.Customer})})]})]})}),/*#__PURE__*/_jsx(Col,{sm:\"4\",className:\"\",children:/*#__PURE__*/_jsxs(FormGroup,{className:\"mb- row mt-3 \",children:[/*#__PURE__*/_jsx(Label,{className:\"col-sm-5 p-2\",style:{width:\"65px\"},children:fieldLabel.VehicleNo}),/*#__PURE__*/_jsxs(Col,{sm:\"7\",children:[/*#__PURE__*/_jsx(Select,{name:\"VehicleNo\",value:values.VehicleNo,isSearchable:true,id:'VehicleNoselect',className:\"react-dropdown\",classNamePrefix:\"dropdown\",options:VehicleNumber_Options,onChange:function onChange(hasSelect,evn){onChangeSelect({hasSelect:hasSelect,evn:evn,state:state,setState:setState});},styles:{menu:function menu(provided){return _objectSpread(_objectSpread({},provided),{},{zIndex:3});}}}),isError.VehicleNo.length>0&&/*#__PURE__*/_jsx(\"span\",{className:\"text-danger f-8\",children:/*#__PURE__*/_jsx(\"small\",{children:isError.VehicleNo})})]})]})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-1\",children:/*#__PURE__*/_jsx(CustomTable,{keyField:\"id\",data:orderItemDetails,columns:pagesListColumns,id:\"table_Arrow\",classes:\"table  table-bordered \",noDataIndication:/*#__PURE__*/_jsx(\"div\",{className:\"text-danger text-center \",children:\"Items Not available\"}),onDataSizeChange:function onDataSizeChange(e){_cfunc.tableInputArrowUpDounFunc(\"#table_Arrow\");}})}),orderItemDetails.length>0?/*#__PURE__*/_jsxs(\"div\",{className:\"row save1\",style:{paddingBottom:'center'},children:[/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsx(SaveButton,{loading:saveBtnloading,id:saveBtnid,pageMode:pageMode,userAcc:userPageAccessState,onClick:SaveHandler,forceDisabled:saveAndPdfBtnLoading})}),pageMode===mode.defaultsave?/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsx(SaveAndDownloadPDF,{loading:saveAndPdfBtnLoading,pageMode:pageMode,id:saveBtnid,userAcc:userPageAccessState,onClick:SaveHandler,forceDisabled:saveBtnloading})}):null]}):/*#__PURE__*/_jsx(\"div\",{className:\"row save1\"})]})})]});}else{return/*#__PURE__*/_jsx(React.Fragment,{});}};export default Invoice;","map":{"version":3,"names":["React","useEffect","useState","Col","FormGroup","Input","Label","Row","Table","MetaTags","BreadcrumbShowCountlabel","commonPageFieldSuccess","getpdfReportdata","useDispatch","useSelector","commonPageField","useHistory","comAddPageFieldFunc","formValid","initialFiledFunc","onChangeDate","onChangeSelect","Select","GotoInvoiceBtn","SaveAndDownloadPDF","SaveButton","updateBOMListSuccess","mode","pageId","url","GoButtonForinvoiceAdd","GoButtonForinvoiceAddSuccess","Uploaded_EInvoiceAction","invoiceSaveAction","invoiceSaveActionSuccess","makeIB_InvoiceActionSuccess","GetVenderSupplierCustomer","GetVenderSupplierCustomerSuccess","customAlert","invoice_discountCalculate_Func","innerStockCaculation","orderQtyOnChange","orderQtyUnit_SelectOnchange","stockQtyOnChange","settingBaseRoundOffAmountFunc","_cfunc","CInput","C_DatePicker","decimalRegx","getVehicleList","getVehicleListSuccess","Invoice_1_Edit_API_Singel_Get","report","CustomTable","Invoice","props","dispatch","history","currentDate_ymd","date_ymd_func","subPageMode","location","pathname","systemSetting","loginSystemSetting","goBtnId","saveBtnid","fileds","InvoiceDate","Customer","VehicleNo","state","setState","orderItemDetails","setOrderItemDetails","orderIDs","setOrderIDs","discountValueAll","setDiscountValueAll","value","label","discountTypeAll","setDiscountTypeAll","discountDropOption","changeAllDiscount","setChangeAllDiscount","forceReload","setForceReload","modalCss","defaultsave","pageMode","userPageAccessState","setUserAccState","postMsg","InvoiceReducer","updateMsg","BOMReducer","userAccess","Login","RoleAccessUpdateData","pageField","CommonPageFieldReducer","customer","CommonAPI_Reducer","gobutton_Add","vendorSupplierCustomer","VehicleNumber","VehicleReducer","VehicleList","makeIBInvoice","saveBtnloading","goBtnloading","saveAndPdfBtnLoading","commonPartyDropSelect","CommonPartyDropdownReducer","Status","hasShowModal","hasOwnProperty","values","isError","fieldLabel","INVOICE_1","loginJsonBody","RouteID","userAcc","locationPath","masterPath","find","inx","ActualPagePath","breadcrumbReturnFunc","StatusCode","saveAndDownloadPdfMode","config","editId","InvoiceID","ReportType","invoice","AutoEInvoice","EInvoiceApplicable","btnId","RowId","UserID","loginUserID","error","Type","Message","push","INVOICE_LIST_1","IB_INVOICE","IB_INVOICE_LIST","JSON","stringify","MATERIAL_ISSUE_LIST","fieldArr","PageFieldMaster","i","obj","hasValid","valid","Data","OrderItemDetails","totalAmountCalcuationFunc","OrderIDs","tableInputArrowUpDounFunc","CustomerDropdown_Options","map","index","id","Name","VehicleNumber_Options","pagesListColumns","text","dataField","attrs","cell","row","rowIndex","colIndex","formatter","cellContent","index1","ItemName","StockInValid","color","StockInvalidMsg","formatExtraData","tableList","keys_","textAlign","Quantity","event","default_UnitDropvalue","UnitDetails","UnitName","UnitID","ConversionUnit","Unitlabel","BaseUnitQuantity","BaseUnitQuantityNoUnit","OrderQty","headerStyle","zIndex","index2","BatchCode","ActualQuantity","Qty","amountCommaSeparateFunc","Number","Rate","toFixed","MRP","headerFormatter","length","width","e","e_val","target","classes","key","Discount","DiscountType","defaultDiscountTypelabel","itemTotalAmount","calcalateGrandTotal","count_label","sumOfGrandTotal","InvoiceDateOnchange","y","v","CustomerOnchange","hasSelect","v1","goButtonHandler","btnIsDissablefunc","jsonBody","FromDate","Party","SaveHandler","preventDefault","substring","validMsg","invoiceItems","IsComparGstIn","GSTIn_1","GSTIN","GSTIn_2","loginUserGSTIN","forEach","isSameMRPinStock","StockDetails","ele","parseFloat","calculate","Item","BatchDate","LiveBatche","LiveBatcheMRPID","LiveBatcheGSTID","CGST_Amount","SGST_Amount","IGST_Amount","GST_Percentage","CGST_Percentage","SGST_Percentage","IGST_Percentage","discountBaseAmt","roundedGstAmount","roundedTotalAmount","disCountAmt","forInvoice_1_json","InvoiceItems","InvoicesReferences","Order","forIB_Invoice_json","Demand","IBChallanDate","IBChallanItems","IBChallansReferences","for_common_json","CustomerGSTTin","GrandTotal","RoundOffAmount","TCSAmount","TCS_Amount","Vehicle","CreatedBy","UpdatedBy","edit","CommonConsole","metaTagLabel","menu","provided","evn","paddingBottom"],"sources":["D:/Rohit/Git projects/Manthan/src/pages/Sale/Invoice/Invoice.js"],"sourcesContent":["import React, { useEffect, useState, } from \"react\";\r\nimport {\r\n    Col,\r\n    FormGroup,\r\n    Input,\r\n    Label,\r\n    Row,\r\n    Table\r\n} from \"reactstrap\";\r\nimport { MetaTags } from \"react-meta-tags\";\r\nimport { BreadcrumbShowCountlabel, commonPageFieldSuccess, getpdfReportdata } from \"../../../store/actions\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { commonPageField } from \"../../../store/actions\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport {\r\n    comAddPageFieldFunc,\r\n    formValid,\r\n    initialFiledFunc,\r\n    onChangeDate,\r\n    onChangeSelect,\r\n} from \"../../../components/Common/validationFunction\";\r\nimport Select from \"react-select\";\r\nimport { GotoInvoiceBtn, SaveAndDownloadPDF, SaveButton } from \"../../../components/Common/CommonButton\";\r\nimport {\r\n    updateBOMListSuccess\r\n} from \"../../../store/Production/BOMRedux/action\";\r\nimport * as mode from \"../../../routes/PageMode\";\r\nimport * as pageId from \"../../../routes/allPageID\"\r\nimport * as url from \"../../../routes/route_url\"\r\nimport {\r\n    GoButtonForinvoiceAdd,\r\n    GoButtonForinvoiceAddSuccess,\r\n    Uploaded_EInvoiceAction,\r\n    invoiceSaveAction,\r\n    invoiceSaveActionSuccess,\r\n    makeIB_InvoiceActionSuccess\r\n} from \"../../../store/Sales/Invoice/action\";\r\nimport { GetVenderSupplierCustomer, GetVenderSupplierCustomerSuccess } from \"../../../store/CommonAPI/SupplierRedux/actions\";\r\nimport { customAlert } from \"../../../CustomAlert/ConfirmDialog\";\r\nimport {\r\n    invoice_discountCalculate_Func,\r\n    innerStockCaculation,\r\n    orderQtyOnChange,\r\n    orderQtyUnit_SelectOnchange,\r\n    stockQtyOnChange,\r\n    settingBaseRoundOffAmountFunc\r\n} from \"./invoiceCaculations\";\r\nimport \"./invoice.scss\"\r\nimport * as _cfunc from \"../../../components/Common/CommonFunction\";\r\nimport { CInput, C_DatePicker, decimalRegx } from \"../../../CustomValidateForm\";\r\nimport { getVehicleList, getVehicleListSuccess } from \"../../../store/Administrator/VehicleRedux/action\";\r\nimport { Invoice_1_Edit_API_Singel_Get } from \"../../../helpers/backend_helper\";\r\nimport * as report from '../../../Reports/ReportIndex'\r\nimport CustomTable from \"../../../CustomTable2\";\r\n\r\nconst Invoice = (props) => {\r\n\r\n    const dispatch = useDispatch();\r\n    const history = useHistory();\r\n    const currentDate_ymd = _cfunc.date_ymd_func();\r\n    const subPageMode = history.location.pathname\r\n    const systemSetting = _cfunc.loginSystemSetting();\r\n\r\n    const goBtnId = `ADDGoBtn${subPageMode}`\r\n    const saveBtnid = `saveBtn${subPageMode}`\r\n\r\n    const fileds = {\r\n        InvoiceDate: currentDate_ymd,\r\n        Customer: \"\",\r\n        VehicleNo: \"\"\r\n    }\r\n\r\n    const [state, setState] = useState(() => initialFiledFunc(fileds))\r\n    const [orderItemDetails, setOrderItemDetails] = useState([])\r\n    const [orderIDs, setOrderIDs] = useState([])\r\n\r\n    // for invoicer page heder dicount functionality useSate ************************************\r\n    const [discountValueAll, setDiscountValueAll] = useState(\"\");\r\n    const [discountTypeAll, setDiscountTypeAll] = useState({ value: 2, label: \" % \" });\r\n    const [discountDropOption] = useState([{ value: 1, label: \"Rs\" }, { value: 2, label: \"%\" }])\r\n    const [changeAllDiscount, setChangeAllDiscount] = useState(false)\r\n    const [forceReload, setForceReload] = useState(false)\r\n    // ****************************************************************************\r\n\r\n    const [modalCss] = useState(false);\r\n    const [pageMode] = useState(mode.defaultsave);\r\n    const [userPageAccessState, setUserAccState] = useState('');\r\n\r\n    const {\r\n        postMsg,\r\n        updateMsg,\r\n        pageField,\r\n        userAccess,\r\n        gobutton_Add = { Status: false },\r\n        vendorSupplierCustomer,\r\n        makeIBInvoice,\r\n        VehicleNumber,\r\n        goBtnloading,\r\n        saveBtnloading,\r\n        saveAndPdfBtnLoading,\r\n        commonPartyDropSelect\r\n    } = useSelector((state) => ({\r\n        postMsg: state.InvoiceReducer.postMsg,\r\n        updateMsg: state.BOMReducer.updateMsg,\r\n        userAccess: state.Login.RoleAccessUpdateData,\r\n        pageField: state.CommonPageFieldReducer.pageField,\r\n        customer: state.CommonAPI_Reducer.customer,\r\n        gobutton_Add: state.InvoiceReducer.gobutton_Add,\r\n        vendorSupplierCustomer: state.CommonAPI_Reducer.vendorSupplierCustomer,\r\n        VehicleNumber: state.VehicleReducer.VehicleList,\r\n        makeIBInvoice: state.InvoiceReducer.makeIBInvoice,\r\n        saveBtnloading: state.InvoiceReducer.saveBtnloading,\r\n        goBtnloading: state.InvoiceReducer.goBtnloading,\r\n        saveAndPdfBtnLoading: state.InvoiceReducer.saveAndPdfBtnLoading,\r\n        commonPartyDropSelect: state.CommonPartyDropdownReducer.commonPartyDropSelect\r\n    }));\r\n\r\n    const location = { ...history.location }\r\n    const hasShowModal = props.hasOwnProperty(\"editValue\")\r\n\r\n    const values = { ...state.values }\r\n    const { isError } = state;\r\n    const { fieldLabel } = state;\r\n\r\n    useEffect(() => {\r\n        dispatch(commonPageFieldSuccess(null));\r\n        dispatch(commonPageField(pageId.INVOICE_1))\r\n        dispatch(GoButtonForinvoiceAddSuccess([]))\r\n\r\n    }, []);\r\n\r\n    // Common Party Dropdown useEffect\r\n    useEffect(() => {\r\n\r\n        if (commonPartyDropSelect.value > 0) {\r\n            dispatch(getVehicleList({ ..._cfunc.loginJsonBody(), \"PartyID\": commonPartyDropSelect.value }));\r\n            dispatch(GetVenderSupplierCustomer({ subPageMode, RouteID: \"\", \"PartyID\": commonPartyDropSelect.value }));\r\n        }\r\n\r\n        return () => {\r\n            dispatch(GetVenderSupplierCustomerSuccess([]));\r\n            dispatch(getVehicleListSuccess([]));\r\n        }\r\n\r\n    }, [commonPartyDropSelect]);\r\n\r\n    // userAccess useEffect\r\n    useEffect(() => {\r\n        let userAcc = null;\r\n        let locationPath = location.pathname;\r\n\r\n        if (hasShowModal) {\r\n            locationPath = props.masterPath;\r\n        };\r\n        userAcc = userAccess.find((inx) => {\r\n            return (`/${inx.ActualPagePath}` === locationPath)\r\n        })\r\n\r\n        if (userAcc) {\r\n            setUserAccState(userAcc)\r\n            _cfunc.breadcrumbReturnFunc({ dispatch, userAcc });\r\n        };\r\n    }, [userAccess])\r\n\r\n    useEffect(async () => {\r\n        if (postMsg.Status === true && postMsg.StatusCode === 200) {\r\n            dispatch(invoiceSaveActionSuccess({ Status: false })); // Reset the status to false\r\n\r\n            //************************* / Fetch PDF report data if saveAndDownloadPdfMode is true /\r\n            if (postMsg.saveAndDownloadPdfMode) {\r\n                const config = {\r\n                    editId: postMsg.InvoiceID,\r\n                    ReportType: report.invoice,\r\n                };\r\n                dispatch(getpdfReportdata(Invoice_1_Edit_API_Singel_Get, config));\r\n            }\r\n\r\n            // ***************** Upload E-Invoice if AutoEInvoice and EInvoiceApplicable are both \"1\"  *****/\r\n            if (systemSetting.AutoEInvoice === \"1\" && systemSetting.EInvoiceApplicable === \"1\") {\r\n                let btnId = `btn-E-Invoice-Upload-${postMsg.InvoiceID}`;\r\n                try {\r\n                    dispatch(Uploaded_EInvoiceAction({ btnId, RowId: postMsg.InvoiceID, UserID: _cfunc.loginUserID() }));\r\n                } catch (error) { }\r\n            }\r\n\r\n            customAlert({\r\n                Type: 1,\r\n                Message: postMsg.Message,\r\n            });\r\n\r\n            // Redirect to appropriate page based on subPageMode\r\n            if (subPageMode === url.INVOICE_1) {\r\n                history.push({ pathname: url.INVOICE_LIST_1 });\r\n            } else if (subPageMode === url.IB_INVOICE) {\r\n                history.push({ pathname: url.IB_INVOICE_LIST });\r\n            }\r\n        } else if (postMsg.Status === true) {\r\n            // Show error alert message with the JSON stringified postMsg.Message\r\n            customAlert({\r\n                Type: 4,\r\n                Message: JSON.stringify(postMsg.Message),\r\n            });\r\n        }\r\n    }, [postMsg]);\r\n\r\n    useEffect(() => {\r\n\r\n        if ((updateMsg.Status === true) && (updateMsg.StatusCode === 200) && !(modalCss)) {\r\n            history.push({\r\n                pathname: url.MATERIAL_ISSUE_LIST,\r\n            })\r\n        } else if (updateMsg.Status === true && !modalCss) {\r\n            dispatch(updateBOMListSuccess({ Status: false }));\r\n            customAlert({\r\n                Type: 3,\r\n                Status: true,\r\n                Message: JSON.stringify(updateMsg.Message),\r\n            })\r\n        }\r\n    }, [updateMsg, modalCss]);\r\n\r\n    useEffect(() => {\r\n        if (pageField) {\r\n            const fieldArr = pageField.PageFieldMaster\r\n            comAddPageFieldFunc({ state, setState, fieldArr })\r\n        }\r\n    }, [pageField])\r\n\r\n    useEffect(() => {\r\n\r\n        if (makeIBInvoice.Status === true && makeIBInvoice.StatusCode === 200) {\r\n            setState((i) => {\r\n                const obj = { ...i }\r\n                obj.values.Customer = makeIBInvoice.customer;\r\n                obj.hasValid.Customer.valid = true;\r\n                return obj\r\n            })\r\n\r\n            dispatch(makeIB_InvoiceActionSuccess({ Status: false }))\r\n        }\r\n    }, [makeIBInvoice]);\r\n\r\n    useEffect(() => {\r\n\r\n        if (gobutton_Add.Status === true && gobutton_Add.StatusCode === 200) {\r\n            setState((i) => {\r\n                const obj = { ...i }\r\n                obj.values.Customer = gobutton_Add.customer;\r\n                obj.hasValid.Customer.valid = true;\r\n                return obj\r\n            })\r\n\r\n            setOrderItemDetails(gobutton_Add.Data.OrderItemDetails);\r\n\r\n            // **********************************************************\r\n            totalAmountCalcuationFunc(gobutton_Add.Data.OrderItemDetails)// show breadcrump tolat amount function//passs table array \r\n            //*********************************************************** */\r\n\r\n            setOrderIDs(gobutton_Add.Data.OrderIDs)\r\n            dispatch(GoButtonForinvoiceAddSuccess({ Status: false }))\r\n        }\r\n    }, [gobutton_Add]);\r\n\r\n    useEffect(() => _cfunc.tableInputArrowUpDounFunc(\"#table_Arrow\"), [orderItemDetails]);\r\n\r\n    const CustomerDropdown_Options = vendorSupplierCustomer.map((index) => ({\r\n        value: index.id,\r\n        label: index.Name,\r\n    }));\r\n\r\n    const VehicleNumber_Options = VehicleNumber.map((index) => ({\r\n        value: index.id,\r\n        label: index.VehicleNumber,\r\n    }));\r\n\r\n    const pagesListColumns = [\r\n        {//***************ItemName********************************************************************* */\r\n            text: \"Item Name\",\r\n            dataField: \"ItemName\",\r\n            attrs: (cell, row, rowIndex, colIndex) => ({ 'data-label': \"ItemName\", \"sticky-col\": \"true\" }),\r\n            // headerClasses: 'd-none d-sm-table-cell', // Hide on mobile\r\n            formatter: (cellContent, index1) => {\r\n                return (\r\n                    <>\r\n                        <div>\r\n                            <samp id={`ItemName${index1.id}`}>{index1.ItemName}</samp>\r\n                        </div>\r\n                        {\r\n                            (index1.StockInValid) ? <div><samp id={`StockInvalidMsg-${index1.id}`} style={{ color: \"red\" }}> {index1.StockInvalidMsg}</samp></div>\r\n                                : <></>\r\n                        }\r\n                    </>\r\n                )\r\n            },\r\n        },\r\n        {//***************Quantity********************************************************************* */\r\n            text: \"Quantity/Unit\",\r\n            dataField: \"\",\r\n            formatExtraData: { tableList: orderItemDetails },\r\n            attrs: (cell, row, rowIndex, colIndex) => ({ 'data-label': \"Quantity/Unit\" }),\r\n            formatter: (cellContent, index1, keys_, { tableList = [] }) => (\r\n                <>\r\n                    <div>\r\n                        <Input\r\n                            type=\"text\"\r\n                            disabled={pageMode === 'edit' ? true : false}\r\n                            id={`OrderQty-${index1.id}`}\r\n                            className=\"input\"\r\n                            style={{ textAlign: \"right\" }}\r\n                            key={index1.id}\r\n                            autoComplete=\"off\"\r\n                            defaultValue={index1.Quantity}\r\n                            onChange={(event) => {\r\n                                orderQtyOnChange(event, index1);\r\n                                totalAmountCalcuationFunc(tableList);\r\n                            }}\r\n                        />\r\n                    </div>\r\n                    <div>\r\n                        <div id=\"select\">\r\n                            <Select\r\n                                classNamePrefix=\"select2-selection\"\r\n                                id={\"ddlUnit\"}\r\n                                isDisabled={true}\r\n                                defaultValue={index1.default_UnitDropvalue}\r\n                                options={index1.UnitDetails.map(i => ({\r\n                                    \"label\": i.UnitName,\r\n                                    \"value\": i.UnitID,\r\n                                    \"ConversionUnit\": i.ConversionUnit,\r\n                                    \"Unitlabel\": i.Unitlabel,\r\n                                    \"BaseUnitQuantity\": i.BaseUnitQuantity,\r\n                                    \"BaseUnitQuantityNoUnit\": i.BaseUnitQuantityNoUnit,\r\n                                }))}\r\n                                onChange={(event) => {\r\n                                    orderQtyUnit_SelectOnchange(event, index1);\r\n                                    totalAmountCalcuationFunc(tableList);\r\n                                }}\r\n                            ></Select>\r\n                        </div>\r\n                    </div>\r\n                    <div >\r\n                        <span>Order-Qty :</span>\r\n                        <samp>{index1.OrderQty}</samp>\r\n                        <samp>{index1.UnitName}</samp>\r\n                    </div>\r\n                </>\r\n            ),\r\n        },\r\n        {//***************StockDetails********************************************************************* */\r\n            text: \"Stock Details\",\r\n            dataField: \"StockDetails\",\r\n            attrs: (cell, row, rowIndex, colIndex) => ({ 'data-label1': \"Stock Details\", \"stock-header\": \"true\" }),\r\n            headerStyle: { zIndex: \"2\" },\r\n            // classes: '_StockDetails-header',\r\n            formatExtraData: { tableList: orderItemDetails },\r\n            formatter: (cellContent, index1, keys_, { tableList = [] }) => (\r\n                <div className=\"table-responsive\">\r\n                    <table className=\"custom-table \">\r\n                        <thead >\r\n                            <tr>\r\n                                <th>BatchCode</th>\r\n                                <th>Stock Quantity</th>\r\n                                <th>Quantity</th>\r\n                                <th>Basic Rate</th>\r\n                                <th>MRP</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            {cellContent.map((index2) => (\r\n                                <tr key={index1.id}>\r\n                                    <td data-label=\"BatchCode\">{index2.BatchCode}</td>\r\n                                    <td data-label=\"Stock Quantity\" style={{ textAlign: \"right\" }} >\r\n                                        <samp id={`ActualQuantity-${index1.id}-${index2.id}`}>{index2.ActualQuantity}</samp>\r\n                                    </td>\r\n                                    <td data-label='Quantity'>\r\n                                        <Input\r\n                                            type=\"text\"\r\n                                            disabled={pageMode === 'edit' ? true : false}\r\n                                            style={{ textAlign: \"right\" }}\r\n                                            key={`batchQty${index1.id}-${index2.id}`}\r\n                                            id={`batchQty${index1.id}-${index2.id}`}\r\n                                            defaultValue={index2.Qty}\r\n                                            onChange={(event) => {\r\n                                                stockQtyOnChange(event, index1, index2);\r\n                                                totalAmountCalcuationFunc(tableList);\r\n                                            }}\r\n                                        />\r\n                                    </td>\r\n                                    <td data-label='Basic Rate' style={{ textAlign: \"right\" }}>\r\n                                        <span id={`stockItemRate-${index1.id}-${index2.id}`}>{_cfunc.amountCommaSeparateFunc(Number(index2.Rate).toFixed(2))}</span>\r\n                                    </td>\r\n                                    <td data-label='MRP' style={{ textAlign: \"right\" }}>{index2.MRP}</td>\r\n                                </tr>\r\n                            ))}\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n            ),\r\n        },\r\n        {//***************Discount********************************************************************* */\r\n            text: \"Discount/unit\",\r\n            dataField: \"\",\r\n            attrs: (cell, row, rowIndex, colIndex) => ({ 'data-label': \"Discount/unit\" }),\r\n            formatExtraData: {\r\n                discountValueAll: discountValueAll,\r\n                discountTypeAll: discountTypeAll,\r\n                changeAllDiscount: changeAllDiscount,\r\n                forceReload: forceReload,\r\n                tableList: orderItemDetails\r\n            },\r\n            headerFormatter: () => {\r\n                return (\r\n                    <div className=\"\">\r\n                        {orderItemDetails.length <= 0 ?\r\n                            <div className=\"col col-3 mt-2\">\r\n                                <Label>Discount/unit</Label>\r\n                            </div>\r\n                            :\r\n                            <div className=\"row\">\r\n                                <div className=\" mt-n2 mb-n2\">\r\n                                    <Label>Discount/unit</Label>\r\n                                </div>\r\n                                <div className=\"col col-6\" style={{ width: \"100px\" }}>\r\n                                    <Select\r\n                                        type=\"text\"\r\n                                        defaultValue={discountTypeAll}\r\n                                        classNamePrefix=\"select2-selection\"\r\n                                        options={discountDropOption}\r\n                                        style={{ textAlign: \"right\" }}\r\n                                        onChange={(e) => {\r\n                                            setChangeAllDiscount(true);\r\n                                            setDiscountTypeAll(e);\r\n                                            setDiscountValueAll('');\r\n                                        }}\r\n                                    />\r\n                                </div>\r\n                                <div className=\"col col-6\" style={{ width: \"100px\" }}>\r\n                                    <CInput\r\n                                        type=\"text\"\r\n                                        className=\"input\"\r\n                                        style={{ textAlign: \"right\" }}\r\n                                        cpattern={decimalRegx}\r\n                                        value={discountValueAll}\r\n                                        onChange={(e) => {\r\n                                            let e_val = Number(e.target.value);\r\n\r\n                                            // Check if discount type is \"percentage\"\r\n                                            if (discountTypeAll.value === 2) {// Discount type 2 represents \"percentage\"\r\n                                                // Limit the input to the range of 0 to 100\r\n                                                if (e_val > 100) {\r\n                                                    e.target.value = 100; // Set the input value to 100 if it exceeds 100\r\n                                                } else if (!(e_val >= 0 && e_val < 100)) {\r\n                                                    e.target.value = \"\"; // Clear the input value if it is less than 0\r\n                                                }\r\n                                            }\r\n\r\n                                            setChangeAllDiscount(true);\r\n                                            setDiscountValueAll(e.target.value);\r\n                                        }}\r\n                                    />\r\n                                </div>\r\n                            </div>\r\n                        }\r\n                    </div>\r\n                );\r\n            },\r\n\r\n            classes: () => \"invoice-discount-row\",\r\n            formatter: (cellContent, index1, key, formatExtraData) => {\r\n                let { tableList, discountValueAll, discountTypeAll } = formatExtraData;\r\n\r\n                if (formatExtraData.changeAllDiscount) {\r\n                    index1.Discount = discountValueAll;\r\n                    index1.DiscountType = discountTypeAll.value;\r\n                    innerStockCaculation(index1);\r\n                    totalAmountCalcuationFunc(tableList);\r\n                }\r\n                if (!index1.DiscountType) { index1.DiscountType = discountTypeAll.value }\r\n\r\n                const defaultDiscountTypelabel =\r\n                    index1.DiscountType === 1 ? discountDropOption[0] : discountDropOption[1];\r\n\r\n                return (\r\n                    <>\r\n                        <div className=\"mb-2\">\r\n                            <div className=\"parent\">\r\n                                <div className=\"child\">\r\n                                    <label className=\"label\">Type&nbsp;&nbsp;&nbsp;</label>\r\n                                </div>\r\n                                <div className=\"child\">\r\n                                    <Select\r\n                                        id={`DicountType_${key}`}\r\n                                        classNamePrefix=\"select2-selection\"\r\n                                        key={`DicountType_${key}-${index1.id}`}\r\n                                        value={defaultDiscountTypelabel}\r\n                                        options={discountDropOption}\r\n                                        onChange={(e) => {\r\n                                            setChangeAllDiscount(false);\r\n                                            setForceReload(!forceReload);\r\n                                            index1.DiscountType = e.value;\r\n                                            index1.Discount = '';\r\n                                            innerStockCaculation(index1);\r\n                                            totalAmountCalcuationFunc(tableList);\r\n                                        }}\r\n                                    />\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div>\r\n                            <div className=\"parent\">\r\n                                <div className=\"child\">\r\n                                    <label className=\"label\">Value&nbsp;</label>\r\n                                </div>\r\n                                <div className=\"child\">\r\n                                    <CInput\r\n                                        className=\"input\"\r\n                                        id={`Dicount_${key}-${index1.id}`}\r\n                                        style={{ textAlign: \"right\" }}\r\n                                        type=\"text\"\r\n                                        value={index1.Discount}\r\n                                        cpattern={decimalRegx}\r\n                                        onChange={(e) => {\r\n\r\n                                            let e_val = Number(e.target.value);\r\n                                            // Check if discount type is \"percentage\"\r\n                                            if (index1.DiscountType === 2) { // Discount type 2 represents \"percentage\"\r\n                                                // Limit the input to the range of 0 to 100\r\n                                                if (e_val > 100) {\r\n                                                    e.target.value = 100; // Set the input value to 100 if it exceeds 100\r\n                                                } else if (!(e_val >= 0 && e_val < 100)) {\r\n                                                    e.target.value = ''; // Clear the input value if it is less than 0\r\n                                                }\r\n                                            }\r\n                                            index1.Discount = e.target.value;\r\n                                            setChangeAllDiscount(false);\r\n                                            setForceReload(!forceReload);\r\n                                            innerStockCaculation(index1);\r\n                                            totalAmountCalcuationFunc(tableList);\r\n                                        }}\r\n\r\n                                    />\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"bottom-div\">\r\n                            <span>Amount:</span>\r\n                            <samp id={`itemTotalAmount-${index1.id}`}>\r\n                                {_cfunc.amountCommaSeparateFunc(Number(index1.itemTotalAmount).toFixed(2))}\r\n                            </samp>\r\n                        </div>\r\n                    </>\r\n                );\r\n            },\r\n        },\r\n    ];\r\n\r\n    const totalAmountCalcuationFunc = (tableList = []) => {\r\n        const calcalateGrandTotal = settingBaseRoundOffAmountFunc(tableList)\r\n        //toLocaleString is convert comma saprate Amount\r\n        let count_label = `${\"Total Amount\"} :${_cfunc.amountCommaSeparateFunc(Number(calcalateGrandTotal.sumOfGrandTotal).toFixed(2))}`\r\n        dispatch(BreadcrumbShowCountlabel(count_label))\r\n    }\r\n\r\n    function InvoiceDateOnchange(y, v, e) {\r\n        dispatch(GoButtonForinvoiceAddSuccess([]))\r\n        onChangeDate({ e, v, state, setState })\r\n    };\r\n\r\n    function CustomerOnchange(hasSelect,) {\r\n\r\n        setState((i) => {\r\n            const v1 = { ...i }\r\n            v1.values.Customer = hasSelect\r\n            v1.hasValid.Customer.valid = true\r\n            return v1\r\n        })\r\n    };\r\n\r\n    function goButtonHandler(makeIBInvoice) {\r\n        const btnId = goBtnId;\r\n        _cfunc.btnIsDissablefunc({ btnId, state: true })\r\n\r\n        try {\r\n            const jsonBody = JSON.stringify({\r\n                FromDate: values.InvoiceDate,\r\n                Customer: makeIBInvoice ? makeIBInvoice.customer.value : values.Customer.value,\r\n                Party: commonPartyDropSelect.value,\r\n                OrderIDs: \"\"\r\n            });\r\n            dispatch(GoButtonForinvoiceAdd({ subPageMode, jsonBody, btnId }));\r\n\r\n        } catch (e) { _cfunc.btnIsDissablefunc({ btnId, state: false }) }\r\n    };\r\n\r\n    const SaveHandler = async (event) => {\r\n\r\n        event.preventDefault();\r\n        const btnId = event.target.id\r\n        const saveAndDownloadPdfMode = btnId.substring(0, 21) === \"SaveAndDownloadPdfBtn\";\r\n\r\n        const validMsg = []\r\n        const invoiceItems = []\r\n\r\n        // IsComparGstIn= compare Supplier and Customer are Same State by GSTIn Number\r\n        let IsComparGstIn = { GSTIn_1: values.Customer.GSTIN, GSTIn_2: _cfunc.loginUserGSTIN() }\r\ndebugger\r\n        orderItemDetails.forEach((index) => {\r\n            if (index.StockInValid) {\r\n                validMsg.push({ [index.ItemName]:` ${index.StockInvalidMsg}.`})\r\n                return\r\n            };\r\n\r\n            let isSameMRPinStock = ''; //this is check is Enterd stock Quantity is Same MRP\r\n            index.StockDetails.forEach((ele) => {\r\n\r\n                if (Number(ele.Qty) > 0) {\r\n\r\n                    if ((isSameMRPinStock === \"\") && !(isSameMRPinStock === false)) {//this is check is Enterd stock Quantity is Same MRP\r\n                        isSameMRPinStock = parseFloat(ele.MRP)\r\n                    } else if (isSameMRPinStock !== parseFloat(ele.MRP)) {\r\n                        isSameMRPinStock = false\r\n                    }\r\n                    if (!Number(ele.Rate) > 0) {//** */ rate validation check  */\r\n                        validMsg.push({ [index.ItemName]: \" Rate not available.\" })\r\n                        return\r\n                    };\r\n\r\n                    //**calculate Amount ,Discount Amount based on Discound type */\r\n\r\n                    const calculate = invoice_discountCalculate_Func(ele, index, IsComparGstIn)\r\n\r\n                    invoiceItems.push({\r\n                        \"Item\": index.Item,\r\n                        \"Unit\": index.default_UnitDropvalue.value,\r\n                        \"BatchCode\": ele.BatchCode,\r\n                        \"Quantity\": Number(ele.Qty).toFixed(3),\r\n                        \"BatchDate\": ele.BatchDate,\r\n                        \"BatchID\": ele.id,\r\n                        \"BaseUnitQuantity\": Number(ele.BaseUnitQuantity).toFixed(3),\r\n                        \"LiveBatch\": ele.LiveBatche,\r\n                        \"MRP\": ele.LiveBatcheMRPID,\r\n                        \"MRPValue\": ele.MRP,//changes\r\n                        \"Rate\": Number(ele.Rate).toFixed(2),\r\n\r\n                        \"GST\": ele.LiveBatcheGSTID,\r\n                        \"CGST\": Number(calculate.CGST_Amount).toFixed(2),\r\n                        \"SGST\": Number(calculate.SGST_Amount).toFixed(2),\r\n                        \"IGST\": Number(calculate.IGST_Amount).toFixed(2),\r\n\r\n                        \"GSTPercentage\": calculate.GST_Percentage,\r\n                        \"CGSTPercentage\": calculate.CGST_Percentage,\r\n                        \"SGSTPercentage\": calculate.SGST_Percentage,\r\n                        \"IGSTPercentage\": calculate.IGST_Percentage,\r\n\r\n                        \"BasicAmount\": Number(calculate.discountBaseAmt).toFixed(2),\r\n                        \"GSTAmount\": Number(calculate.roundedGstAmount).toFixed(2),\r\n                        \"Amount\": Number(calculate.roundedTotalAmount).toFixed(2),\r\n\r\n                        \"TaxType\": 'GST',\r\n                        \"DiscountType\": index.DiscountType,\r\n                        \"Discount\": Number(index.Discount) || 0,\r\n                        \"DiscountAmount\": Number(calculate.disCountAmt).toFixed(2),\r\n                    })\r\n                }\r\n            })\r\n\r\n            if (isSameMRPinStock === false) {\r\n                validMsg.push({ [index.ItemName]:\" Multiple MRP’S Invoice not allowed.\"})\r\n                return\r\n            };\r\n        })\r\n\r\n        if (validMsg.length > 0) {\r\n            customAlert({\r\n                Type: 4,\r\n                Message: validMsg,\r\n            })\r\n            return\r\n        }\r\n\r\n        if (!(invoiceItems.length > 0)) {\r\n            customAlert({\r\n                Type: 4,\r\n                Message: \"Please Enter One Item Quantity\",\r\n            })\r\n            return\r\n        }\r\n\r\n        //**grand total and Tcs Round Off calculations  */ \r\n        const calcalateGrandTotal = settingBaseRoundOffAmountFunc(orderItemDetails)//Pass Table Data \r\n\r\n        const forInvoice_1_json = () => ({  //** Json Body Generate For Invoice_1  Start+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++*/\r\n            InvoiceDate: values.InvoiceDate,\r\n            InvoiceItems: invoiceItems,\r\n            InvoicesReferences: orderIDs.map(i => ({ Order: i }))\r\n        });\r\n\r\n        const forIB_Invoice_json = async () => ({   //**   Json Body Generate For IB_Invoice  +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++*/\r\n            IBChallanDate: values.InvoiceDate,\r\n            IBChallanItems: invoiceItems,\r\n            IBChallansReferences: await orderIDs.map(i => ({ Demand: i }))\r\n        });\r\n\r\n        const for_common_json = () => ({  //**  Json Body Generate Common for Both +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++\r\n            CustomerGSTTin: values.Customer.GSTIN,\r\n            GrandTotal: calcalateGrandTotal.sumOfGrandTotal,\r\n            RoundOffAmount: calcalateGrandTotal.RoundOffAmount,\r\n            TCSAmount: calcalateGrandTotal.TCS_Amount,\r\n            Customer: values.Customer.value,\r\n            Vehicle: values.VehicleNo.value ? values.VehicleNo.value : \"\",\r\n            Party: commonPartyDropSelect.value,\r\n            CreatedBy: _cfunc.loginUserID(),\r\n            UpdatedBy: _cfunc.loginUserID(),\r\n        });\r\n\r\n        try {\r\n\r\n            if (formValid(state, setState)) {\r\n                _cfunc.btnIsDissablefunc({ btnId, state: true })\r\n                let jsonBody;  //json body decleration \r\n                if (subPageMode === url.INVOICE_1) {\r\n                    jsonBody = JSON.stringify({ ...for_common_json(), ...forInvoice_1_json() });\r\n                } else if (subPageMode === url.IB_INVOICE) {\r\n                    jsonBody = JSON.stringify({ ...for_common_json(), ...forIB_Invoice_json() });\r\n                }\r\n                // +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++\r\n                if (pageMode === mode.edit) {\r\n                    return\r\n                }\r\n                else {\r\n                    dispatch(invoiceSaveAction({ subPageMode, jsonBody, btnId, saveAndDownloadPdfMode }));\r\n                }\r\n            }\r\n        } catch (e) { _cfunc.CommonConsole(\"invode save Handler\", e) }\r\n\r\n    }\r\n\r\n    if (!(userPageAccessState === '')) {\r\n        return (\r\n            <React.Fragment>\r\n                <MetaTags>{_cfunc.metaTagLabel(userPageAccessState)}</MetaTags>\r\n\r\n                <div className=\"page-content\" >\r\n\r\n                    <form noValidate>\r\n                        <Col className=\"px-2 mb-1 c_card_filter header text-black\" sm={12}>\r\n\r\n                            <div className=\"row\" >\r\n                                <Col sm=\"4\" className=\"\">\r\n                                    <FormGroup className=\"mb- row mt-3 \" >\r\n                                        <Label className=\"col-sm-8 p-2\" style={{ width: \"83px\" }}>{fieldLabel.InvoiceDate}</Label>\r\n                                        <Col sm=\"7\">\r\n                                            <C_DatePicker\r\n                                                name=\"InvoiceDate\"\r\n                                                value={values.InvoiceDate}\r\n                                                id=\"myInput11\"\r\n                                                disabled={(orderItemDetails.length > 0 || pageMode === \"edit\") ? true : false}\r\n                                                onChange={InvoiceDateOnchange}\r\n                                            />\r\n                                            {isError.InvoiceDate.length > 0 && (\r\n                                                <span className=\"invalid-feedback\">{isError.InvoiceDate}</span>\r\n                                            )}\r\n                                        </Col>\r\n                                    </FormGroup>\r\n                                </Col>\r\n\r\n                                <Col sm=\"4\" className=\"\">\r\n                                    <FormGroup className=\"mb- row mt-3 \" >\r\n                                        <Label className=\"col-sm-6 p-2\"\r\n                                            style={{ width: \"65px\" }}>{fieldLabel.Customer}</Label>\r\n                                        <Col sm=\"7\">\r\n                                            <Select\r\n\r\n                                                name=\"Customer\"\r\n                                                value={values.Customer}\r\n                                                isSearchable={true}\r\n                                                isDisabled={orderItemDetails.length > 0 ? true : false}\r\n                                                id={'customerselect'}\r\n                                                className=\"react-dropdown\"\r\n                                                classNamePrefix=\"dropdown\"\r\n                                                options={CustomerDropdown_Options}\r\n                                                onChange={CustomerOnchange}\r\n                                                styles={{ menu: provided => ({ ...provided, zIndex: 3 }) }}\r\n                                            />\r\n                                            {isError.Customer.length > 0 && (\r\n                                                <span className=\"text-danger f-8\"><small>{isError.Customer}</small></span>\r\n                                            )}\r\n                                        </Col>\r\n                                    </FormGroup>\r\n                                </Col>\r\n\r\n                                <Col sm=\"4\" className=\"\">\r\n                                    <FormGroup className=\"mb- row mt-3 \" >\r\n                                        <Label className=\"col-sm-5 p-2\"\r\n                                            style={{ width: \"65px\" }}>{fieldLabel.VehicleNo}</Label>\r\n                                        <Col sm=\"7\">\r\n                                            <Select\r\n                                                name=\"VehicleNo\"\r\n                                                value={values.VehicleNo}\r\n                                                isSearchable={true}\r\n                                                id={'VehicleNoselect'}\r\n                                                className=\"react-dropdown\"\r\n                                                classNamePrefix=\"dropdown\"\r\n                                                options={VehicleNumber_Options}\r\n                                                onChange={(hasSelect, evn) => {\r\n                                                    onChangeSelect({ hasSelect, evn, state, setState })\r\n                                                }}\r\n                                                styles={{ menu: provided => ({ ...provided, zIndex: 3 }) }}\r\n                                            />\r\n                                            {isError.VehicleNo.length > 0 && (\r\n                                                <span className=\"text-danger f-8\"><small>{isError.VehicleNo}</small></span>\r\n                                            )}\r\n                                        </Col>\r\n                                    </FormGroup>\r\n                                </Col>\r\n                            </div>\r\n                        </Col>\r\n                        <div className=\"mb-1\">\r\n                            <CustomTable\r\n                                keyField={\"id\"}\r\n                                data={orderItemDetails}\r\n                                columns={pagesListColumns}\r\n                                id=\"table_Arrow\"\r\n                                classes={\"table  table-bordered \"}\r\n                                noDataIndication={\r\n                                    <div className=\"text-danger text-center \">\r\n                                        Items Not available\r\n                                    </div>\r\n                                }\r\n                                onDataSizeChange={(e) => {\r\n                                    _cfunc.tableInputArrowUpDounFunc(\"#table_Arrow\")\r\n                                }}\r\n                            />\r\n                        </div>\r\n                        {\r\n                            (orderItemDetails.length > 0) ? <div className=\"row save1\" style={{ paddingBottom: 'center' }}>\r\n                                <Col>\r\n                                    <SaveButton\r\n                                        loading={saveBtnloading}\r\n                                        id={saveBtnid}\r\n                                        pageMode={pageMode}\r\n                                        userAcc={userPageAccessState}\r\n                                        onClick={SaveHandler}\r\n                                        forceDisabled={saveAndPdfBtnLoading}\r\n                                    />\r\n                                </Col>\r\n                                {\r\n                                    (pageMode === mode.defaultsave) ?\r\n                                        <Col>\r\n                                            <SaveAndDownloadPDF\r\n                                                loading={saveAndPdfBtnLoading}\r\n                                                pageMode={pageMode}\r\n                                                id={saveBtnid}\r\n                                                userAcc={userPageAccessState}\r\n                                                onClick={SaveHandler}\r\n                                                forceDisabled={saveBtnloading}\r\n                                            />\r\n                                        </Col> : null}\r\n                            </div>\r\n                                : <div className=\"row save1\"></div>\r\n                        }\r\n                    </form>\r\n                </div>\r\n\r\n            </React.Fragment >\r\n        );\r\n    }\r\n    else {\r\n        return (\r\n            <React.Fragment></React.Fragment>\r\n        )\r\n    }\r\n};\r\n\r\nexport default Invoice"],"mappings":"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"},"metadata":{},"sourceType":"module"}