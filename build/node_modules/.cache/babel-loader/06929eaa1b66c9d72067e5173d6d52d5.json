{"ast":null,"code":"import _regeneratorRuntime from\"D:/Rohit/Git projects/Manthan/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"D:/Rohit/Git projects/Manthan/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _objectSpread from\"D:/Rohit/Git projects/Manthan/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"D:/Rohit/Git projects/Manthan/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import{Col,FormGroup,Input,Label,Row,Table}from\"reactstrap\";import{MetaTags}from\"react-meta-tags\";import{BreadcrumbShowCountlabel,commonPageFieldSuccess,getpdfReportdata}from\"../../../store/actions\";import{useDispatch,useSelector}from\"react-redux\";import{commonPageField}from\"../../../store/actions\";import{useHistory}from\"react-router-dom\";import{comAddPageFieldFunc,formValid,initialFiledFunc,onChangeDate,onChangeSelect}from\"../../../components/Common/validationFunction\";import Select from\"react-select\";import{GotoInvoiceBtn,SaveAndDownloadPDF,SaveButton}from\"../../../components/Common/CommonButton\";import{updateBOMListSuccess}from\"../../../store/Production/BOMRedux/action\";import ToolkitProvider from\"react-bootstrap-table2-toolkit\";import BootstrapTable from\"react-bootstrap-table-next\";import{Tbody,Thead}from\"react-super-responsive-table\";import*as mode from\"../../../routes/PageMode\";import*as pageId from\"../../../routes/allPageID\";import*as url from\"../../../routes/route_url\";import{GoButtonForinvoiceAdd,GoButtonForinvoiceAddSuccess,Uploaded_EInvoiceAction,invoiceSaveAction,invoiceSaveActionSuccess,makeIB_InvoiceActionSuccess}from\"../../../store/Sales/Invoice/action\";import{GetVenderSupplierCustomer}from\"../../../store/CommonAPI/SupplierRedux/actions\";import{customAlert}from\"../../../CustomAlert/ConfirmDialog\";import{invoice_discountCalculate_Func,innerStockCaculation,orderQtyOnChange,orderQtyUnit_SelectOnchange,stockQtyOnChange,settingBaseRoundOffAmountFunc}from\"./invoiceCaculations\";import\"./invoice.scss\";import*as _cfunc from\"../../../components/Common/CommonFunction\";import{CInput,C_DatePicker,decimalRegx}from\"../../../CustomValidateForm\";import{mySearchProps}from\"../../../components/Common/SearchBox/MySearch\";import{getVehicleList}from\"../../../store/Administrator/VehicleRedux/action\";import{Invoice_1_Edit_API_Singel_Get}from\"../../../helpers/backend_helper\";import*as report from'../../../Reports/ReportIndex';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Invoice=function Invoice(props){var dispatch=useDispatch();var history=useHistory();var currentDate_ymd=_cfunc.date_ymd_func();var subPageMode=history.location.pathname;var systemSetting=_cfunc.loginSystemSetting();var goBtnId=\"ADDGoBtn\".concat(subPageMode);var saveBtnid=\"saveBtn\".concat(subPageMode);var fileds={InvoiceDate:currentDate_ymd,Customer:\"\",VehicleNo:\"\"};var _useState=useState(function(){return initialFiledFunc(fileds);}),_useState2=_slicedToArray(_useState,2),state=_useState2[0],setState=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),orderItemDetails=_useState4[0],setOrderItemDetails=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),orderIDs=_useState6[0],setOrderIDs=_useState6[1];// for invoicer page heder dicount functionality useSate ************************************\nvar _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),discountValueAll=_useState8[0],setDiscountValueAll=_useState8[1];var _useState9=useState({value:2,label:\" % \"}),_useState10=_slicedToArray(_useState9,2),discountTypeAll=_useState10[0],setDiscountTypeAll=_useState10[1];var _useState11=useState([{value:1,label:\"Rs\"},{value:2,label:\"%\"}]),_useState12=_slicedToArray(_useState11,1),discountDropOption=_useState12[0];var _useState13=useState(false),_useState14=_slicedToArray(_useState13,2),changeAllDiscount=_useState14[0],setChangeAllDiscount=_useState14[1];var _useState15=useState(false),_useState16=_slicedToArray(_useState15,2),forceReload=_useState16[0],setForceReload=_useState16[1];// ****************************************************************************\nvar _useState17=useState(false),_useState18=_slicedToArray(_useState17,1),modalCss=_useState18[0];var _useState19=useState(mode.defaultsave),_useState20=_slicedToArray(_useState19,1),pageMode=_useState20[0];var _useState21=useState(''),_useState22=_slicedToArray(_useState21,2),userPageAccessState=_useState22[0],setUserAccState=_useState22[1];var _useSelector=useSelector(function(state){return{postMsg:state.InvoiceReducer.postMsg,updateMsg:state.BOMReducer.updateMsg,userAccess:state.Login.RoleAccessUpdateData,pageField:state.CommonPageFieldReducer.pageField,customer:state.CommonAPI_Reducer.customer,gobutton_Add:state.InvoiceReducer.gobutton_Add,vendorSupplierCustomer:state.CommonAPI_Reducer.vendorSupplierCustomer,VehicleNumber:state.VehicleReducer.VehicleList,makeIBInvoice:state.InvoiceReducer.makeIBInvoice,saveBtnloading:state.InvoiceReducer.saveBtnloading,goBtnloading:state.InvoiceReducer.goBtnloading,saveAndPdfBtnLoading:state.InvoiceReducer.saveAndPdfBtnLoading};}),postMsg=_useSelector.postMsg,updateMsg=_useSelector.updateMsg,pageField=_useSelector.pageField,userAccess=_useSelector.userAccess,_useSelector$gobutton=_useSelector.gobutton_Add,gobutton_Add=_useSelector$gobutton===void 0?{Status:false}:_useSelector$gobutton,vendorSupplierCustomer=_useSelector.vendorSupplierCustomer,makeIBInvoice=_useSelector.makeIBInvoice,VehicleNumber=_useSelector.VehicleNumber,goBtnloading=_useSelector.goBtnloading,saveBtnloading=_useSelector.saveBtnloading,saveAndPdfBtnLoading=_useSelector.saveAndPdfBtnLoading;var location=_objectSpread({},history.location);var hasShowModal=props.hasOwnProperty(\"editValue\");var values=_objectSpread({},state.values);var isError=state.isError;var fieldLabel=state.fieldLabel;useEffect(function(){dispatch(GetVenderSupplierCustomer({subPageMode:subPageMode,RouteID:\"\"}));dispatch(commonPageFieldSuccess(null));dispatch(commonPageField(pageId.INVOICE_1));dispatch(GoButtonForinvoiceAddSuccess([]));dispatch(getVehicleList());},[]);// userAccess useEffect\nuseEffect(function(){var userAcc=null;var locationPath=location.pathname;if(hasShowModal){locationPath=props.masterPath;};userAcc=userAccess.find(function(inx){return\"/\".concat(inx.ActualPagePath)===locationPath;});if(userAcc){setUserAccState(userAcc);_cfunc.breadcrumbReturnFunc({dispatch:dispatch,userAcc:userAcc});};},[userAccess]);useEffect(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var config,btnId;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(postMsg.Status===true&&postMsg.StatusCode===200){dispatch(invoiceSaveActionSuccess({Status:false}));// Reset the status to false\n//************************* / Fetch PDF report data if saveAndDownloadPdfMode is true /\nif(postMsg.saveAndDownloadPdfMode){config={editId:postMsg.InvoiceID,ReportType:report.invoice};dispatch(getpdfReportdata(Invoice_1_Edit_API_Singel_Get,config));}// ***************** Upload E-Invoice if AutoEInvoice and EInvoiceApplicable are both \"1\"  *****/\nif(systemSetting.AutoEInvoice===\"1\"&&systemSetting.EInvoiceApplicable===\"1\"){btnId=\"btn-E-Invoice-Upload-\".concat(postMsg.InvoiceID);try{dispatch(Uploaded_EInvoiceAction({btnId:btnId,RowId:postMsg.InvoiceID,UserID:_cfunc.loginUserID()}));}catch(error){}}customAlert({Type:1,Message:postMsg.Message});// Redirect to appropriate page based on subPageMode\nif(subPageMode===url.INVOICE_1){history.push({pathname:url.INVOICE_LIST_1});}else if(subPageMode===url.IB_INVOICE){history.push({pathname:url.IB_INVOICE_LIST});}}else if(postMsg.Status===true){// Show error alert message with the JSON stringified postMsg.Message\ncustomAlert({Type:4,Message:JSON.stringify(postMsg.Message)});}case 1:case\"end\":return _context.stop();}}},_callee);})),[postMsg]);useEffect(function(){if(updateMsg.Status===true&&updateMsg.StatusCode===200&&!modalCss){history.push({pathname:url.MATERIAL_ISSUE_LIST});}else if(updateMsg.Status===true&&!modalCss){dispatch(updateBOMListSuccess({Status:false}));customAlert({Type:3,Status:true,Message:JSON.stringify(updateMsg.Message)});}},[updateMsg,modalCss]);useEffect(function(){if(pageField){var fieldArr=pageField.PageFieldMaster;comAddPageFieldFunc({state:state,setState:setState,fieldArr:fieldArr});}},[pageField]);useEffect(function(){if(makeIBInvoice.Status===true&&makeIBInvoice.StatusCode===200){setState(function(i){var obj=_objectSpread({},i);obj.values.Customer=makeIBInvoice.customer;obj.hasValid.Customer.valid=true;return obj;});dispatch(makeIB_InvoiceActionSuccess({Status:false}));}},[makeIBInvoice]);useEffect(function(){if(gobutton_Add.Status===true&&gobutton_Add.StatusCode===200){setState(function(i){var obj=_objectSpread({},i);obj.values.Customer=gobutton_Add.customer;obj.hasValid.Customer.valid=true;return obj;});setOrderItemDetails(gobutton_Add.Data.OrderItemDetails);// **********************************************************\ntotalAmountCalcuationFunc(gobutton_Add.Data.OrderItemDetails);// show breadcrump tolat amount function//passs table array \n//*********************************************************** */\nsetOrderIDs(gobutton_Add.Data.OrderIDs);dispatch(GoButtonForinvoiceAddSuccess({Status:false}));}},[gobutton_Add]);useEffect(function(){return _cfunc.tableInputArrowUpDounFunc(\"#table_Arrow\");},[orderItemDetails]);var CustomerDropdown_Options=vendorSupplierCustomer.map(function(index){return{value:index.id,label:index.Name};});var VehicleNumber_Options=VehicleNumber.map(function(index){return{value:index.id,label:index.VehicleNumber};});var pagesListColumns=[{//***************ItemName********************************************************************* */\ntext:\"Item Name\",dataField:\"ItemName\",classes:function classes(){return'invoice-item-row';},formatter:function formatter(cellContent,index1){return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"invoice-item-row-div-1\",children:/*#__PURE__*/_jsx(\"samp\",{id:\"ItemName\".concat(index1.id),children:index1.ItemName})}),index1.StockInValid?/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"samp\",{id:\"StockInvalidMsg-\".concat(index1.id),style:{color:\"red\"},children:[\" \",index1.StockInvalidMsg]})}):/*#__PURE__*/_jsx(_Fragment,{})]});}},{//***************Quantity********************************************************************* */\ntext:\"Quantity/Unit\",dataField:\"\",formatExtraData:{tableList:orderItemDetails},// classes: () => ('invoice-quantity-row1'),\nformatter:function formatter(cellContent,index1,keys_,_ref2){var _ref2$tableList=_ref2.tableList,tableList=_ref2$tableList===void 0?[]:_ref2$tableList;return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"div-1 mb-2\",style:{minWidth:\"200px\"},children:/*#__PURE__*/_jsx(Input,{type:\"text\",disabled:pageMode==='edit'?true:false,id:\"OrderQty-\".concat(index1.id),className:\"input\",style:{textAlign:\"right\"},autoComplete:\"off\",defaultValue:index1.Quantity,onChange:function onChange(event){orderQtyOnChange(event,index1);totalAmountCalcuationFunc(tableList);}},index1.id)}),/*#__PURE__*/_jsx(\"div\",{className:\"div-1 \",children:/*#__PURE__*/_jsx(\"div\",{id:\"select\",children:/*#__PURE__*/_jsx(Select,{classNamePrefix:\"select2-selection\",id:\"ddlUnit\",isDisabled:pageMode==='edit'?true:false,defaultValue:index1.default_UnitDropvalue,options:index1.UnitDetails.map(function(i){return{\"label\":i.UnitName,\"value\":i.UnitID,\"ConversionUnit\":i.ConversionUnit,\"Unitlabel\":i.Unitlabel,\"BaseUnitQuantity\":i.BaseUnitQuantity,\"BaseUnitQuantityNoUnit\":i.BaseUnitQuantityNoUnit};}),onChange:function onChange(event){orderQtyUnit_SelectOnchange(event,index1);totalAmountCalcuationFunc(tableList);}})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"bottom-div\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Order-Qty :\"}),/*#__PURE__*/_jsx(\"samp\",{children:index1.OrderQty}),/*#__PURE__*/_jsx(\"samp\",{children:index1.UnitName})]})]});}},{//***************StockDetails********************************************************************* */\ntext:\"Stock Details\",dataField:\"StockDetails\",formatExtraData:{tableList:orderItemDetails},formatter:function formatter(cellContent,index1,keys_,_ref3){var _ref3$tableList=_ref3.tableList,tableList=_ref3$tableList===void 0?[]:_ref3$tableList;return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(Table,{className:\"table table-responsive mb-1\",children:[/*#__PURE__*/_jsx(Thead,{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{style:{zIndex:-1},children:\"BatchCode\"}),/*#__PURE__*/_jsx(\"th\",{style:{zIndex:-1},children:/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"samp\",{children:\"Stock Quantity\"})})}),/*#__PURE__*/_jsx(\"th\",{style:{zIndex:-1},children:/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"samp\",{children:\"Quantity\"})})}),/*#__PURE__*/_jsx(\"th\",{style:{zIndex:-1},children:\"Basic Rate\"}),/*#__PURE__*/_jsx(\"th\",{style:{zIndex:-1},children:\"MRP\"})]})}),/*#__PURE__*/_jsx(Tbody,{children:cellContent.map(function(index2){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"div\",{style:{width:\"120px\"},children:index2.BatchCode})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"div\",{style:{width:\"120px\",textAlign:\"right\"},children:/*#__PURE__*/_jsx(\"samp\",{id:\"ActualQuantity-\".concat(index1.id,\"-\").concat(index2.id),children:index2.ActualQuantity})})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"div\",{style:{width:\"150px\"},children:/*#__PURE__*/_jsx(Input,{type:\"text\",disabled:pageMode==='edit'?true:false,style:{textAlign:\"right\"},id:\"batchQty\".concat(index1.id,\"-\").concat(index2.id),defaultValue:index2.Qty,onChange:function onChange(event){stockQtyOnChange(event,index1,index2);totalAmountCalcuationFunc(tableList);}},\"batchQty\".concat(index1.id,\"-\").concat(index2.id))})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"div\",{style:{width:\"50px\"},children:/*#__PURE__*/_jsx(\"span\",{id:\"stockItemRate-\".concat(index1.id,\"-\").concat(index2.id),children:_cfunc.amountCommaSeparateFunc(index2.Rate)})})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"div\",{style:{width:\"50px\"},children:index2.MRP})})]},index1.id);})})]})});}},{//***************Discount********************************************************************* */\ntext:\"Discount/unit\",dataField:\"\",formatExtraData:{discountValueAll:discountValueAll,discountTypeAll:discountTypeAll,changeAllDiscount:changeAllDiscount,forceReload:forceReload,tableList:orderItemDetails},headerFormatter:function headerFormatter(){return/*#__PURE__*/_jsx(\"div\",{className:\"\",children:orderItemDetails.length<=0?/*#__PURE__*/_jsx(\"div\",{className:\"col col-3 mt-2\",children:/*#__PURE__*/_jsx(Label,{children:\"Discount/unit\"})}):/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\" mt-n2 mb-n2\",children:/*#__PURE__*/_jsx(Label,{children:\"Discount/unit\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"col col-6\",style:{width:\"100px\"},children:/*#__PURE__*/_jsx(Select,{type:\"text\",defaultValue:discountTypeAll,classNamePrefix:\"select2-selection\",options:discountDropOption,style:{textAlign:\"right\"},onChange:function onChange(e){setChangeAllDiscount(true);setDiscountTypeAll(e);setDiscountValueAll('');}})}),/*#__PURE__*/_jsx(\"div\",{className:\"col col-6\",style:{width:\"100px\"},children:/*#__PURE__*/_jsx(CInput,{type:\"text\",className:\"input\",style:{textAlign:\"right\"},cpattern:decimalRegx,value:discountValueAll,onChange:function onChange(e){var e_val=Number(e.target.value);// Check if discount type is \"percentage\"\nif(discountTypeAll.value===2){// Discount type 2 represents \"percentage\"\n// Limit the input to the range of 0 to 100\nif(e_val>100){e.target.value=100;// Set the input value to 100 if it exceeds 100\n}else if(!(e_val>=0&&e_val<100)){e.target.value=\"\";// Clear the input value if it is less than 0\n}}setChangeAllDiscount(true);setDiscountValueAll(e.target.value);}})})]})});},classes:function classes(){return\"invoice-discount-row\";},formatter:function formatter(cellContent,index1,key,formatExtraData){var tableList=formatExtraData.tableList,discountValueAll=formatExtraData.discountValueAll,discountTypeAll=formatExtraData.discountTypeAll;if(formatExtraData.changeAllDiscount){index1.Discount=discountValueAll;index1.DiscountType=discountTypeAll.value;innerStockCaculation(index1);totalAmountCalcuationFunc(tableList);}if(!index1.DiscountType){index1.DiscountType=discountTypeAll.value;}var defaultDiscountTypelabel=index1.DiscountType===1?discountDropOption[0]:discountDropOption[1];return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"mb-2\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"parent\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"child\",children:/*#__PURE__*/_jsx(\"label\",{className:\"label\",children:\"Type\\xA0\\xA0\\xA0\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"child\",children:/*#__PURE__*/_jsx(Select,{id:\"DicountType_\".concat(key),classNamePrefix:\"select2-selection\",value:defaultDiscountTypelabel,options:discountDropOption,onChange:function onChange(e){setChangeAllDiscount(false);setForceReload(!forceReload);index1.DiscountType=e.value;index1.Discount='';innerStockCaculation(index1);totalAmountCalcuationFunc(tableList);}},\"DicountType_\".concat(key,\"-\").concat(index1.id))})]})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"parent\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"child\",children:/*#__PURE__*/_jsx(\"label\",{className:\"label\",children:\"Value\\xA0\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"child\",children:/*#__PURE__*/_jsx(CInput,{className:\"input\",id:\"Dicount_\".concat(key,\"-\").concat(index1.id),style:{textAlign:\"right\"},type:\"text\",value:index1.Discount,cpattern:decimalRegx,onChange:function onChange(e){var e_val=Number(e.target.value);// Check if discount type is \"percentage\"\nif(index1.DiscountType===2){// Discount type 2 represents \"percentage\"\n// Limit the input to the range of 0 to 100\nif(e_val>100){e.target.value=100;// Set the input value to 100 if it exceeds 100\n}else if(!(e_val>=0&&e_val<100)){e.target.value='';// Clear the input value if it is less than 0\n}}index1.Discount=e.target.value;setChangeAllDiscount(false);setForceReload(!forceReload);innerStockCaculation(index1);totalAmountCalcuationFunc(tableList);}})})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"bottom-div\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Amount:\"}),/*#__PURE__*/_jsx(\"samp\",{id:\"itemTotalAmount-\".concat(index1.id),children:_cfunc.amountCommaSeparateFunc(index1.itemTotalAmount)})]})]});}}];var totalAmountCalcuationFunc=function totalAmountCalcuationFunc(){var tableList=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];var calcalateGrandTotal=settingBaseRoundOffAmountFunc(tableList);//toLocaleString is convert comma saprate Amount\nvar count_label=\"Total Amount\".concat(\" :\",Number(calcalateGrandTotal.sumOfGrandTotal).toLocaleString());dispatch(BreadcrumbShowCountlabel(count_label));};function InvoiceDateOnchange(y,v,e){dispatch(GoButtonForinvoiceAddSuccess([]));onChangeDate({e:e,v:v,state:state,setState:setState});};function CustomerOnchange(hasSelect){setState(function(i){var v1=_objectSpread({},i);v1.values.Customer=hasSelect;v1.hasValid.Customer.valid=true;return v1;});};function goButtonHandler(makeIBInvoice){var btnId=goBtnId;_cfunc.btnIsDissablefunc({btnId:btnId,state:true});try{var jsonBody=JSON.stringify({FromDate:values.InvoiceDate,Customer:makeIBInvoice?makeIBInvoice.customer.value:values.Customer.value,Party:_cfunc.loginPartyID(),OrderIDs:\"\"});dispatch(GoButtonForinvoiceAdd({subPageMode:subPageMode,jsonBody:jsonBody,btnId:btnId}));}catch(e){_cfunc.btnIsDissablefunc({btnId:btnId,state:false});}};var SaveHandler=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(event){var btnId,saveAndDownloadPdfMode,validMsg,invoiceItems,IsComparGstIn,calcalateGrandTotal,forInvoice_1_json,forIB_Invoice_json,for_common_json,jsonBody;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:event.preventDefault();btnId=event.target.id;saveAndDownloadPdfMode=btnId.substring(0,21)===\"SaveAndDownloadPdfBtn\";validMsg=[];invoiceItems=[];// IsComparGstIn= compare Supplier and Customer are Same State by GSTIn Number\nIsComparGstIn={GSTIn_1:values.Customer.GSTIN,GSTIn_2:_cfunc.loginUserGSTIN()};orderItemDetails.forEach(function(index){if(index.StockInValid){validMsg.push(\"\".concat(index.ItemName,\":\").concat(index.StockInvalidMsg));return;};var isSameMRPinStock='';//this is check is Enterd stock Quantity is Same MRP\nindex.StockDetails.forEach(function(ele){if(Number(ele.Qty)>0){if(isSameMRPinStock===\"\"&&!(isSameMRPinStock===false)){//this is check is Enterd stock Quantity is Same MRP\nisSameMRPinStock=parseFloat(ele.MRP);}else if(isSameMRPinStock!==parseFloat(ele.MRP)){isSameMRPinStock=false;}//**calculate Amount ,Discount Amount based on Discound type */\nvar calculate=invoice_discountCalculate_Func(ele,index,IsComparGstIn);invoiceItems.push({\"Item\":index.Item,\"Unit\":index.default_UnitDropvalue.value,\"BatchCode\":ele.BatchCode,\"Quantity\":Number(ele.Qty).toFixed(3),\"BatchDate\":ele.BatchDate,\"BatchID\":ele.id,\"BaseUnitQuantity\":Number(ele.BaseUnitQuantity).toFixed(3),\"LiveBatch\":ele.LiveBatche,\"MRP\":ele.LiveBatcheMRPID,\"MRPValue\":ele.MRP,//changes\n\"Rate\":Number(ele.Rate).toFixed(2),\"GST\":ele.LiveBatcheGSTID,\"CGST\":Number(calculate.CGST_Amount).toFixed(2),\"SGST\":Number(calculate.SGST_Amount).toFixed(2),\"IGST\":Number(calculate.IGST_Amount).toFixed(2),\"GSTPercentage\":calculate.GST_Percentage,\"CGSTPercentage\":calculate.CGST_Percentage,\"SGSTPercentage\":calculate.SGST_Percentage,\"IGSTPercentage\":calculate.IGST_Percentage,\"BasicAmount\":Number(calculate.discountBaseAmt).toFixed(2),\"GSTAmount\":Number(calculate.roundedGstAmount).toFixed(2),\"Amount\":Number(calculate.roundedTotalAmount).toFixed(2),\"TaxType\":'GST',\"DiscountType\":index.DiscountType,\"Discount\":Number(index.Discount)||0,\"DiscountAmount\":Number(calculate.disCountAmt).toFixed(2)});}});if(isSameMRPinStock===false){validMsg.push(\"\".concat(index.ItemName,\": This Item Enter Same MRP Stock Quantity\"));return;};});if(!(validMsg.length>0)){_context3.next=10;break;}customAlert({Type:4,Message:JSON.stringify(validMsg)});return _context3.abrupt(\"return\");case 10:if(invoiceItems.length>0){_context3.next=13;break;}customAlert({Type:4,Message:\"Please Enter One Item Quantity\"});return _context3.abrupt(\"return\");case 13://**grand total and Tcs Round Off calculations  */ \ncalcalateGrandTotal=settingBaseRoundOffAmountFunc(orderItemDetails);//Pass Table Data \nforInvoice_1_json=function forInvoice_1_json(){return{//** Json Body Generate For Invoice_1  Start+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++*/\nInvoiceDate:values.InvoiceDate,InvoiceItems:invoiceItems,InvoicesReferences:orderIDs.map(function(i){return{Order:i};})};};forIB_Invoice_json=/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.t0=values.InvoiceDate;_context2.t1=invoiceItems;_context2.next=4;return orderIDs.map(function(i){return{Demand:i};});case 4:_context2.t2=_context2.sent;return _context2.abrupt(\"return\",{IBChallanDate:_context2.t0,IBChallanItems:_context2.t1,IBChallansReferences:_context2.t2});case 6:case\"end\":return _context2.stop();}}},_callee2);}));return function forIB_Invoice_json(){return _ref5.apply(this,arguments);};}();for_common_json=function for_common_json(){return{//**  Json Body Generate Common for Both +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++\nCustomerGSTTin:values.Customer.GSTIN,GrandTotal:calcalateGrandTotal.sumOfGrandTotal,RoundOffAmount:calcalateGrandTotal.RoundOffAmount,TCSAmount:calcalateGrandTotal.TCS_Amount,Customer:values.Customer.value,Vehicle:values.VehicleNo.value?values.VehicleNo.value:\"\",Party:_cfunc.loginPartyID(),CreatedBy:_cfunc.loginUserID(),UpdatedBy:_cfunc.loginUserID()};};_context3.prev=17;if(!formValid(state,setState)){_context3.next=26;break;}_cfunc.btnIsDissablefunc({btnId:btnId,state:true});//json body decleration \nif(subPageMode===url.INVOICE_1){jsonBody=JSON.stringify(_objectSpread(_objectSpread({},for_common_json()),forInvoice_1_json()));}else if(subPageMode===url.IB_INVOICE){jsonBody=JSON.stringify(_objectSpread(_objectSpread({},for_common_json()),forIB_Invoice_json()));}// +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++\nif(!(pageMode===mode.edit)){_context3.next=25;break;}return _context3.abrupt(\"return\");case 25:dispatch(invoiceSaveAction({subPageMode:subPageMode,jsonBody:jsonBody,btnId:btnId,saveAndDownloadPdfMode:saveAndDownloadPdfMode}));case 26:_context3.next=31;break;case 28:_context3.prev=28;_context3.t0=_context3[\"catch\"](17);_cfunc.CommonConsole(\"invode save Handler\",_context3.t0);case 31:case\"end\":return _context3.stop();}}},_callee3,null,[[17,28]]);}));return function SaveHandler(_x){return _ref4.apply(this,arguments);};}();if(!(userPageAccessState==='')){return/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsx(MetaTags,{children:_cfunc.metaTagLabel(userPageAccessState)}),/*#__PURE__*/_jsx(\"div\",{className:\"page-content\",children:/*#__PURE__*/_jsxs(\"form\",{noValidate:true,children:[/*#__PURE__*/_jsx(Col,{className:\"px-2 mb-1 c_card_filter header text-black\",sm:12,children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(Col,{sm:\"4\",className:\"\",children:/*#__PURE__*/_jsxs(FormGroup,{className:\"mb- row mt-3 \",children:[/*#__PURE__*/_jsx(Label,{className:\"col-sm-8 p-2\",style:{width:\"83px\"},children:fieldLabel.InvoiceDate}),/*#__PURE__*/_jsxs(Col,{sm:\"7\",children:[/*#__PURE__*/_jsx(C_DatePicker,{name:\"InvoiceDate\",value:values.InvoiceDate,id:\"myInput11\",disabled:orderItemDetails.length>0||pageMode===\"edit\"?true:false,onChange:InvoiceDateOnchange}),isError.InvoiceDate.length>0&&/*#__PURE__*/_jsx(\"span\",{className:\"invalid-feedback\",children:isError.InvoiceDate})]})]})}),/*#__PURE__*/_jsx(Col,{sm:\"4\",className:\"\",children:/*#__PURE__*/_jsxs(FormGroup,{className:\"mb- row mt-3 \",children:[/*#__PURE__*/_jsx(Label,{className:\"col-sm-6 p-2\",style:{width:\"65px\"},children:fieldLabel.Customer}),/*#__PURE__*/_jsxs(Col,{sm:\"7\",children:[/*#__PURE__*/_jsx(Select,{name:\"Customer\",value:values.Customer,isSearchable:true,isDisabled:orderItemDetails.length>0?true:false,id:'customerselect',className:\"react-dropdown\",classNamePrefix:\"dropdown\",options:CustomerDropdown_Options,onChange:CustomerOnchange,styles:{menu:function menu(provided){return _objectSpread(_objectSpread({},provided),{},{zIndex:2});}}}),isError.Customer.length>0&&/*#__PURE__*/_jsx(\"span\",{className:\"text-danger f-8\",children:/*#__PURE__*/_jsx(\"small\",{children:isError.Customer})})]})]})}),/*#__PURE__*/_jsx(Col,{sm:\"4\",className:\"\",children:/*#__PURE__*/_jsxs(FormGroup,{className:\"mb- row mt-3 \",children:[/*#__PURE__*/_jsx(Label,{className:\"col-sm-5 p-2\",style:{width:\"65px\"},children:fieldLabel.VehicleNo}),/*#__PURE__*/_jsxs(Col,{sm:\"7\",children:[/*#__PURE__*/_jsx(Select,{name:\"VehicleNo\",value:values.VehicleNo,isSearchable:true,id:'VehicleNoselect',className:\"react-dropdown\",classNamePrefix:\"dropdown\",options:VehicleNumber_Options,onChange:function onChange(hasSelect,evn){onChangeSelect({hasSelect:hasSelect,evn:evn,state:state,setState:setState});},styles:{menu:function menu(provided){return _objectSpread(_objectSpread({},provided),{},{zIndex:2});}}}),isError.VehicleNo.length>0&&/*#__PURE__*/_jsx(\"span\",{className:\"text-danger f-8\",children:/*#__PURE__*/_jsx(\"small\",{children:isError.VehicleNo})})]})]})})]})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(ToolkitProvider,{keyField:\"id\",data:orderItemDetails,columns:pagesListColumns,search:true,children:function children(toolkitProps){return/*#__PURE__*/_jsx(React.Fragment,{children:/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{xl:\"12\",children:/*#__PURE__*/_jsx(\"div\",{className:\"table-responsive table\",children:/*#__PURE__*/_jsx(BootstrapTable,_objectSpread(_objectSpread({keyField:\"id\",id:\"table_Arrow\",classes:\"table  table-bordered \",noDataIndication:/*#__PURE__*/_jsx(\"div\",{className:\"text-danger text-center \",children:\"Items Not available\"})},toolkitProps.baseProps),{},{onDataSizeChange:function onDataSizeChange(e){_cfunc.tableInputArrowUpDounFunc(\"#table_Arrow\");}}))})}),mySearchProps(toolkitProps.searchProps)]})});}})}),orderItemDetails.length>0?/*#__PURE__*/_jsxs(\"div\",{className:\"row save1\",style:{paddingBottom:'center'},children:[/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsx(SaveButton,{loading:saveBtnloading,id:saveBtnid,pageMode:pageMode,userAcc:userPageAccessState,onClick:SaveHandler,forceDisabled:saveAndPdfBtnLoading})}),pageMode===mode.defaultsave?/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsx(SaveAndDownloadPDF,{loading:saveAndPdfBtnLoading,pageMode:pageMode,id:saveBtnid,userAcc:userPageAccessState,onClick:SaveHandler,forceDisabled:saveBtnloading})}):null]}):/*#__PURE__*/_jsx(\"div\",{className:\"row save1\"})]})})]});}else{return/*#__PURE__*/_jsx(React.Fragment,{});}};export default Invoice;","map":{"version":3,"names":["React","useEffect","useState","Col","FormGroup","Input","Label","Row","Table","MetaTags","BreadcrumbShowCountlabel","commonPageFieldSuccess","getpdfReportdata","useDispatch","useSelector","commonPageField","useHistory","comAddPageFieldFunc","formValid","initialFiledFunc","onChangeDate","onChangeSelect","Select","GotoInvoiceBtn","SaveAndDownloadPDF","SaveButton","updateBOMListSuccess","ToolkitProvider","BootstrapTable","Tbody","Thead","mode","pageId","url","GoButtonForinvoiceAdd","GoButtonForinvoiceAddSuccess","Uploaded_EInvoiceAction","invoiceSaveAction","invoiceSaveActionSuccess","makeIB_InvoiceActionSuccess","GetVenderSupplierCustomer","customAlert","invoice_discountCalculate_Func","innerStockCaculation","orderQtyOnChange","orderQtyUnit_SelectOnchange","stockQtyOnChange","settingBaseRoundOffAmountFunc","_cfunc","CInput","C_DatePicker","decimalRegx","mySearchProps","getVehicleList","Invoice_1_Edit_API_Singel_Get","report","Invoice","props","dispatch","history","currentDate_ymd","date_ymd_func","subPageMode","location","pathname","systemSetting","loginSystemSetting","goBtnId","saveBtnid","fileds","InvoiceDate","Customer","VehicleNo","state","setState","orderItemDetails","setOrderItemDetails","orderIDs","setOrderIDs","discountValueAll","setDiscountValueAll","value","label","discountTypeAll","setDiscountTypeAll","discountDropOption","changeAllDiscount","setChangeAllDiscount","forceReload","setForceReload","modalCss","defaultsave","pageMode","userPageAccessState","setUserAccState","postMsg","InvoiceReducer","updateMsg","BOMReducer","userAccess","Login","RoleAccessUpdateData","pageField","CommonPageFieldReducer","customer","CommonAPI_Reducer","gobutton_Add","vendorSupplierCustomer","VehicleNumber","VehicleReducer","VehicleList","makeIBInvoice","saveBtnloading","goBtnloading","saveAndPdfBtnLoading","Status","hasShowModal","hasOwnProperty","values","isError","fieldLabel","RouteID","INVOICE_1","userAcc","locationPath","masterPath","find","inx","ActualPagePath","breadcrumbReturnFunc","StatusCode","saveAndDownloadPdfMode","config","editId","InvoiceID","ReportType","invoice","AutoEInvoice","EInvoiceApplicable","btnId","RowId","UserID","loginUserID","error","Type","Message","push","INVOICE_LIST_1","IB_INVOICE","IB_INVOICE_LIST","JSON","stringify","MATERIAL_ISSUE_LIST","fieldArr","PageFieldMaster","i","obj","hasValid","valid","Data","OrderItemDetails","totalAmountCalcuationFunc","OrderIDs","tableInputArrowUpDounFunc","CustomerDropdown_Options","map","index","id","Name","VehicleNumber_Options","pagesListColumns","text","dataField","classes","formatter","cellContent","index1","ItemName","StockInValid","color","StockInvalidMsg","formatExtraData","tableList","keys_","minWidth","textAlign","Quantity","event","default_UnitDropvalue","UnitDetails","UnitName","UnitID","ConversionUnit","Unitlabel","BaseUnitQuantity","BaseUnitQuantityNoUnit","OrderQty","zIndex","index2","width","BatchCode","ActualQuantity","Qty","amountCommaSeparateFunc","Rate","MRP","headerFormatter","length","e","e_val","Number","target","key","Discount","DiscountType","defaultDiscountTypelabel","itemTotalAmount","calcalateGrandTotal","count_label","sumOfGrandTotal","toLocaleString","InvoiceDateOnchange","y","v","CustomerOnchange","hasSelect","v1","goButtonHandler","btnIsDissablefunc","jsonBody","FromDate","Party","loginPartyID","SaveHandler","preventDefault","substring","validMsg","invoiceItems","IsComparGstIn","GSTIn_1","GSTIN","GSTIn_2","loginUserGSTIN","forEach","isSameMRPinStock","StockDetails","ele","parseFloat","calculate","Item","toFixed","BatchDate","LiveBatche","LiveBatcheMRPID","LiveBatcheGSTID","CGST_Amount","SGST_Amount","IGST_Amount","GST_Percentage","CGST_Percentage","SGST_Percentage","IGST_Percentage","discountBaseAmt","roundedGstAmount","roundedTotalAmount","disCountAmt","forInvoice_1_json","InvoiceItems","InvoicesReferences","Order","forIB_Invoice_json","Demand","IBChallanDate","IBChallanItems","IBChallansReferences","for_common_json","CustomerGSTTin","GrandTotal","RoundOffAmount","TCSAmount","TCS_Amount","Vehicle","CreatedBy","UpdatedBy","edit","CommonConsole","metaTagLabel","menu","provided","evn","toolkitProps","baseProps","searchProps","paddingBottom"],"sources":["D:/Rohit/Git projects/Manthan/src/pages/Sale/Invoice/Invoice.js"],"sourcesContent":["import React, { useEffect, useState, } from \"react\";\r\nimport {\r\n    Col,\r\n    FormGroup,\r\n    Input,\r\n    Label,\r\n    Row,\r\n    Table\r\n} from \"reactstrap\";\r\nimport { MetaTags } from \"react-meta-tags\";\r\nimport { BreadcrumbShowCountlabel, commonPageFieldSuccess, getpdfReportdata } from \"../../../store/actions\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { commonPageField } from \"../../../store/actions\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport {\r\n    comAddPageFieldFunc,\r\n    formValid,\r\n    initialFiledFunc,\r\n    onChangeDate,\r\n    onChangeSelect,\r\n} from \"../../../components/Common/validationFunction\";\r\nimport Select from \"react-select\";\r\nimport { GotoInvoiceBtn, SaveAndDownloadPDF, SaveButton } from \"../../../components/Common/CommonButton\";\r\nimport {\r\n    updateBOMListSuccess\r\n} from \"../../../store/Production/BOMRedux/action\";\r\nimport ToolkitProvider from \"react-bootstrap-table2-toolkit\";\r\nimport BootstrapTable from \"react-bootstrap-table-next\";\r\nimport { Tbody, Thead } from \"react-super-responsive-table\";\r\nimport * as mode from \"../../../routes/PageMode\";\r\nimport * as pageId from \"../../../routes/allPageID\"\r\nimport * as url from \"../../../routes/route_url\"\r\nimport {\r\n    GoButtonForinvoiceAdd,\r\n    GoButtonForinvoiceAddSuccess,\r\n    Uploaded_EInvoiceAction,\r\n    invoiceSaveAction,\r\n    invoiceSaveActionSuccess,\r\n    makeIB_InvoiceActionSuccess\r\n} from \"../../../store/Sales/Invoice/action\";\r\nimport { GetVenderSupplierCustomer } from \"../../../store/CommonAPI/SupplierRedux/actions\";\r\nimport { customAlert } from \"../../../CustomAlert/ConfirmDialog\";\r\nimport {\r\n    invoice_discountCalculate_Func,\r\n    innerStockCaculation,\r\n    orderQtyOnChange,\r\n    orderQtyUnit_SelectOnchange,\r\n    stockQtyOnChange,\r\n    settingBaseRoundOffAmountFunc\r\n} from \"./invoiceCaculations\";\r\nimport \"./invoice.scss\"\r\nimport * as _cfunc from \"../../../components/Common/CommonFunction\";\r\nimport { CInput, C_DatePicker, decimalRegx } from \"../../../CustomValidateForm\";\r\nimport { mySearchProps } from \"../../../components/Common/SearchBox/MySearch\";\r\nimport { getVehicleList } from \"../../../store/Administrator/VehicleRedux/action\";\r\nimport { Invoice_1_Edit_API_Singel_Get } from \"../../../helpers/backend_helper\";\r\nimport * as report from '../../../Reports/ReportIndex'\r\n\r\nconst Invoice = (props) => {\r\n\r\n    const dispatch = useDispatch();\r\n    const history = useHistory();\r\n    const currentDate_ymd = _cfunc.date_ymd_func();\r\n    const subPageMode = history.location.pathname\r\n    const systemSetting = _cfunc.loginSystemSetting();\r\n\r\n    const goBtnId = `ADDGoBtn${subPageMode}`\r\n    const saveBtnid = `saveBtn${subPageMode}`\r\n\r\n    const fileds = {\r\n        InvoiceDate: currentDate_ymd,\r\n        Customer: \"\",\r\n        VehicleNo: \"\"\r\n    }\r\n\r\n    const [state, setState] = useState(() => initialFiledFunc(fileds))\r\n    const [orderItemDetails, setOrderItemDetails] = useState([])\r\n    const [orderIDs, setOrderIDs] = useState([])\r\n\r\n    // for invoicer page heder dicount functionality useSate ************************************\r\n    const [discountValueAll, setDiscountValueAll] = useState(\"\");\r\n    const [discountTypeAll, setDiscountTypeAll] = useState({ value: 2, label: \" % \" });\r\n    const [discountDropOption] = useState([{ value: 1, label: \"Rs\" }, { value: 2, label: \"%\" }])\r\n    const [changeAllDiscount, setChangeAllDiscount] = useState(false)\r\n    const [forceReload, setForceReload] = useState(false)\r\n    // ****************************************************************************\r\n\r\n    const [modalCss] = useState(false);\r\n    const [pageMode] = useState(mode.defaultsave);\r\n    const [userPageAccessState, setUserAccState] = useState('');\r\n\r\n    const {\r\n        postMsg,\r\n        updateMsg,\r\n        pageField,\r\n        userAccess,\r\n        gobutton_Add = { Status: false },\r\n        vendorSupplierCustomer,\r\n        makeIBInvoice,\r\n        VehicleNumber,\r\n        goBtnloading,\r\n        saveBtnloading,\r\n        saveAndPdfBtnLoading\r\n    } = useSelector((state) => ({\r\n        postMsg: state.InvoiceReducer.postMsg,\r\n        updateMsg: state.BOMReducer.updateMsg,\r\n        userAccess: state.Login.RoleAccessUpdateData,\r\n        pageField: state.CommonPageFieldReducer.pageField,\r\n        customer: state.CommonAPI_Reducer.customer,\r\n        gobutton_Add: state.InvoiceReducer.gobutton_Add,\r\n        vendorSupplierCustomer: state.CommonAPI_Reducer.vendorSupplierCustomer,\r\n        VehicleNumber: state.VehicleReducer.VehicleList,\r\n        makeIBInvoice: state.InvoiceReducer.makeIBInvoice,\r\n        saveBtnloading: state.InvoiceReducer.saveBtnloading,\r\n        goBtnloading: state.InvoiceReducer.goBtnloading,\r\n        saveAndPdfBtnLoading: state.InvoiceReducer.saveAndPdfBtnLoading,\r\n    }));\r\n\r\n    const location = { ...history.location }\r\n    const hasShowModal = props.hasOwnProperty(\"editValue\")\r\n\r\n    const values = { ...state.values }\r\n    const { isError } = state;\r\n    const { fieldLabel } = state;\r\n\r\n    useEffect(() => {\r\n\r\n        dispatch(GetVenderSupplierCustomer({ subPageMode, RouteID: \"\" }))\r\n        dispatch(commonPageFieldSuccess(null));\r\n        dispatch(commonPageField(pageId.INVOICE_1))\r\n        dispatch(GoButtonForinvoiceAddSuccess([]))\r\n        dispatch(getVehicleList())\r\n\r\n    }, []);\r\n\r\n    // userAccess useEffect\r\n    useEffect(() => {\r\n        let userAcc = null;\r\n        let locationPath = location.pathname;\r\n\r\n        if (hasShowModal) {\r\n            locationPath = props.masterPath;\r\n        };\r\n        userAcc = userAccess.find((inx) => {\r\n            return (`/${inx.ActualPagePath}` === locationPath)\r\n        })\r\n\r\n        if (userAcc) {\r\n            setUserAccState(userAcc)\r\n            _cfunc.breadcrumbReturnFunc({ dispatch, userAcc });\r\n        };\r\n    }, [userAccess])\r\n\r\n    useEffect(async () => {\r\n        if (postMsg.Status === true && postMsg.StatusCode === 200) {\r\n            dispatch(invoiceSaveActionSuccess({ Status: false })); // Reset the status to false\r\n\r\n            //************************* / Fetch PDF report data if saveAndDownloadPdfMode is true /\r\n            if (postMsg.saveAndDownloadPdfMode) {\r\n                const config = {\r\n                    editId: postMsg.InvoiceID,\r\n                    ReportType: report.invoice,\r\n                };\r\n                dispatch(getpdfReportdata(Invoice_1_Edit_API_Singel_Get, config));\r\n            }\r\n\r\n            // ***************** Upload E-Invoice if AutoEInvoice and EInvoiceApplicable are both \"1\"  *****/\r\n            if (systemSetting.AutoEInvoice === \"1\" && systemSetting.EInvoiceApplicable === \"1\") {\r\n                let btnId = `btn-E-Invoice-Upload-${postMsg.InvoiceID}`;\r\n                try {\r\n                    dispatch(Uploaded_EInvoiceAction({ btnId, RowId: postMsg.InvoiceID, UserID: _cfunc.loginUserID() }));\r\n                } catch (error) { }\r\n            }\r\n\r\n            customAlert({\r\n                Type: 1,\r\n                Message: postMsg.Message,\r\n            });\r\n\r\n            // Redirect to appropriate page based on subPageMode\r\n            if (subPageMode === url.INVOICE_1) {\r\n                history.push({ pathname: url.INVOICE_LIST_1 });\r\n            } else if (subPageMode === url.IB_INVOICE) {\r\n                history.push({ pathname: url.IB_INVOICE_LIST });\r\n            }\r\n        } else if (postMsg.Status === true) {\r\n            // Show error alert message with the JSON stringified postMsg.Message\r\n            customAlert({\r\n                Type: 4,\r\n                Message: JSON.stringify(postMsg.Message),\r\n            });\r\n        }\r\n    }, [postMsg]);\r\n\r\n\r\n    useEffect(() => {\r\n\r\n        if ((updateMsg.Status === true) && (updateMsg.StatusCode === 200) && !(modalCss)) {\r\n            history.push({\r\n                pathname: url.MATERIAL_ISSUE_LIST,\r\n            })\r\n        } else if (updateMsg.Status === true && !modalCss) {\r\n            dispatch(updateBOMListSuccess({ Status: false }));\r\n            customAlert({\r\n                Type: 3,\r\n                Status: true,\r\n                Message: JSON.stringify(updateMsg.Message),\r\n            })\r\n        }\r\n    }, [updateMsg, modalCss]);\r\n\r\n    useEffect(() => {\r\n        if (pageField) {\r\n            const fieldArr = pageField.PageFieldMaster\r\n            comAddPageFieldFunc({ state, setState, fieldArr })\r\n        }\r\n    }, [pageField])\r\n\r\n    useEffect(() => {\r\n\r\n        if (makeIBInvoice.Status === true && makeIBInvoice.StatusCode === 200) {\r\n            setState((i) => {\r\n                const obj = { ...i }\r\n                obj.values.Customer = makeIBInvoice.customer;\r\n                obj.hasValid.Customer.valid = true;\r\n                return obj\r\n            })\r\n\r\n            dispatch(makeIB_InvoiceActionSuccess({ Status: false }))\r\n        }\r\n    }, [makeIBInvoice]);\r\n\r\n    useEffect(() => {\r\n\r\n        if (gobutton_Add.Status === true && gobutton_Add.StatusCode === 200) {\r\n            setState((i) => {\r\n                const obj = { ...i }\r\n                obj.values.Customer = gobutton_Add.customer;\r\n                obj.hasValid.Customer.valid = true;\r\n                return obj\r\n            })\r\n\r\n            setOrderItemDetails(gobutton_Add.Data.OrderItemDetails);\r\n\r\n            // **********************************************************\r\n            totalAmountCalcuationFunc(gobutton_Add.Data.OrderItemDetails)// show breadcrump tolat amount function//passs table array \r\n            //*********************************************************** */\r\n\r\n            setOrderIDs(gobutton_Add.Data.OrderIDs)\r\n            dispatch(GoButtonForinvoiceAddSuccess({ Status: false }))\r\n        }\r\n    }, [gobutton_Add]);\r\n\r\n    useEffect(() => _cfunc.tableInputArrowUpDounFunc(\"#table_Arrow\"), [orderItemDetails]);\r\n\r\n    const CustomerDropdown_Options = vendorSupplierCustomer.map((index) => ({\r\n        value: index.id,\r\n        label: index.Name,\r\n    }));\r\n\r\n    const VehicleNumber_Options = VehicleNumber.map((index) => ({\r\n        value: index.id,\r\n        label: index.VehicleNumber,\r\n    }));\r\n\r\n    const pagesListColumns = [\r\n        {//***************ItemName********************************************************************* */\r\n            text: \"Item Name\",\r\n            dataField: \"ItemName\",\r\n            classes: () => ('invoice-item-row'),\r\n            formatter: (cellContent, index1) => {\r\n                return (\r\n                    <>\r\n                        <div className=\"invoice-item-row-div-1\">\r\n                            <samp id={`ItemName${index1.id}`}>{index1.ItemName}</samp>\r\n                        </div>\r\n                        {\r\n                            (index1.StockInValid) ? <div><samp id={`StockInvalidMsg-${index1.id}`} style={{ color: \"red\" }}> {index1.StockInvalidMsg}</samp></div>\r\n                                : <></>\r\n                        }\r\n                    </>\r\n                )\r\n            },\r\n        },\r\n        {//***************Quantity********************************************************************* */\r\n            text: \"Quantity/Unit\",\r\n            dataField: \"\",\r\n            formatExtraData: { tableList: orderItemDetails },\r\n            // classes: () => ('invoice-quantity-row1'),\r\n            formatter: (cellContent, index1, keys_, { tableList = [] }) => (\r\n                <>\r\n                    <div className=\"div-1 mb-2\" style={{ minWidth: \"200px\" }}>\r\n                        <Input\r\n                            type=\"text\"\r\n                            disabled={pageMode === 'edit' ? true : false}\r\n                            id={`OrderQty-${index1.id}`}\r\n                            className=\"input\"\r\n                            style={{ textAlign: \"right\" }}\r\n                            key={index1.id}\r\n                            autoComplete=\"off\"\r\n                            defaultValue={index1.Quantity}\r\n                            onChange={(event) => {\r\n                                orderQtyOnChange(event, index1);\r\n                                totalAmountCalcuationFunc(tableList);\r\n                            }}\r\n                        />\r\n                    </div>\r\n                    <div className=\"div-1 \">\r\n                        <div id=\"select\">\r\n                            <Select\r\n                                classNamePrefix=\"select2-selection\"\r\n                                id={\"ddlUnit\"}\r\n                                isDisabled={pageMode === 'edit' ? true : false}\r\n                                defaultValue={index1.default_UnitDropvalue}\r\n                                options={index1.UnitDetails.map(i => ({\r\n                                    \"label\": i.UnitName,\r\n                                    \"value\": i.UnitID,\r\n                                    \"ConversionUnit\": i.ConversionUnit,\r\n                                    \"Unitlabel\": i.Unitlabel,\r\n                                    \"BaseUnitQuantity\": i.BaseUnitQuantity,\r\n                                    \"BaseUnitQuantityNoUnit\": i.BaseUnitQuantityNoUnit,\r\n                                }))}\r\n                                onChange={(event) => {\r\n                                    orderQtyUnit_SelectOnchange(event, index1);\r\n                                    totalAmountCalcuationFunc(tableList);\r\n                                }}\r\n                            ></Select>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"bottom-div\">\r\n                        <span>Order-Qty :</span>\r\n                        <samp>{index1.OrderQty}</samp>\r\n                        <samp>{index1.UnitName}</samp>\r\n                    </div>\r\n                </>\r\n            ),\r\n        },\r\n        {//***************StockDetails********************************************************************* */\r\n            text: \"Stock Details\",\r\n            dataField: \"StockDetails\",\r\n            formatExtraData: { tableList: orderItemDetails },\r\n            formatter: (cellContent, index1, keys_, { tableList = [] }) => (\r\n                <div>\r\n                    <Table className=\"table table-responsive mb-1\">\r\n                        <Thead >\r\n                            <tr >\r\n                                <th style={{ zIndex: -1 }}>BatchCode</th>\r\n                                <th style={{ zIndex: -1 }}>\r\n                                    <div>\r\n                                        <samp>Stock Quantity</samp>\r\n                                    </div>\r\n                                </th >\r\n                                <th style={{ zIndex: -1 }}>\r\n                                    <div>\r\n                                        <samp>Quantity</samp>\r\n                                    </div>\r\n                                </th>\r\n                                <th style={{ zIndex: -1 }}>Basic Rate</th>\r\n                                <th style={{ zIndex: -1 }}>MRP</th>\r\n                            </tr>\r\n                        </Thead>\r\n                        <Tbody>\r\n                            {cellContent.map((index2) => (\r\n                                <tr key={index1.id}>\r\n                                    <td>\r\n                                        <div style={{ width: \"120px\" }}>{index2.BatchCode}</div>\r\n                                    </td>\r\n                                    <td>\r\n                                        <div style={{ width: \"120px\", textAlign: \"right\" }}>\r\n                                            <samp id={`ActualQuantity-${index1.id}-${index2.id}`}>{index2.ActualQuantity}</samp>\r\n                                        </div>\r\n                                    </td>\r\n                                    <td>\r\n                                        <div style={{ width: \"150px\" }}>\r\n                                            <Input\r\n                                                type=\"text\"\r\n                                                disabled={pageMode === 'edit' ? true : false}\r\n                                                style={{ textAlign: \"right\" }}\r\n                                                key={`batchQty${index1.id}-${index2.id}`}\r\n                                                id={`batchQty${index1.id}-${index2.id}`}\r\n                                                defaultValue={index2.Qty}\r\n                                                onChange={(event) => {\r\n                                                    stockQtyOnChange(event, index1, index2);\r\n                                                    totalAmountCalcuationFunc(tableList);\r\n                                                }}\r\n                                            ></Input>\r\n                                        </div>\r\n                                    </td>\r\n                                    <td>\r\n                                        <div style={{ width: \"50px\" }}>\r\n                                            <span id={`stockItemRate-${index1.id}-${index2.id}`}>{_cfunc.amountCommaSeparateFunc(index2.Rate)}</span>\r\n                                        </div>\r\n                                    </td>\r\n                                    <td>\r\n                                        <div style={{ width: \"50px\" }}>{index2.MRP}</div>\r\n                                    </td>\r\n                                </tr>\r\n                            ))}\r\n                        </Tbody>\r\n                    </Table>\r\n                </div>\r\n            ),\r\n        },\r\n        {//***************Discount********************************************************************* */\r\n            text: \"Discount/unit\",\r\n            dataField: \"\",\r\n            formatExtraData: {\r\n                discountValueAll: discountValueAll,\r\n                discountTypeAll: discountTypeAll,\r\n                changeAllDiscount: changeAllDiscount,\r\n                forceReload: forceReload,\r\n                tableList: orderItemDetails\r\n            },\r\n            headerFormatter: () => {\r\n                return (\r\n                    <div className=\"\">\r\n                        {orderItemDetails.length <= 0 ?\r\n                            <div className=\"col col-3 mt-2\">\r\n                                <Label>Discount/unit</Label>\r\n                            </div>\r\n                            :\r\n                            <div className=\"row\">\r\n                                <div className=\" mt-n2 mb-n2\">\r\n                                    <Label>Discount/unit</Label>\r\n                                </div>\r\n                                <div className=\"col col-6\" style={{ width: \"100px\" }}>\r\n                                    <Select\r\n                                        type=\"text\"\r\n                                        defaultValue={discountTypeAll}\r\n                                        classNamePrefix=\"select2-selection\"\r\n                                        options={discountDropOption}\r\n                                        style={{ textAlign: \"right\" }}\r\n                                        onChange={(e) => {\r\n                                            setChangeAllDiscount(true);\r\n                                            setDiscountTypeAll(e);\r\n                                            setDiscountValueAll('');\r\n                                        }}\r\n                                    />\r\n                                </div>\r\n                                <div className=\"col col-6\" style={{ width: \"100px\" }}>\r\n                                    <CInput\r\n                                        type=\"text\"\r\n                                        className=\"input\"\r\n                                        style={{ textAlign: \"right\" }}\r\n                                        cpattern={decimalRegx}\r\n                                        value={discountValueAll}\r\n                                        onChange={(e) => {\r\n                                            let e_val = Number(e.target.value);\r\n\r\n                                            // Check if discount type is \"percentage\"\r\n                                            if (discountTypeAll.value === 2) {// Discount type 2 represents \"percentage\"\r\n                                                // Limit the input to the range of 0 to 100\r\n                                                if (e_val > 100) {\r\n                                                    e.target.value = 100; // Set the input value to 100 if it exceeds 100\r\n                                                } else if (!(e_val >= 0 && e_val < 100)) {\r\n                                                    e.target.value = \"\"; // Clear the input value if it is less than 0\r\n                                                }\r\n                                            }\r\n\r\n                                            setChangeAllDiscount(true);\r\n                                            setDiscountValueAll(e.target.value);\r\n                                        }}\r\n                                    />\r\n                                </div>\r\n                            </div>\r\n                        }\r\n                    </div>\r\n                );\r\n            },\r\n\r\n            classes: () => \"invoice-discount-row\",\r\n            formatter: (cellContent, index1, key, formatExtraData) => {\r\n                let { tableList, discountValueAll, discountTypeAll } = formatExtraData;\r\n\r\n                if (formatExtraData.changeAllDiscount) {\r\n                    index1.Discount = discountValueAll;\r\n                    index1.DiscountType = discountTypeAll.value;\r\n                    innerStockCaculation(index1);\r\n                    totalAmountCalcuationFunc(tableList);\r\n                }\r\n                if (!index1.DiscountType) { index1.DiscountType = discountTypeAll.value }\r\n\r\n                const defaultDiscountTypelabel =\r\n                    index1.DiscountType === 1 ? discountDropOption[0] : discountDropOption[1];\r\n\r\n                return (\r\n                    <>\r\n                        <div className=\"mb-2\">\r\n                            <div className=\"parent\">\r\n                                <div className=\"child\">\r\n                                    <label className=\"label\">Type&nbsp;&nbsp;&nbsp;</label>\r\n                                </div>\r\n                                <div className=\"child\">\r\n                                    <Select\r\n                                        id={`DicountType_${key}`}\r\n                                        classNamePrefix=\"select2-selection\"\r\n                                        key={`DicountType_${key}-${index1.id}`}\r\n                                        value={defaultDiscountTypelabel}\r\n                                        options={discountDropOption}\r\n                                        onChange={(e) => {\r\n                                            setChangeAllDiscount(false);\r\n                                            setForceReload(!forceReload);\r\n                                            index1.DiscountType = e.value;\r\n                                            index1.Discount = '';\r\n                                            innerStockCaculation(index1);\r\n                                            totalAmountCalcuationFunc(tableList);\r\n                                        }}\r\n                                    />\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div>\r\n                            <div className=\"parent\">\r\n                                <div className=\"child\">\r\n                                    <label className=\"label\">Value&nbsp;</label>\r\n                                </div>\r\n                                <div className=\"child\">\r\n                                    <CInput\r\n                                        className=\"input\"\r\n                                        id={`Dicount_${key}-${index1.id}`}\r\n                                        style={{ textAlign: \"right\" }}\r\n                                        type=\"text\"\r\n                                        value={index1.Discount}\r\n                                        cpattern={decimalRegx}\r\n                                        onChange={(e) => {\r\n\r\n                                            let e_val = Number(e.target.value);\r\n                                            // Check if discount type is \"percentage\"\r\n                                            if (index1.DiscountType === 2) { // Discount type 2 represents \"percentage\"\r\n                                                // Limit the input to the range of 0 to 100\r\n                                                if (e_val > 100) {\r\n                                                    e.target.value = 100; // Set the input value to 100 if it exceeds 100\r\n                                                } else if (!(e_val >= 0 && e_val < 100)) {\r\n                                                    e.target.value = ''; // Clear the input value if it is less than 0\r\n                                                }\r\n                                            }\r\n                                            index1.Discount = e.target.value;\r\n                                            setChangeAllDiscount(false);\r\n                                            setForceReload(!forceReload);\r\n                                            innerStockCaculation(index1);\r\n                                            totalAmountCalcuationFunc(tableList);\r\n                                        }}\r\n\r\n                                    />\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"bottom-div\">\r\n                            <span>Amount:</span>\r\n                            <samp id={`itemTotalAmount-${index1.id}`}>\r\n                                {_cfunc.amountCommaSeparateFunc(index1.itemTotalAmount)}\r\n                            </samp>\r\n                        </div>\r\n                    </>\r\n                );\r\n            },\r\n        },\r\n    ];\r\n\r\n    const totalAmountCalcuationFunc = (tableList = []) => {\r\n        const calcalateGrandTotal = settingBaseRoundOffAmountFunc(tableList)\r\n        //toLocaleString is convert comma saprate Amount\r\n        let count_label = `${\"Total Amount\"} :${Number(calcalateGrandTotal.sumOfGrandTotal).toLocaleString()}`\r\n        dispatch(BreadcrumbShowCountlabel(count_label))\r\n    }\r\n\r\n    function InvoiceDateOnchange(y, v, e) {\r\n        dispatch(GoButtonForinvoiceAddSuccess([]))\r\n        onChangeDate({ e, v, state, setState })\r\n    };\r\n\r\n    function CustomerOnchange(hasSelect,) {\r\n\r\n        setState((i) => {\r\n            const v1 = { ...i }\r\n            v1.values.Customer = hasSelect\r\n            v1.hasValid.Customer.valid = true\r\n            return v1\r\n        })\r\n    };\r\n\r\n    function goButtonHandler(makeIBInvoice) {\r\n        const btnId = goBtnId;\r\n        _cfunc.btnIsDissablefunc({ btnId, state: true })\r\n\r\n        try {\r\n            const jsonBody = JSON.stringify({\r\n                FromDate: values.InvoiceDate,\r\n                Customer: makeIBInvoice ? makeIBInvoice.customer.value : values.Customer.value,\r\n                Party: _cfunc.loginPartyID(),\r\n                OrderIDs: \"\"\r\n            });\r\n            dispatch(GoButtonForinvoiceAdd({ subPageMode, jsonBody, btnId }));\r\n\r\n        } catch (e) { _cfunc.btnIsDissablefunc({ btnId, state: false }) }\r\n    };\r\n\r\n    const SaveHandler = async (event) => {\r\n\r\n        event.preventDefault();\r\n        const btnId = event.target.id\r\n        const saveAndDownloadPdfMode = btnId.substring(0, 21) === \"SaveAndDownloadPdfBtn\";\r\n\r\n        const validMsg = []\r\n        const invoiceItems = []\r\n\r\n        // IsComparGstIn= compare Supplier and Customer are Same State by GSTIn Number\r\n        let IsComparGstIn = { GSTIn_1: values.Customer.GSTIN, GSTIn_2: _cfunc.loginUserGSTIN() }\r\n\r\n        orderItemDetails.forEach((index) => {\r\n            if (index.StockInValid) {\r\n                validMsg.push(`${index.ItemName}:${index.StockInvalidMsg}`);\r\n                return\r\n            };\r\n            \r\n            let isSameMRPinStock = '';//this is check is Enterd stock Quantity is Same MRP\r\n            index.StockDetails.forEach((ele) => {\r\n\r\n                if (Number(ele.Qty) > 0) {\r\n\r\n                    if ((isSameMRPinStock === \"\") && !(isSameMRPinStock === false)) {//this is check is Enterd stock Quantity is Same MRP\r\n                        isSameMRPinStock = parseFloat(ele.MRP)\r\n                    } else if (isSameMRPinStock !== parseFloat(ele.MRP)) {\r\n                        isSameMRPinStock = false\r\n                    }\r\n\r\n                    //**calculate Amount ,Discount Amount based on Discound type */\r\n\r\n                    const calculate = invoice_discountCalculate_Func(ele, index, IsComparGstIn)\r\n\r\n                    invoiceItems.push({\r\n                        \"Item\": index.Item,\r\n                        \"Unit\": index.default_UnitDropvalue.value,\r\n                        \"BatchCode\": ele.BatchCode,\r\n                        \"Quantity\": Number(ele.Qty).toFixed(3),\r\n                        \"BatchDate\": ele.BatchDate,\r\n                        \"BatchID\": ele.id,\r\n                        \"BaseUnitQuantity\": Number(ele.BaseUnitQuantity).toFixed(3),\r\n                        \"LiveBatch\": ele.LiveBatche,\r\n                        \"MRP\": ele.LiveBatcheMRPID,\r\n                        \"MRPValue\": ele.MRP,//changes\r\n                        \"Rate\": Number(ele.Rate).toFixed(2),\r\n\r\n                        \"GST\": ele.LiveBatcheGSTID,\r\n                        \"CGST\": Number(calculate.CGST_Amount).toFixed(2),\r\n                        \"SGST\": Number(calculate.SGST_Amount).toFixed(2),\r\n                        \"IGST\": Number(calculate.IGST_Amount).toFixed(2),\r\n\r\n                        \"GSTPercentage\": calculate.GST_Percentage,\r\n                        \"CGSTPercentage\": calculate.CGST_Percentage,\r\n                        \"SGSTPercentage\": calculate.SGST_Percentage,\r\n                        \"IGSTPercentage\": calculate.IGST_Percentage,\r\n\r\n                        \"BasicAmount\": Number(calculate.discountBaseAmt).toFixed(2),\r\n                        \"GSTAmount\": Number(calculate.roundedGstAmount).toFixed(2),\r\n                        \"Amount\": Number(calculate.roundedTotalAmount).toFixed(2),\r\n\r\n                        \"TaxType\": 'GST',\r\n                        \"DiscountType\": index.DiscountType,\r\n                        \"Discount\": Number(index.Discount) || 0,\r\n                        \"DiscountAmount\": Number(calculate.disCountAmt).toFixed(2),\r\n                    })\r\n                }\r\n            })\r\n            \r\n            if (isSameMRPinStock === false) {\r\n                validMsg.push(`${index.ItemName}: This Item Enter Same MRP Stock Quantity`);\r\n                return\r\n            };\r\n        })\r\n\r\n        if (validMsg.length > 0) {\r\n            customAlert({\r\n                Type: 4,\r\n                Message: JSON.stringify(validMsg),\r\n            })\r\n            return\r\n        }\r\n\r\n        if (!(invoiceItems.length > 0)) {\r\n            customAlert({\r\n                Type: 4,\r\n                Message: \"Please Enter One Item Quantity\",\r\n            })\r\n            return\r\n        }\r\n\r\n        //**grand total and Tcs Round Off calculations  */ \r\n        const calcalateGrandTotal = settingBaseRoundOffAmountFunc(orderItemDetails)//Pass Table Data \r\n\r\n        const forInvoice_1_json = () => ({  //** Json Body Generate For Invoice_1  Start+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++*/\r\n            InvoiceDate: values.InvoiceDate,\r\n            InvoiceItems: invoiceItems,\r\n            InvoicesReferences: orderIDs.map(i => ({ Order: i }))\r\n        });\r\n\r\n        const forIB_Invoice_json = async () => ({   //**   Json Body Generate For IB_Invoice  +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++*/\r\n            IBChallanDate: values.InvoiceDate,\r\n            IBChallanItems: invoiceItems,\r\n            IBChallansReferences: await orderIDs.map(i => ({ Demand: i }))\r\n        });\r\n\r\n        const for_common_json = () => ({  //**  Json Body Generate Common for Both +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++\r\n            CustomerGSTTin: values.Customer.GSTIN,\r\n            GrandTotal: calcalateGrandTotal.sumOfGrandTotal,\r\n            RoundOffAmount: calcalateGrandTotal.RoundOffAmount,\r\n            TCSAmount: calcalateGrandTotal.TCS_Amount,\r\n            Customer: values.Customer.value,\r\n            Vehicle: values.VehicleNo.value ? values.VehicleNo.value : \"\",\r\n            Party: _cfunc.loginPartyID(),\r\n            CreatedBy: _cfunc.loginUserID(),\r\n            UpdatedBy: _cfunc.loginUserID(),\r\n        });\r\n\r\n        try {\r\n\r\n            if (formValid(state, setState)) {\r\n                _cfunc.btnIsDissablefunc({ btnId, state: true })\r\n                let jsonBody;  //json body decleration \r\n                if (subPageMode === url.INVOICE_1) {\r\n                    jsonBody = JSON.stringify({ ...for_common_json(), ...forInvoice_1_json() });\r\n                } else if (subPageMode === url.IB_INVOICE) {\r\n                    jsonBody = JSON.stringify({ ...for_common_json(), ...forIB_Invoice_json() });\r\n                }\r\n                // +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++\r\n                if (pageMode === mode.edit) {\r\n                    return\r\n                }\r\n                else {\r\n                    dispatch(invoiceSaveAction({ subPageMode, jsonBody, btnId, saveAndDownloadPdfMode }));\r\n                }\r\n            }\r\n        } catch (e) { _cfunc.CommonConsole(\"invode save Handler\", e) }\r\n\r\n    }\r\n\r\n    if (!(userPageAccessState === '')) {\r\n        return (\r\n            <React.Fragment>\r\n                <MetaTags>{_cfunc.metaTagLabel(userPageAccessState)}</MetaTags>\r\n\r\n                <div className=\"page-content\" >\r\n\r\n                    <form noValidate>\r\n                        <Col className=\"px-2 mb-1 c_card_filter header text-black\" sm={12}>\r\n\r\n                            <div className=\"row\" >\r\n                                <Col sm=\"4\" className=\"\">\r\n                                    <FormGroup className=\"mb- row mt-3 \" >\r\n                                        <Label className=\"col-sm-8 p-2\" style={{ width: \"83px\" }}>{fieldLabel.InvoiceDate}</Label>\r\n                                        <Col sm=\"7\">\r\n                                            <C_DatePicker\r\n                                                name=\"InvoiceDate\"\r\n                                                value={values.InvoiceDate}\r\n                                                id=\"myInput11\"\r\n                                                disabled={(orderItemDetails.length > 0 || pageMode === \"edit\") ? true : false}\r\n                                                onChange={InvoiceDateOnchange}\r\n                                            />\r\n                                            {isError.InvoiceDate.length > 0 && (\r\n                                                <span className=\"invalid-feedback\">{isError.InvoiceDate}</span>\r\n                                            )}\r\n                                        </Col>\r\n                                    </FormGroup>\r\n                                </Col>\r\n\r\n                                <Col sm=\"4\" className=\"\">\r\n                                    <FormGroup className=\"mb- row mt-3 \" >\r\n                                        <Label className=\"col-sm-6 p-2\"\r\n                                            style={{ width: \"65px\" }}>{fieldLabel.Customer}</Label>\r\n                                        <Col sm=\"7\">\r\n                                            <Select\r\n\r\n                                                name=\"Customer\"\r\n                                                value={values.Customer}\r\n                                                isSearchable={true}\r\n                                                isDisabled={orderItemDetails.length > 0 ? true : false}\r\n                                                id={'customerselect'}\r\n                                                className=\"react-dropdown\"\r\n                                                classNamePrefix=\"dropdown\"\r\n                                                options={CustomerDropdown_Options}\r\n                                                onChange={CustomerOnchange}\r\n                                                styles={{\r\n                                                    menu: provided => ({ ...provided, zIndex: 2 })\r\n                                                }}\r\n                                            />\r\n                                            {isError.Customer.length > 0 && (\r\n                                                <span className=\"text-danger f-8\"><small>{isError.Customer}</small></span>\r\n                                            )}\r\n                                        </Col>\r\n                                    </FormGroup>\r\n                                </Col>\r\n\r\n                                <Col sm=\"4\" className=\"\">\r\n                                    <FormGroup className=\"mb- row mt-3 \" >\r\n                                        <Label className=\"col-sm-5 p-2\"\r\n                                            style={{ width: \"65px\" }}>{fieldLabel.VehicleNo}</Label>\r\n                                        <Col sm=\"7\">\r\n                                            <Select\r\n                                                name=\"VehicleNo\"\r\n                                                value={values.VehicleNo}\r\n                                                isSearchable={true}\r\n                                                id={'VehicleNoselect'}\r\n                                                className=\"react-dropdown\"\r\n                                                classNamePrefix=\"dropdown\"\r\n                                                options={VehicleNumber_Options}\r\n                                                onChange={(hasSelect, evn) => {\r\n                                                    onChangeSelect({ hasSelect, evn, state, setState })\r\n                                                }}\r\n                                                styles={{ menu: provided => ({ ...provided, zIndex: 2 }) }}\r\n                                            />\r\n                                            {isError.VehicleNo.length > 0 && (\r\n                                                <span className=\"text-danger f-8\"><small>{isError.VehicleNo}</small></span>\r\n                                            )}\r\n                                        </Col>\r\n                                    </FormGroup>\r\n                                </Col>\r\n                            </div>\r\n                        </Col>\r\n\r\n                        <div>\r\n                            <ToolkitProvider\r\n                                keyField={\"id\"}\r\n                                data={orderItemDetails}\r\n                                columns={pagesListColumns}\r\n                                search\r\n                            >\r\n                                {(toolkitProps) => (\r\n                                    <React.Fragment>\r\n                                        <Row>\r\n                                            <Col xl=\"12\">\r\n                                                <div className=\"table-responsive table\">\r\n                                                    <BootstrapTable\r\n                                                        keyField={\"id\"}\r\n                                                        id=\"table_Arrow\"\r\n                                                        classes={\"table  table-bordered \"}\r\n                                                        noDataIndication={\r\n                                                            <div className=\"text-danger text-center \">\r\n                                                                Items Not available\r\n                                                            </div>\r\n                                                        }\r\n                                                        {...toolkitProps.baseProps}\r\n                                                        onDataSizeChange={(e) => {\r\n                                                            _cfunc.tableInputArrowUpDounFunc(\"#table_Arrow\")\r\n                                                        }}\r\n                                                    />\r\n                                                </div>\r\n                                            </Col>\r\n                                            {mySearchProps(toolkitProps.searchProps,)}\r\n                                        </Row>\r\n\r\n                                    </React.Fragment>\r\n                                )}\r\n                            </ToolkitProvider>\r\n                        </div>\r\n\r\n                        {/* {orderItemDetails.length > 0 ? <FormGroup>\r\n                            <Col sm={2} style={{ marginLeft: \"-40px\" }} className={\"row save1\"}>\r\n                                <SaveButton\r\n                                    pageMode={pageMode}\r\n                                    onClick={SaveHandler}\r\n                                    id={saveBtnid}\r\n                                    loading={saveBtnloading}\r\n                                    userAcc={userPageAccessState}\r\n                                />\r\n                            </Col>\r\n                        </FormGroup > : null} */}\r\n\r\n                        {\r\n                            (orderItemDetails.length > 0) ? <div className=\"row save1\" style={{ paddingBottom: 'center' }}>\r\n                                <Col>\r\n                                    <SaveButton\r\n                                        loading={saveBtnloading}\r\n                                        id={saveBtnid}\r\n                                        pageMode={pageMode}\r\n                                        userAcc={userPageAccessState}\r\n                                        onClick={SaveHandler}\r\n                                        forceDisabled={saveAndPdfBtnLoading}\r\n                                    />\r\n                                </Col>\r\n                                {\r\n                                    (pageMode === mode.defaultsave) ?\r\n                                        <Col>\r\n                                            <SaveAndDownloadPDF\r\n                                                loading={saveAndPdfBtnLoading}\r\n                                                pageMode={pageMode}\r\n                                                id={saveBtnid}\r\n                                                userAcc={userPageAccessState}\r\n                                                onClick={SaveHandler}\r\n                                                forceDisabled={saveBtnloading}\r\n                                            />\r\n                                        </Col> : null}\r\n                            </div>\r\n                                : <div className=\"row save1\"></div>\r\n                        }\r\n                    </form>\r\n                </div>\r\n\r\n            </React.Fragment >\r\n        );\r\n    }\r\n    else {\r\n        return (\r\n            <React.Fragment></React.Fragment>\r\n        )\r\n    }\r\n};\r\n\r\nexport default Invoice"],"mappings":"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"},"metadata":{},"sourceType":"module"}