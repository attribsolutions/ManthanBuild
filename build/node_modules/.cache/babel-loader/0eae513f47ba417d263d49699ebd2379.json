{"ast":null,"code":"import { CommonConsole, sap_date_dmy_func } from \"../../../components/Common/CommonFunction\";\nimport { customAlert } from \"../../../CustomAlert/ConfirmDialog\";\nimport { getOrderApprovalDetailActionSucc, GoButton_For_Order_AddSuccess, orderApprovalAction, orderApprovalActionSuccess } from \"../../../store/actions\";\nexport const orderApprovalFunc = _ref => {\n  let {\n    dispatch,\n    approvalDetail\n  } = _ref;\n\n  if (approvalDetail.Status === true) {\n    try {\n      const {\n        Data,\n        btnId\n      } = approvalDetail;\n      let isorderItemSet = [];\n      Data.OrderItem.forEach(i => {\n        if (i.Quantity > 0) {\n          isorderItemSet.push({\n            \"OrderNo\": (5000000 + Number(Data.id)).toString(),\n            //parent--id\n            \"ItemNo\": i.id.toString(),\n            //OrderItem--id\n            \"Material\": i.ItemSAPCode.toString(),\n            //OrderItem--ItemSAPCode\n            \"Quantity\": i.QuantityInNo.toString(),\n            //OrderItem--QuantityInNo \n            \"Unit\": \"EA\",\n            \"Plant\": Data.SupplierSAPCode.toString(),\n            //parent\n            \"Batch\": \"\" // blank\n\n          });\n        }\n      });\n      let body = {\n        \"Customer\": Data.CustomerSAPCode.toString(),\n        //parent--CustomerSAPCode \n        \"DocDate\": sap_date_dmy_func(Data.OrderDate),\n        //parent--OrderDate\n        \"Indicator\": \"C\",\n        \"OrderNo\": (5000000 + Number(Data.id)).toString(),\n        //parent--id\n        \"Stats\": \"1\",\n        \"CancelFlag\": \"\",\n        //blank\n        \"OrderItemSet\": isorderItemSet\n      };\n      const jsonBody = JSON.stringify(body);\n      dispatch(getOrderApprovalDetailActionSucc({\n        Status: false\n      }));\n      dispatch(orderApprovalAction({\n        jsonBody,\n        btnId\n      }));\n    } catch (e) {\n      dispatch(getOrderApprovalDetailActionSucc({\n        Status: false\n      }));\n      dispatch(orderApprovalActionSuccess({\n        Status: true,\n        Message: \"Order Save Successfully But Can't Send in 'SAP'\"\n      }));\n    }\n  }\n};\nexport const orderApprovalMessage = async _ref2 => {\n  let {\n    dispatch,\n    orderApprovalMsg,\n    listPath,\n    history,\n    goButtonHandler\n  } = _ref2;\n\n  try {\n    if (orderApprovalMsg.Status === true && orderApprovalMsg.StatusCode === 200) {\n      dispatch(orderApprovalActionSuccess({\n        Status: false\n      }));\n      goButtonHandler(\"event\");\n      dispatch(GoButton_For_Order_AddSuccess([]));\n      const a = await customAlert({\n        Type: 1,\n        Message: orderApprovalMsg.Message\n      });\n\n      if (a) {\n        history.push({\n          pathname: listPath\n        });\n        window.location.reload();\n      }\n    } else if (orderApprovalMsg.Status === true) {\n      dispatch(orderApprovalActionSuccess({\n        Status: false\n      }));\n      customAlert({\n        Type: 3,\n        Message: JSON.stringify(orderApprovalMsg.Message)\n      });\n    }\n  } catch (e) {}\n};","map":{"version":3,"names":["CommonConsole","sap_date_dmy_func","customAlert","getOrderApprovalDetailActionSucc","GoButton_For_Order_AddSuccess","orderApprovalAction","orderApprovalActionSuccess","orderApprovalFunc","dispatch","approvalDetail","Status","Data","btnId","isorderItemSet","OrderItem","forEach","i","Quantity","push","Number","id","toString","ItemSAPCode","QuantityInNo","SupplierSAPCode","body","CustomerSAPCode","OrderDate","jsonBody","JSON","stringify","e","Message","orderApprovalMessage","orderApprovalMsg","listPath","history","goButtonHandler","StatusCode","a","Type","pathname","window","location","reload"],"sources":["D:/Rohit/Git projects/Manthan/src/pages/Purchase/Order/orderApproval.js"],"sourcesContent":["import { CommonConsole, sap_date_dmy_func } from \"../../../components/Common/CommonFunction\";\r\nimport { customAlert } from \"../../../CustomAlert/ConfirmDialog\";\r\nimport { getOrderApprovalDetailActionSucc, GoButton_For_Order_AddSuccess, orderApprovalAction, orderApprovalActionSuccess } from \"../../../store/actions\";\r\n\r\nexport const orderApprovalFunc = ({ dispatch, approvalDetail }) => {\r\n    if ((approvalDetail.Status === true)) {\r\n        try {\r\n            const { Data, btnId } = approvalDetail;\r\n\r\n            let isorderItemSet = [];\r\n            Data.OrderItem.forEach(i => {\r\n                if (i.Quantity > 0) {\r\n                    isorderItemSet.push({\r\n                        \"OrderNo\": (5000000 + Number(Data.id)).toString(),//parent--id\r\n                        \"ItemNo\": (i.id).toString(), //OrderItem--id\r\n                        \"Material\": (i.ItemSAPCode).toString(),//OrderItem--ItemSAPCode\r\n                        \"Quantity\": (i.QuantityInNo).toString(),//OrderItem--QuantityInNo \r\n                        \"Unit\": \"EA\",\r\n                        \"Plant\": (Data.SupplierSAPCode).toString(),//parent\r\n                        \"Batch\": \"\"// blank\r\n                    })\r\n                }\r\n            });\r\n\r\n            let body = {\r\n                \"Customer\": (Data.CustomerSAPCode).toString(),//parent--CustomerSAPCode \r\n                \"DocDate\": sap_date_dmy_func(Data.OrderDate), //parent--OrderDate\r\n                \"Indicator\": \"C\",\r\n                \"OrderNo\": (5000000 + Number(Data.id)).toString(),//parent--id\r\n                \"Stats\": \"1\",\r\n                \"CancelFlag\": \"\", //blank\r\n                \"OrderItemSet\": isorderItemSet,\r\n            }\r\n            const jsonBody = JSON.stringify(body);\r\n\r\n            dispatch(getOrderApprovalDetailActionSucc({ Status: false }))\r\n            dispatch(orderApprovalAction({ jsonBody, btnId }))\r\n        } catch (e) {\r\n\r\n            dispatch(getOrderApprovalDetailActionSucc({ Status: false }))\r\n            dispatch(orderApprovalActionSuccess({\r\n                Status: true,\r\n                Message: \"Order Save Successfully But Can't Send in 'SAP'\"\r\n            }))\r\n\r\n        }\r\n    }\r\n}\r\n\r\nexport const orderApprovalMessage = async ({ dispatch, orderApprovalMsg, listPath, history,goButtonHandler }) => {\r\n   \r\n    try {\r\n \r\n        if (orderApprovalMsg.Status === true && orderApprovalMsg.StatusCode === 200) {\r\n            dispatch(orderApprovalActionSuccess({ Status: false }))\r\n  \r\n            goButtonHandler(\"event\",)\r\n            dispatch(GoButton_For_Order_AddSuccess([]))\r\n\r\n            const a = await customAlert({\r\n                Type: 1,\r\n                Message: orderApprovalMsg.Message,\r\n            })\r\n            if (a) {\r\n                history.push({\r\n                    pathname: listPath,\r\n                });\r\n                window.location.reload()\r\n            }\r\n\r\n        } else if (orderApprovalMsg.Status === true) {\r\n            dispatch(orderApprovalActionSuccess({ Status: false }))\r\n            customAlert({\r\n                Type: 3,\r\n                Message: JSON.stringify(orderApprovalMsg.Message),\r\n            })\r\n        }\r\n    } catch (e) { }\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}