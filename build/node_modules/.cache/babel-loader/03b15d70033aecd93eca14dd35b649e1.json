{"ast":null,"code":"import _defineProperty from\"D:/Rohit/Git projects/Manthan/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _regeneratorRuntime from\"D:/Rohit/Git projects/Manthan/node_modules/@babel/runtime/regenerator\";import _toConsumableArray from\"D:/Rohit/Git projects/Manthan/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _asyncToGenerator from\"D:/Rohit/Git projects/Manthan/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _objectSpread from\"D:/Rohit/Git projects/Manthan/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"D:/Rohit/Git projects/Manthan/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import{Col,FormGroup,Label,Input,Row,Button}from\"reactstrap\";import{MetaTags}from\"react-meta-tags\";import{BreadcrumbShowCountlabel,Breadcrumb_inputName,commonPageFieldSuccess}from\"../../../../store/actions\";import{useDispatch,useSelector}from\"react-redux\";import{AlertState,commonPageField}from\"../../../../store/actions\";import{useHistory}from\"react-router-dom\";import{comAddPageFieldFunc,formValid,initialFiledFunc,onChangeSelect,onChangeText,resetFunction}from\"../../../../components/Common/validationFunction\";import Select from\"react-select\";import{Change_Button,SaveButton}from\"../../../../components/Common/CommonButton\";import{url,mode,pageId}from\"../../../../routes/index\";import{Retailer_List}from\"../../../../store/CommonAPI/SupplierRedux/actions\";import{customAlert}from\"../../../../CustomAlert/ConfirmDialog\";import{postSelect_Field_for_dropdown}from\"../../../../store/Administrator/PartyMasterBulkUpdateRedux/actions\";import{saveSalesReturnMaster,InvoiceNumber,InvoiceNumberSuccess,saveSalesReturnMaster_Success}from\"../../../../store/Sales/SalesReturnRedux/action\";import CustomTable2 from\"../../../../CustomTable2/Table\";import\"./salesReturn.scss\";import{CInput,C_DatePicker}from\"../../../../CustomValidateForm/index\";import{decimalRegx}from\"../../../../CustomValidateForm/RegexPattern\";import{getpartyItemList}from\"../../../../store/Administrator/PartyItemsRedux/action\";import{SalesReturn_add_button_api_For_Invoice,SalesReturn_add_button_api_For_Item}from\"../../../../helpers/backend_helper\";import{salesReturnCalculate,calculateSalesReturnFunc,return_discountCalculate_Func}from\"./SalesCalculation\";import*as _cfunc from\"../../../../components/Common/CommonFunction\";import{mySearchProps}from\"../../../../components/Common/SearchBox/MySearch\";import BootstrapTable from\"react-bootstrap-table-next\";import ToolkitProvider from\"react-bootstrap-table2-toolkit\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var SalesReturn=function SalesReturn(props){var dispatch=useDispatch();var history=useHistory();var currentDate_ymd=_cfunc.date_ymd_func();var _useState=useState(mode.defaultsave),_useState2=_slicedToArray(_useState,1),pageMode=_useState2[0];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),userPageAccessState=_useState4[0],setUserAccState=_useState4[1];var fileds={ReturnDate:currentDate_ymd,Customer:\"\",ItemName:\"\",InvoiceNumber:\"\",BatchCode:\"\",Comment:\"\"};var _useState5=useState(initialFiledFunc(fileds)),_useState6=_slicedToArray(_useState5,2),state=_useState6[0],setState=_useState6[1];var _useState7=useState([{value:1,label:\"Rs\"},{value:2,label:\"%\"}]),_useState8=_slicedToArray(_useState7,1),discountDropOption=_useState8[0];var _useState9=useState([]),_useState10=_slicedToArray(_useState9,2),TableArr=_useState10[0],setTableArr=_useState10[1];var _useState11=useState(0),_useState12=_slicedToArray(_useState11,2),returnMode=_useState12[0],setrRturnMode=_useState12[1];var _useState13=useState([]),_useState14=_slicedToArray(_useState13,2),imageTable=_useState14[0],setImageTable=_useState14[1];//Access redux store Data /  'save_ModuleSuccess' action data\nvar _useSelector=useSelector(function(state){return{saveBtnloading:state.SalesReturnReducer.saveBtnloading,postMsg:state.SalesReturnReducer.postMsg,RetailerList:state.CommonAPI_Reducer.RetailerList,ItemList:state.PartyItemsReducer.partyItem,ReturnReasonList:state.PartyMasterBulkUpdateReducer.SelectField,InvoiceNo:state.SalesReturnReducer.InvoiceNo,userAccess:state.Login.RoleAccessUpdateData,pageField:state.CommonPageFieldReducer.pageField};}),postMsg=_useSelector.postMsg,RetailerList=_useSelector.RetailerList,ItemList=_useSelector.ItemList,ReturnReasonList=_useSelector.ReturnReasonList,InvoiceNo=_useSelector.InvoiceNo,pageField=_useSelector.pageField,userAccess=_useSelector.userAccess,saveBtnloading=_useSelector.saveBtnloading;useEffect(function(){dispatch(InvoiceNumberSuccess([]));var page_Id=pageId.SALES_RETURN;dispatch(commonPageFieldSuccess(null));dispatch(commonPageField(page_Id));dispatch(getpartyItemList(_cfunc.loginJsonBody()));var jsonBody=JSON.stringify({Type:1,PartyID:_cfunc.loginPartyID(),CompanyID:_cfunc.loginCompanyID()});dispatch(Retailer_List(jsonBody));dispatch(BreadcrumbShowCountlabel(\"Total Amount\".concat(\" :\",0)));},[]);useEffect(function(){if(TableArr.length===0){setrRturnMode(0);}},[TableArr]);var location=_objectSpread({},history.location);// const hasShowloction = location.hasOwnProperty(mode.editValue)\nvar hasShowModal=props.hasOwnProperty(mode.editValue);var values=_objectSpread({},state.values);var isError=state.isError;var fieldLabel=state.fieldLabel;// userAccess useEffect\nuseEffect(function(){var userAcc=null;var locationPath=location.pathname;if(hasShowModal){locationPath=props.masterPath;};userAcc=userAccess.find(function(inx){return\"/\".concat(inx.ActualPagePath)===locationPath;});if(userAcc){setUserAccState(userAcc);_cfunc.breadcrumbReturnFunc({dispatch:dispatch,userAcc:userAcc});};},[userAccess]);// Return Reason dropdown Values\nuseEffect(function(){var jsonBody=JSON.stringify({Company:_cfunc.loginCompanyID(),TypeID:8});dispatch(postSelect_Field_for_dropdown(jsonBody));},[]);useEffect(function(){if(pageField){var fieldArr=pageField.PageFieldMaster;comAddPageFieldFunc({state:state,setState:setState,fieldArr:fieldArr});}},[pageField]);useEffect(function(){if(postMsg.Status===true&&postMsg.StatusCode===200){dispatch(saveSalesReturnMaster_Success({Status:false}));setTableArr([]);setState(function(){return resetFunction(fileds,state);});// Clear form values  \ndispatch(Breadcrumb_inputName(''));if(pageMode===mode.dropdownAdd){customAlert({Type:1,Message:postMsg.Message});}else{var alterRepont=customAlert({Type:1,Message:postMsg.Message});if(alterRepont){history.push({pathname:url.SALES_RETURN_LIST});}}}else if(postMsg.Status===true){dispatch(saveSalesReturnMaster_Success({Status:false}));customAlert({Type:4,Message:JSON.stringify(postMsg.Message)});}},[postMsg]);var customerOptions=RetailerList.map(function(index){return{value:index.id,label:index.Name};});var itemList=ItemList.map(function(index){return{value:index.Item,label:index.ItemName,itemCheck:index.selectCheck};});var ItemList_Options=itemList.filter(function(index){return index.itemCheck===true;});var ReturnReasonOptions=ReturnReasonList.map(function(index){return{value:index.id,label:index.Name};});var InvoiceNo_Options=InvoiceNo.map(function(index){return{value:index.Invoice,label:index.FullInvoiceNumber};});var pagesListColumns=[{text:\"Item Name\",dataField:\"ItemName\",hidden:false,formatter:function formatter(cell,row){return/*#__PURE__*/_jsx(Label,{style:{minWidth:\"200px\"},children:row.ItemName});}},{text:\"Invoice Qty\",hidden:returnMode===1?false:true,align:function align(){return\"right\";},formatter:function formatter(cell,row){return/*#__PURE__*/_jsx(Label,{children:row.InvoiceQuantity});}},{text:\"Quantity\",dataField:\"\",classes:function classes(){return\"sales-discount-row\";},hidden:false,formatExtraData:{TableArr:TableArr},formatter:function formatter(cell,row,key,_ref){var TableArr=_ref.TableArr;return/*#__PURE__*/_jsxs(\"div\",{className:\"parent\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"child\",style:{minWidth:\"100px\"},children:/*#__PURE__*/_jsx(CInput,{defaultValue:row.Quantity,autoComplete:\"off\",type:\"text\",cpattern:decimalRegx,placeholder:\"Enter Quantity\",className:\"col col-sm text-end\",onChange:function onChange(event){row[\"Quantity\"]=event.target.value;totalAmountCalcuationFunc(row,TableArr);}})}),/*#__PURE__*/_jsx(\"div\",{className:\"child mt-2 pl-1\",children:/*#__PURE__*/_jsxs(\"label\",{className:\"label\",children:[\"\\xA0\",row.UnitName]})})]});}},{text:\"MRP\",dataField:\"MRP\",hidden:false,formatter:function formatter(cell,row,key){return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{style:{minWidth:\"90px\"},children:/*#__PURE__*/_jsx(Select,{id:\"MRP\".concat(key),name:\"MRP\",defaultValue:{value:row.MRP,label:row.MRPValue},isSearchable:true,isDisabled:returnMode===1&&true,className:\"react-dropdown\",classNamePrefix:\"dropdown\",options:row.MRPOptions,onChange:function onChange(event){row.MRP=event.value;row.MRPValue=event.label;}})})});}},{text:\"GST\",dataField:\"\",hidden:false,formatExtraData:{TableArr:TableArr},formatter:function formatter(cell,row,key,_ref2){var TableArr=_ref2.TableArr;return/*#__PURE__*/_jsx(\"div\",{style:{minWidth:\"90px\"},children:/*#__PURE__*/_jsx(Select,{id:\"GST\".concat(key),name:\"GST\",defaultValue:{value:row.GST,label:row.GSTPercentage},isSearchable:true,isDisabled:returnMode===1&&true,className:\"react-dropdown\",classNamePrefix:\"dropdown\",options:row.GSTOptions,onChange:function onChange(event){row.GST=event.value;row.GSTPercentage=event.label;totalAmountCalcuationFunc(row,TableArr);}})});}},{text:\"Rate\",dataField:\"\",hidden:false,classes:function classes(){return\"sales-rate-row\";},formatExtraData:{TableArr:TableArr},formatter:function formatter(cellContent,row,key,_ref3){var TableArr=_ref3.TableArr;return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"parent  mb-1\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"child\",children:/*#__PURE__*/_jsx(Select,{id:\"DicountType_\".concat(key),classNamePrefix:\"select2-selection\",value:discountDropOption[1],options:discountDropOption,onChange:function onChange(e){row.DiscountType=e.value;row.Discount='';totalAmountCalcuationFunc(row,TableArr);}})}),/*#__PURE__*/_jsx(\"div\",{className:\"child\",children:/*#__PURE__*/_jsx(CInput,{className:\"input\",placeholder:\"Dist.\",style:{textAlign:\"right\"},type:\"text\",cpattern:decimalRegx,onChange:function onChange(event){row.Discount=event.target.value;totalAmountCalcuationFunc(row,TableArr);}})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"parent\",children:/*#__PURE__*/_jsx(CInput,{defaultValue:row.Rate,placeholder:\"Enter Rate\",type:\"text\",cpattern:/^-?([0-9]*\\.?[0-9]+|[0-9]+\\.?[0-9]*)$/,className:\"text-end\",onChange:function onChange(event){row.Rate=event.target.value;totalAmountCalcuationFunc(row,TableArr);}})})]})});}},{text:\"Batch\",dataField:\"\",classes:function classes(){return\"sales-rate-row\";},formatter:function formatter(cell,row){return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"parent mb-1\",children:/*#__PURE__*/_jsx(Input,{defaultValue:row.BatchCode,placeholder:\"Enter BatchCode\",type:\"text\",className:\"col col-sm text-center\",onChange:function onChange(event){row.BatchCode=event.target.value;}})}),/*#__PURE__*/_jsx(\"div\",{className:\"parent\",children:/*#__PURE__*/_jsx(C_DatePicker,{placeholder:\"Enter BatchDate\",onChange:function onChange(e,date){row.BatchDate=_cfunc.date_ymd_func(date);}})})]})});}},{text:\"Return Reason\",dataField:\"\",classes:function classes(){return\"sales-return-row\";},formatter:function formatter(cellContent,row){return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"parent mb-1\",children:/*#__PURE__*/_jsx(\"div\",{className:\"child\",children:/*#__PURE__*/_jsx(Select,{isSearchable:true,className:\"react-dropdown\",classNamePrefix:\"dropdown\",defaultValue:row.defaultReason,styles:{menu:function menu(provided){return _objectSpread(_objectSpread({},provided),{},{zIndex:2});}},options:ReturnReasonOptions,onChange:function onChange(event){row[\"defaultReason\"]=event;}})})}),/*#__PURE__*/_jsx(\"div\",{className:\"parent\",children:/*#__PURE__*/_jsx(\"div\",{className:\"child\",children:/*#__PURE__*/_jsx(Input,{placeholder:\"Enter Comment\",defaultChecked:row.ItemComment,type:\"text\",onChange:function onChange(event){row.ItemComment=event.target.value;}})})})]});}},{text:\"Image\",dataField:\"\",classes:function classes(){return\"sales-return-Image-row\";},formatter:function formatter(cellContent,row,key){return/*#__PURE__*/_jsx(\"span\",{style:{justifyContent:'center',width:\"100px\"},children:/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"btn-group btn-group-example mb-3\",role:\"group\",children:[/*#__PURE__*/_jsx(Input,{type:\"file\",className:\"form-control \",name:\"image\",id:\"file\",accept:\".jpg, .jpeg, .png ,.pdf\",onChange:function onChange(event){imageSelectHandler(event,row);}}),/*#__PURE__*/_jsx(\"button\",{name:\"image\",accept:\".jpg, .jpeg, .png ,.pdf\",onClick:function onClick(){imageShowHandler(row);},id:\"ImageId\",type:\"button\",className:\"btn btn-primary \",children:\"Show\"})]})})});}},{text:\"Action \",dataField:\"\",hidden:returnMode===1?true:false,formatExtraData:{TableArr:TableArr},formatter:function formatter(cellContent,row,key,_ref4){var TableArr=_ref4.TableArr;return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{style:{justifyContent:'center'},children:/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsx(FormGroup,{className:\" col col-sm-4 \",children:/*#__PURE__*/_jsx(Button,{id:\"deleteid\",type:\"button\",className:\"badge badge-soft-danger font-size-12 btn btn-danger waves-effect waves-light w-xxs border border-light\",\"data-mdb-toggle\":\"tooltip\",\"data-mdb-placement\":\"top\",title:\"Delete MRP\",onClick:function onClick(e){deleteButtonAction(row,TableArr);},children:/*#__PURE__*/_jsx(\"i\",{className:\"mdi mdi-delete font-size-18\"})})})})})});}}];var totalAmountCalcuationFunc=function totalAmountCalcuationFunc(row){var TablelistArray=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];debugger;var caculate=return_discountCalculate_Func(row);row.roundedTotalAmount=caculate.roundedTotalAmount;var sumOfGrandTotal=TablelistArray.reduce(function(accumulator,currentObject){return accumulator+Number(currentObject[\"roundedTotalAmount\"])||0;},0);var count_label=\"Total Amount\".concat(\" :\",Number(sumOfGrandTotal).toLocaleString());dispatch(BreadcrumbShowCountlabel(count_label));};var deleteButtonAction=function deleteButtonAction(row){var TablelistArray=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];var newArr=TablelistArray.filter(function(index){return!(index.id===row.id);});var sumOfGrandTotal=newArr.reduce(function(accumulator,currentObject){return accumulator+Number(currentObject[\"roundedTotalAmount\"])||0;},0);var count_label=\"Total Amount\".concat(\" :\",Number(sumOfGrandTotal).toLocaleString());dispatch(BreadcrumbShowCountlabel(count_label));setTableArr(newArr);};var ReturnDate_Onchange=function ReturnDate_Onchange(e,date){setState(function(i){var a=_objectSpread({},i);a.values.ReturnDate=date;a.hasValid.ReturnDate.valid=true;return a;});};var AddPartyHandler=/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e,type){var invalidMsg1,apiResponse,updateItemArr,existingIds,nextId,sumOfGrandTotal,count_label;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:invalidMsg1=[];if(values.ItemName===''&&type==='add'){invalidMsg1.push(\"Select Item Name\");}if(values.InvoiceNumber===''&&values.Customer===''&&type==='Select'){invalidMsg1.push(\"Select Retailer.\");}else if(values.InvoiceNumber===''&&type==='Select'){invalidMsg1.push(\"Select Invoice No.\");}if(!(invalidMsg1.length>0)){_context.next=6;break;}customAlert({Type:4,Message:JSON.stringify(invalidMsg1)});return _context.abrupt(\"return\");case 6:_context.prev=6;if(!(returnMode===2)){_context.next=13;break;}_context.next=10;return SalesReturn_add_button_api_For_Item({//Post API Method\n\"ItemID\":values.ItemName.value,\"BatchCode\":values.BatchCode});case 10:apiResponse=_context.sent;_context.next=17;break;case 13:_context.next=15;return SalesReturn_add_button_api_For_Invoice(values.InvoiceNumber.value);case 15:apiResponse=_context.sent;apiResponse.Data=apiResponse.Data.InvoiceItems;case 17:if(!(apiResponse.StatusCode==204)){_context.next=20;break;}customAlert({Type:3,Message:JSON.stringify(apiResponse.Message)});return _context.abrupt(\"return\");case 20:updateItemArr=_toConsumableArray(TableArr);existingIds=updateItemArr.map(function(item){return item.id;});nextId=existingIds.length>0?Math.max.apply(Math,_toConsumableArray(existingIds))+1:1;apiResponse.Data.forEach(function(i,keyIndex){var MRPOptions=i.ItemMRPDetails.map(function(i){return{label:i.MRPValue,value:i.MRP};});var GSTOptions=i.ItemGSTDetails.map(function(i){return{label:i.GSTPercentage,value:i.GST};});var defaultGST={value:i.GST,label:i.GSTPercentage};var defaultMRP={value:i.MRP,label:i.MRPValue};var InvoiceQuantity=i.Quantity;var newItemRow=_objectSpread(_objectSpread({},i),{},{Quantity:'',InvoiceQuantity:InvoiceQuantity,id:nextId,MRPOptions:MRPOptions,GSTOptions:GSTOptions,defaultGST:defaultGST,defaultMRP:defaultMRP,gstPercentage:i.GSTPercentage});var caculate=return_discountCalculate_Func(newItemRow);newItemRow[\"roundedTotalAmount\"]=caculate.roundedTotalAmount;updateItemArr.push(newItemRow);nextId++;});sumOfGrandTotal=updateItemArr.reduce(function(accumulator,currentObject){return accumulator+Number(currentObject[\"roundedTotalAmount\"])||0;},0);count_label=\"Total Amount\".concat(\" :\",Number(sumOfGrandTotal).toLocaleString());dispatch(BreadcrumbShowCountlabel(count_label));setTableArr(updateItemArr);setState(function(i){var a=_objectSpread({},i);a.values.ItemName=\"\";a.hasValid.ItemName.valid=true;return a;});_context.next=34;break;case 31:_context.prev=31;_context.t0=_context[\"catch\"](6);_cfunc.CommonConsole(_context.t0);case 34:case\"end\":return _context.stop();}}},_callee,null,[[6,31]]);}));return function AddPartyHandler(_x,_x2){return _ref5.apply(this,arguments);};}();var RetailerHandler=function RetailerHandler(event){setState(function(i){var a=_objectSpread({},i);a.values.ItemName=\"\";a.values.InvoiceNumber=\"\";a.values.Customer=event;a.hasValid.Customer.valid=true;a.hasValid.ItemName.valid=true;a.hasValid.InvoiceNumber.valid=true;return a;});setTableArr([]);var jsonBody=JSON.stringify({PartyID:_cfunc.loginPartyID(),CustomerID:event.value});dispatch(InvoiceNumber(jsonBody));};var itemNameOnChangeHandler=function itemNameOnChangeHandler(hasSelect,evn){if(values.Customer===\"\"){customAlert({Type:3,Message:\"Please select Retailer\"});return;}onChangeSelect({hasSelect:hasSelect,evn:evn,state:state,setState:setState});setrRturnMode(2);};// image onchange handler\nvar imageSelectHandler=/*#__PURE__*/function(){var _ref6=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(event,row){var file,base64,ImageUpload;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:file=event.target.files[0];_context2.next=3;return convertBase64(file);case 3:base64=_context2.sent;ImageUpload=base64;row.Image=ImageUpload;setImageTable(ImageUpload);case 7:case\"end\":return _context2.stop();}}},_callee2);}));return function imageSelectHandler(_x3,_x4){return _ref6.apply(this,arguments);};}();// image convert in string\nvar convertBase64=function convertBase64(file){return new Promise(function(resolve,reject){var fileReader=new FileReader();fileReader.readAsDataURL(file);fileReader.onload=function(){resolve(fileReader.result);};fileReader.onerror=function(error){reject(error);};});};var imageShowHandler=function imageShowHandler(row){var x=document.getElementById(\"add-img\");if(x.style.display===\"none\"){x.src=imageTable;if(imageTable!=\"\"){x.style.display=\"block\";}}else{x.style.display=\"none\";}};var SaveHandler=/*#__PURE__*/function(){var _ref7=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(event){var btnId,grand_total,invalidMessages,ReturnItems,filterData,jsonBody;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:event.preventDefault();btnId=event.target.id;grand_total=0;invalidMessages=[];ReturnItems=TableArr.map(function(i){if(!i.defaultReason){invalidMessages.push(_defineProperty({},i.ItemName,'Select Return Reason'));}var calculate=return_discountCalculate_Func(i);grand_total+=Number(calculate.roundedTotalAmount);return{\"Item\":i.Item,\"ItemName\":i.ItemName,\"Quantity\":i.Quantity,\"Unit\":i.Unit,\"BaseUnitQuantity\":i.BaseUnitQuantity,\"BatchCode\":i.BatchCode,\"BatchDate\":i.BatchDate,\"MRP\":i.MRP,\"MRPValue\":i.MRPValue,\"Rate\":i.Rate,\"GST\":i.GST,\"ItemReason\":i.defaultReason?i.defaultReason.value:\"\",\"Comment\":i.ItemComment,\"CGST\":Number(calculate.CGST_Amount).toFixed(2),\"SGST\":Number(calculate.SGST_Amount).toFixed(2),\"IGST\":Number(calculate.IGST_Amount).toFixed(2),\"GSTPercentage\":calculate.GST_Percentage,\"CGSTPercentage\":calculate.CGST_Percentage,\"SGSTPercentage\":calculate.SGST_Percentage,\"IGSTPercentage\":calculate.IGST_Percentage,\"BasicAmount\":Number(calculate.discountBaseAmt).toFixed(2),\"GSTAmount\":Number(calculate.roundedGstAmount).toFixed(2),\"Amount\":Number(calculate.roundedTotalAmount).toFixed(2),\"TaxType\":'GST',\"DiscountType\":calculate.discountType,\"Discount\":calculate.discount,\"DiscountAmount\":Number(calculate.disCountAmt).toFixed(2),\"ReturnItemImages\":[]};});filterData=ReturnItems.filter(function(i){return i.Quantity>0;});if(!(invalidMessages.length>0)){_context3.next=9;break;}customAlert({Type:4,Message:invalidMessages});return _context3.abrupt(\"return\");case 9:if(!(filterData.length===0)){_context3.next=12;break;}customAlert({Type:4,Message:\"Please Enter One Item Quantity\"});return _context3.abrupt(\"return\");case 12:try{jsonBody=JSON.stringify({ReturnDate:values.ReturnDate,ReturnReason:'',BatchCode:values.BatchCode,Customer:values.Customer.value,Comment:values.Comment,GrandTotal:grand_total,Party:_cfunc.loginPartyID(),RoundOffAmount:(grand_total-Math.trunc(grand_total)).toFixed(2),CreatedBy:_cfunc.loginUserID(),UpdatedBy:_cfunc.loginUserID(),ReturnItems:filterData});dispatch(saveSalesReturnMaster({jsonBody:jsonBody,btnId:btnId}));}catch(e){_cfunc.CommonConsole(e);}case 13:case\"end\":return _context3.stop();}}},_callee3);}));return function SaveHandler(_x5){return _ref7.apply(this,arguments);};}();if(!(userPageAccessState==='')){return/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsx(MetaTags,{children:_cfunc.metaTagLabel(userPageAccessState)}),/*#__PURE__*/_jsx(\"div\",{className:\"page-content\",style:{marginBottom:\"5cm\"},children:/*#__PURE__*/_jsxs(\"form\",{noValidate:true,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"px-2 c_card_filter header text-black mb-1\",children:[/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{sm:\"6\",children:/*#__PURE__*/_jsxs(FormGroup,{className:\"row mt-2\",children:[/*#__PURE__*/_jsxs(Label,{className:\"col-sm-1 p-2\",style:{width:\"115px\",marginRight:\"0.4cm\"},children:[fieldLabel.ReturnDate,\"  \"]}),/*#__PURE__*/_jsx(Col,{sm:\"7\",children:/*#__PURE__*/_jsx(C_DatePicker,{name:\"ReturnDate\",value:values.ReturnDate,onChange:ReturnDate_Onchange})})]})}),/*#__PURE__*/_jsx(Col,{sm:\"6\",children:/*#__PURE__*/_jsxs(FormGroup,{className:\" row mt-2 \",children:[/*#__PURE__*/_jsxs(Label,{className:\"col-sm-1 p-2\",style:{width:\"115px\",marginRight:\"0.4cm\"},children:[fieldLabel.Customer,\" \"]}),/*#__PURE__*/_jsxs(Col,{sm:\"7\",children:[/*#__PURE__*/_jsx(Select,{id:\"Customer \",name:\"Customer\",value:values.Customer,isSearchable:true,className:\"react-dropdown\",classNamePrefix:\"dropdown\",options:customerOptions,styles:{menu:function menu(provided){return _objectSpread(_objectSpread({},provided),{},{zIndex:2});}},onChange:RetailerHandler}),isError.Customer.length>0&&/*#__PURE__*/_jsx(\"span\",{className:\"text-danger f-8\",children:/*#__PURE__*/_jsx(\"small\",{children:isError.Customer})})]})]})})]}),/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{sm:\"6\",children:/*#__PURE__*/_jsxs(FormGroup,{className:\" row mt-1 \",children:[/*#__PURE__*/_jsxs(Label,{className:\"col-sm-1 p-2\",style:{width:\"115px\",marginRight:\"0.4cm\"},children:[fieldLabel.ItemName,\" \"]}),/*#__PURE__*/_jsx(Col,{sm:\"7\",children:/*#__PURE__*/_jsx(Select,{id:\"ItemName \",name:\"ItemName\",value:values.ItemName,isDisabled:returnMode===1?true:false,isSearchable:true,className:\"react-dropdown\",classNamePrefix:\"dropdown\",styles:{menu:function menu(provided){return _objectSpread(_objectSpread({},provided),{},{zIndex:2});}},options:ItemList_Options,onChange:itemNameOnChangeHandler})})]})}),/*#__PURE__*/_jsx(Col,{sm:\"6\",children:/*#__PURE__*/_jsxs(FormGroup,{className:\" row mt-1 \",children:[/*#__PURE__*/_jsxs(Label,{className:\"col-sm-1 p-2\",style:{width:\"115px\",marginRight:\"0.4cm\"},children:[fieldLabel.Comment,\" \"]}),/*#__PURE__*/_jsxs(Col,{sm:\"7\",children:[/*#__PURE__*/_jsx(Input,{name:\"Comment\",id:\"Comment\",value:values.Comment,type:\"text\",className:isError.Comment.length>0?\"is-invalid form-control\":\"form-control\",placeholder:\"Enter Comment\",autoComplete:\"off\",onChange:function onChange(event){onChangeText({event:event,state:state,setState:setState});}}),isError.Comment.length>0&&/*#__PURE__*/_jsx(\"span\",{className:\"invalid-feedback\",children:isError.Comment})]})]})})]}),/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{sm:\"6\",children:/*#__PURE__*/_jsxs(FormGroup,{className:\" row mt-1 \",children:[/*#__PURE__*/_jsx(Label,{className:\"col-sm-1 p-2\",style:{width:\"115px\",marginRight:\"0.4cm\"},children:fieldLabel.BatchCode}),/*#__PURE__*/_jsxs(Col,{sm:\"7\",children:[/*#__PURE__*/_jsx(Input,{name:\"BatchCode\",value:values.BatchCode,placeholder:\"Enter BatchCode\",type:\"text\",onChange:function onChange(event){onChangeText({event:event,state:state,setState:setState});}}),isError.BatchCode.length>0&&/*#__PURE__*/_jsx(\"span\",{className:\"text-danger f-8\",children:/*#__PURE__*/_jsx(\"small\",{children:isError.BatchCode})})]}),/*#__PURE__*/_jsx(Col,{sm:\"1\",className:\"mx-6 mt-1\",children:!(returnMode===1)&&/*#__PURE__*/_jsx(Button,{type:\"button\",color:\"btn btn-outline-primary border-1 font-size-11 text-center\",onClick:function onClick(e){return AddPartyHandler(e,\"add\");},children:\" Add\"})})]})}),/*#__PURE__*/_jsx(Col,{sm:\"6\",children:/*#__PURE__*/_jsxs(FormGroup,{className:\" row mt-1 \",children:[/*#__PURE__*/_jsxs(Label,{className:\"col-sm-1 p-2\",style:{width:\"115px\",marginRight:\"0.4cm\"},children:[\"  \",fieldLabel.InvoiceNumber]}),/*#__PURE__*/_jsx(Col,{sm:\"7\",children:/*#__PURE__*/_jsx(Select,{id:\"InvoiceNumber \",name:\"InvoiceNumber\",value:values.InvoiceNumber,isDisabled:returnMode===2||TableArr.length>0?true:false,isSearchable:true,className:\"react-dropdown\",classNamePrefix:\"dropdown\",styles:{menu:function menu(provided){return _objectSpread(_objectSpread({},provided),{},{zIndex:2});}},options:InvoiceNo_Options,onChange:function onChange(hasSelect,evn){onChangeSelect({hasSelect:hasSelect,evn:evn,state:state,setState:setState});setrRturnMode(1);}})}),/*#__PURE__*/_jsx(Col,{sm:\"1\",className:\"mx-6 mt-1 \",children:TableArr.length>0||!(values.ItemName===\"\")?/*#__PURE__*/_jsx(Change_Button,{onClick:function onClick(e){setTableArr([]);setState(function(i){var a=_objectSpread({},i);a.values.ItemName=\"\";a.values.InvoiceNumber=\"\";return a;});}}):!(returnMode===2)&&/*#__PURE__*/_jsxs(Button,{type:\"button\",color:\"btn btn-outline-primary border-1 font-size-11 text-center\",onClick:function onClick(e){return AddPartyHandler(e,\"Select\");},children:[\"        \",/*#__PURE__*/_jsx(\"i\",{children:\" \"}),\"Select\"]})})]})})]})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(ToolkitProvider,{keyField:\"id\",data:TableArr,columns:pagesListColumns,search:true,children:function children(toolkitProps){return/*#__PURE__*/_jsx(React.Fragment,{children:/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{xl:\"12\",children:/*#__PURE__*/_jsx(\"div\",{className:\"table-responsive table\",style:{minHeight:\"60vh\"},children:/*#__PURE__*/_jsx(BootstrapTable,_objectSpread(_objectSpread({keyField:\"id\",id:\"table_Arrow\",classes:\"table  table-bordered \",noDataIndication:/*#__PURE__*/_jsx(\"div\",{className:\"text-danger text-center \",children:\"Items Not available\"})},toolkitProps.baseProps),{},{onDataSizeChange:function onDataSizeChange(e){_cfunc.tableInputArrowUpDounFunc(\"#table_Arrow\");}}),\"table-key-\".concat(returnMode))})}),mySearchProps(toolkitProps.searchProps)]})});}})}),TableArr.length>0?/*#__PURE__*/_jsx(FormGroup,{children:/*#__PURE__*/_jsx(Col,{sm:2,style:{marginLeft:\"-40px\"},className:\"row save1\",children:/*#__PURE__*/_jsx(SaveButton,{pageMode:pageMode,loading:saveBtnloading,onClick:SaveHandler,userAcc:userPageAccessState,module:\"SalesReturn\"})})}):null]})})]});}else{return/*#__PURE__*/_jsx(React.Fragment,{});}};export default SalesReturn;","map":{"version":3,"names":["React","useEffect","useState","Col","FormGroup","Label","Input","Row","Button","MetaTags","BreadcrumbShowCountlabel","Breadcrumb_inputName","commonPageFieldSuccess","useDispatch","useSelector","AlertState","commonPageField","useHistory","comAddPageFieldFunc","formValid","initialFiledFunc","onChangeSelect","onChangeText","resetFunction","Select","Change_Button","SaveButton","url","mode","pageId","Retailer_List","customAlert","postSelect_Field_for_dropdown","saveSalesReturnMaster","InvoiceNumber","InvoiceNumberSuccess","saveSalesReturnMaster_Success","CustomTable2","CInput","C_DatePicker","decimalRegx","getpartyItemList","SalesReturn_add_button_api_For_Invoice","SalesReturn_add_button_api_For_Item","salesReturnCalculate","calculateSalesReturnFunc","return_discountCalculate_Func","_cfunc","mySearchProps","BootstrapTable","ToolkitProvider","SalesReturn","props","dispatch","history","currentDate_ymd","date_ymd_func","defaultsave","pageMode","userPageAccessState","setUserAccState","fileds","ReturnDate","Customer","ItemName","BatchCode","Comment","state","setState","value","label","discountDropOption","TableArr","setTableArr","returnMode","setrRturnMode","imageTable","setImageTable","saveBtnloading","SalesReturnReducer","postMsg","RetailerList","CommonAPI_Reducer","ItemList","PartyItemsReducer","partyItem","ReturnReasonList","PartyMasterBulkUpdateReducer","SelectField","InvoiceNo","userAccess","Login","RoleAccessUpdateData","pageField","CommonPageFieldReducer","page_Id","SALES_RETURN","loginJsonBody","jsonBody","JSON","stringify","Type","PartyID","loginPartyID","CompanyID","loginCompanyID","length","location","hasShowModal","hasOwnProperty","editValue","values","isError","fieldLabel","userAcc","locationPath","pathname","masterPath","find","inx","ActualPagePath","breadcrumbReturnFunc","Company","TypeID","fieldArr","PageFieldMaster","Status","StatusCode","dropdownAdd","Message","alterRepont","push","SALES_RETURN_LIST","customerOptions","map","index","id","Name","itemList","Item","itemCheck","selectCheck","ItemList_Options","filter","ReturnReasonOptions","InvoiceNo_Options","Invoice","FullInvoiceNumber","pagesListColumns","text","dataField","hidden","formatter","cell","row","minWidth","align","InvoiceQuantity","classes","formatExtraData","key","Quantity","event","target","totalAmountCalcuationFunc","UnitName","MRP","MRPValue","MRPOptions","GST","GSTPercentage","GSTOptions","cellContent","e","DiscountType","Discount","textAlign","Rate","date","BatchDate","defaultReason","menu","provided","zIndex","ItemComment","justifyContent","width","imageSelectHandler","imageShowHandler","deleteButtonAction","TablelistArray","caculate","roundedTotalAmount","sumOfGrandTotal","reduce","accumulator","currentObject","Number","count_label","toLocaleString","newArr","ReturnDate_Onchange","i","a","hasValid","valid","AddPartyHandler","type","invalidMsg1","apiResponse","Data","InvoiceItems","updateItemArr","existingIds","item","nextId","Math","max","forEach","keyIndex","ItemMRPDetails","ItemGSTDetails","defaultGST","defaultMRP","newItemRow","gstPercentage","CommonConsole","RetailerHandler","CustomerID","itemNameOnChangeHandler","hasSelect","evn","file","files","convertBase64","base64","ImageUpload","Image","Promise","resolve","reject","fileReader","FileReader","readAsDataURL","onload","result","onerror","error","x","document","getElementById","style","display","src","SaveHandler","preventDefault","btnId","grand_total","invalidMessages","ReturnItems","calculate","Unit","BaseUnitQuantity","CGST_Amount","toFixed","SGST_Amount","IGST_Amount","GST_Percentage","CGST_Percentage","SGST_Percentage","IGST_Percentage","discountBaseAmt","roundedGstAmount","discountType","discount","disCountAmt","filterData","ReturnReason","GrandTotal","Party","RoundOffAmount","trunc","CreatedBy","loginUserID","UpdatedBy","metaTagLabel","marginBottom","marginRight","toolkitProps","minHeight","baseProps","tableInputArrowUpDounFunc","searchProps","marginLeft"],"sources":["D:/Rohit/Git projects/Manthan/src/pages/Sale/Invoice/SalesReturn/SalesReturn.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport {\r\n    Col,\r\n    FormGroup,\r\n    Label,\r\n    Input,\r\n    Row,\r\n    Button\r\n} from \"reactstrap\";\r\nimport { MetaTags } from \"react-meta-tags\";\r\nimport { BreadcrumbShowCountlabel, Breadcrumb_inputName, commonPageFieldSuccess } from \"../../../../store/actions\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { AlertState, commonPageField } from \"../../../../store/actions\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport {\r\n    comAddPageFieldFunc,\r\n    formValid,\r\n    initialFiledFunc,\r\n    onChangeSelect,\r\n    onChangeText,\r\n    resetFunction,\r\n} from \"../../../../components/Common/validationFunction\";\r\nimport Select from \"react-select\";\r\nimport { Change_Button, SaveButton } from \"../../../../components/Common/CommonButton\";\r\nimport { url, mode, pageId } from \"../../../../routes/index\"\r\nimport { Retailer_List } from \"../../../../store/CommonAPI/SupplierRedux/actions\";\r\nimport { customAlert } from \"../../../../CustomAlert/ConfirmDialog\";\r\nimport { postSelect_Field_for_dropdown } from \"../../../../store/Administrator/PartyMasterBulkUpdateRedux/actions\";\r\nimport { saveSalesReturnMaster, InvoiceNumber, InvoiceNumberSuccess, saveSalesReturnMaster_Success } from \"../../../../store/Sales/SalesReturnRedux/action\";\r\nimport CustomTable2 from \"../../../../CustomTable2/Table\";\r\nimport \"./salesReturn.scss\";\r\nimport { CInput, C_DatePicker } from \"../../../../CustomValidateForm/index\";\r\nimport { decimalRegx, } from \"../../../../CustomValidateForm/RegexPattern\";\r\nimport { getpartyItemList } from \"../../../../store/Administrator/PartyItemsRedux/action\";\r\nimport { SalesReturn_add_button_api_For_Invoice, SalesReturn_add_button_api_For_Item } from \"../../../../helpers/backend_helper\";\r\nimport { salesReturnCalculate, calculateSalesReturnFunc, return_discountCalculate_Func } from \"./SalesCalculation\";\r\nimport * as _cfunc from \"../../../../components/Common/CommonFunction\";\r\nimport { mySearchProps } from \"../../../../components/Common/SearchBox/MySearch\";\r\nimport BootstrapTable from \"react-bootstrap-table-next\";\r\nimport ToolkitProvider from \"react-bootstrap-table2-toolkit\";\r\n\r\n\r\n\r\nconst SalesReturn = (props) => {\r\n\r\n    const dispatch = useDispatch();\r\n    const history = useHistory()\r\n    const currentDate_ymd = _cfunc.date_ymd_func();\r\n\r\n    const [pageMode] = useState(mode.defaultsave);\r\n    const [userPageAccessState, setUserAccState] = useState('');\r\n\r\n    const fileds = {\r\n        ReturnDate: currentDate_ymd,\r\n        Customer: \"\",\r\n        ItemName: \"\",\r\n        InvoiceNumber: \"\",\r\n        BatchCode: \"\",\r\n        Comment: \"\"\r\n    }\r\n\r\n    const [state, setState] = useState(initialFiledFunc(fileds))\r\n    const [discountDropOption] = useState([{ value: 1, label: \"Rs\" }, { value: 2, label: \"%\" }]);\r\n\r\n    const [TableArr, setTableArr] = useState([]);\r\n\r\n    const [returnMode, setrRturnMode] = useState(0);\r\n    const [imageTable, setImageTable] = useState([]);\r\n\r\n    //Access redux store Data /  'save_ModuleSuccess' action data\r\n    const {\r\n        postMsg,\r\n        RetailerList,\r\n        ItemList,\r\n        ReturnReasonList,\r\n        InvoiceNo,\r\n        pageField,\r\n        userAccess,\r\n        saveBtnloading,\r\n    } = useSelector((state) => ({\r\n        saveBtnloading: state.SalesReturnReducer.saveBtnloading,\r\n        postMsg: state.SalesReturnReducer.postMsg,\r\n        RetailerList: state.CommonAPI_Reducer.RetailerList,\r\n        ItemList: state.PartyItemsReducer.partyItem,\r\n        ReturnReasonList: state.PartyMasterBulkUpdateReducer.SelectField,\r\n        InvoiceNo: state.SalesReturnReducer.InvoiceNo,\r\n        userAccess: state.Login.RoleAccessUpdateData,\r\n        pageField: state.CommonPageFieldReducer.pageField,\r\n    }));\r\n\r\n    useEffect(() => {\r\n        dispatch(InvoiceNumberSuccess([]))\r\n        const page_Id = pageId.SALES_RETURN\r\n        dispatch(commonPageFieldSuccess(null));\r\n        dispatch(commonPageField(page_Id))\r\n        dispatch(getpartyItemList(_cfunc.loginJsonBody()))\r\n        const jsonBody = JSON.stringify({\r\n            Type: 1,\r\n            PartyID: _cfunc.loginPartyID(),\r\n            CompanyID: _cfunc.loginCompanyID()\r\n        });\r\n        dispatch(Retailer_List(jsonBody));\r\n        dispatch(BreadcrumbShowCountlabel(`${\"Total Amount\"} :${0}`))\r\n    }, []);\r\n\r\n\r\n    useEffect(() => {\r\n        if (TableArr.length === 0) {\r\n            setrRturnMode(0)\r\n        }\r\n    }, [TableArr]);\r\n\r\n    const location = { ...history.location }\r\n    // const hasShowloction = location.hasOwnProperty(mode.editValue)\r\n    const hasShowModal = props.hasOwnProperty(mode.editValue)\r\n\r\n    const values = { ...state.values }\r\n    const { isError } = state;\r\n    const { fieldLabel } = state;\r\n\r\n    // userAccess useEffect\r\n    useEffect(() => {\r\n        let userAcc = null;\r\n        let locationPath = location.pathname;\r\n        if (hasShowModal) {\r\n            locationPath = props.masterPath;\r\n        };\r\n        userAcc = userAccess.find((inx) => {\r\n            return (`/${inx.ActualPagePath}` === locationPath)\r\n        })\r\n        if (userAcc) {\r\n            setUserAccState(userAcc)\r\n            _cfunc.breadcrumbReturnFunc({ dispatch, userAcc });\r\n        };\r\n    }, [userAccess])\r\n\r\n    // Return Reason dropdown Values\r\n    useEffect(() => {\r\n        const jsonBody = JSON.stringify({\r\n            Company: _cfunc.loginCompanyID(),\r\n            TypeID: 8\r\n        });\r\n        dispatch(postSelect_Field_for_dropdown(jsonBody));\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        if (pageField) {\r\n            const fieldArr = pageField.PageFieldMaster\r\n            comAddPageFieldFunc({ state, setState, fieldArr })\r\n        }\r\n    }, [pageField])\r\n\r\n    useEffect(() => {\r\n        if ((postMsg.Status === true) && (postMsg.StatusCode === 200)) {\r\n            dispatch(saveSalesReturnMaster_Success({ Status: false }))\r\n            setTableArr([])\r\n            setState(() => resetFunction(fileds, state))// Clear form values  \r\n            dispatch(Breadcrumb_inputName(''))\r\n\r\n            if (pageMode === mode.dropdownAdd) {\r\n                customAlert({\r\n                    Type: 1,\r\n                    Message: postMsg.Message,\r\n                })\r\n            }\r\n            else {\r\n                let alterRepont = customAlert({\r\n                    Type: 1,\r\n                    Message: postMsg.Message,\r\n                })\r\n                if (alterRepont) {\r\n                    history.push({ pathname: url.SALES_RETURN_LIST })\r\n                }\r\n            }\r\n        }\r\n        else if (postMsg.Status === true) {\r\n            dispatch(saveSalesReturnMaster_Success({ Status: false }))\r\n            customAlert({\r\n                Type: 4,\r\n                Message: JSON.stringify(postMsg.Message),\r\n            })\r\n        }\r\n    }, [postMsg])\r\n\r\n\r\n    const customerOptions = RetailerList.map((index) => ({\r\n        value: index.id,\r\n        label: index.Name,\r\n    }));\r\n\r\n    const itemList = ItemList.map((index) => ({\r\n        value: index.Item,\r\n        label: index.ItemName,\r\n        itemCheck: index.selectCheck\r\n    }));\r\n\r\n    const ItemList_Options = itemList.filter((index) => {\r\n        return index.itemCheck === true\r\n    });\r\n\r\n    const ReturnReasonOptions = ReturnReasonList.map((index) => ({\r\n        value: index.id,\r\n        label: index.Name,\r\n    }));\r\n\r\n    const InvoiceNo_Options = InvoiceNo.map((index) => ({\r\n        value: index.Invoice,\r\n        label: index.FullInvoiceNumber,\r\n    }));\r\n\r\n\r\n\r\n\r\n    const pagesListColumns = [\r\n        {\r\n            text: \"Item Name\",\r\n            dataField: \"ItemName\",\r\n            hidden: false,\r\n            formatter: (cell, row) => {\r\n                return (\r\n                    <Label style={{ minWidth: \"200px\" }}>{row.ItemName}</Label>\r\n                )\r\n            }\r\n        },\r\n        {\r\n            text: \"Invoice Qty\",\r\n            hidden: (returnMode === 1) ? false : true,\r\n            align: () => \"right\",\r\n            formatter: (cell, row) => <Label>{row.InvoiceQuantity}</Label>,\r\n\r\n        },\r\n        {\r\n            text: \"Quantity\",\r\n            dataField: \"\",\r\n            classes: () => \"sales-discount-row\",\r\n            hidden: false,\r\n            formatExtraData: { TableArr },\r\n            formatter: (cell, row, key, { TableArr }) => {\r\n                return (\r\n                    <div className=\"parent\" >\r\n                        <div className=\"child\" style={{ minWidth: \"100px\" }}>\r\n                            <CInput\r\n\r\n                                defaultValue={row.Quantity}\r\n                                autoComplete=\"off\"\r\n                                type=\"text\"\r\n                                cpattern={decimalRegx}\r\n                                placeholder=\"Enter Quantity\"\r\n                                className=\"col col-sm text-end\"\r\n                                onChange={(event) => {\r\n                                    row[\"Quantity\"] = event.target.value;\r\n                                    totalAmountCalcuationFunc(row, TableArr)\r\n                                }}\r\n                            />\r\n                        </div>\r\n                        <div className=\"child mt-2 pl-1\">\r\n                            <label className=\"label\">&nbsp;{row.UnitName}</label>\r\n                        </div>\r\n\r\n                    </div>\r\n                )\r\n            }\r\n        },\r\n\r\n        {\r\n            text: \"MRP\",\r\n            dataField: \"MRP\",\r\n            hidden: false,\r\n            formatter: (cell, row, key) => {\r\n                return (\r\n                    <>\r\n                        <div style={{ minWidth: \"90px\" }}>\r\n                            <Select\r\n                                id={`MRP${key}`}\r\n                                name=\"MRP\"\r\n                                defaultValue={{ value: row.MRP, label: row.MRPValue }}\r\n                                isSearchable={true}\r\n                                isDisabled={returnMode === 1 && true}\r\n                                className=\"react-dropdown\"\r\n                                classNamePrefix=\"dropdown\"\r\n                                options={row.MRPOptions}\r\n                                onChange={(event) => {\r\n                                    row.MRP = event.value;\r\n                                    row.MRPValue = event.label;\r\n                                }}\r\n\r\n                            />\r\n                        </div>\r\n                    </>\r\n                )\r\n            }\r\n        },\r\n\r\n        {\r\n            text: \"GST\",\r\n            dataField: \"\",\r\n            hidden: false,\r\n            formatExtraData: { TableArr },\r\n            formatter: (cell, row, key, { TableArr }) => {\r\n                return (<div style={{ minWidth: \"90px\" }}>\r\n                    <Select\r\n                        id={`GST${key}`}\r\n                        name=\"GST\"\r\n                        defaultValue={{ value: row.GST, label: row.GSTPercentage }}\r\n                        isSearchable={true}\r\n                        isDisabled={returnMode === 1 && true}\r\n                        className=\"react-dropdown\"\r\n                        classNamePrefix=\"dropdown\"\r\n                        options={row.GSTOptions}\r\n                        onChange={(event) => {\r\n                            row.GST = event.value;\r\n                            row.GSTPercentage = event.label;\r\n                            totalAmountCalcuationFunc(row, TableArr)\r\n                        }}\r\n                    />\r\n                </div>)\r\n            }\r\n        },\r\n        {\r\n            text: \"Rate\",\r\n            dataField: \"\",\r\n            hidden: false,\r\n            classes: () => \"sales-rate-row\",\r\n            formatExtraData: { TableArr },\r\n            formatter: (cellContent, row, key, { TableArr }) => {\r\n                return (\r\n                    <>\r\n                        <div className=\"\">\r\n                            <div className=\"parent  mb-1\">\r\n                                <div className=\"child\">\r\n                                    <Select\r\n                                        id={`DicountType_${key}`}\r\n                                        classNamePrefix=\"select2-selection\"\r\n                                        value={discountDropOption[1]}\r\n                                        options={discountDropOption}\r\n                                        onChange={(e) => {\r\n                                            row.DiscountType = e.value;\r\n                                            row.Discount = ''\r\n                                            totalAmountCalcuationFunc(row, TableArr);\r\n                                        }}\r\n                                    />\r\n                                </div>\r\n                                <div className=\"child\">\r\n                                    <CInput\r\n                                        className=\"input\"\r\n                                        placeholder=\"Dist.\"\r\n                                        style={{ textAlign: \"right\" }}\r\n                                        type=\"text\"\r\n                                        cpattern={decimalRegx}\r\n                                        onChange={(event) => {\r\n                                            row.Discount = event.target.value;\r\n                                            totalAmountCalcuationFunc(row, TableArr)\r\n                                        }}\r\n\r\n                                    />\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"parent\">\r\n                                <CInput\r\n                                    defaultValue={row.Rate}\r\n                                    placeholder=\"Enter Rate\"\r\n                                    type=\"text\"\r\n                                    cpattern={/^-?([0-9]*\\.?[0-9]+|[0-9]+\\.?[0-9]*)$/}\r\n                                    className=\"text-end\"\r\n                                    onChange={(event) => {\r\n                                        row.Rate = event.target.value\r\n                                        totalAmountCalcuationFunc(row, TableArr)\r\n                                    }}\r\n                                />\r\n                            </div>\r\n\r\n                        </div>\r\n\r\n                    </>\r\n                );\r\n            },\r\n        },\r\n        {\r\n            text: \"Batch\",\r\n            dataField: \"\",\r\n            classes: () => \"sales-rate-row\",\r\n            formatter: (cell, row,) => {\r\n                return (\r\n                    <>\r\n                        <div className=\"\">\r\n                            <div className=\"parent mb-1\">\r\n                                <Input\r\n                                    defaultValue={row.BatchCode}\r\n                                    placeholder=\"Enter BatchCode\"\r\n                                    type=\"text\"\r\n                                    className=\"col col-sm text-center\"\r\n                                    onChange={(event) => { row.BatchCode = event.target.value }}\r\n                                />\r\n                            </div>\r\n                            <div className=\"parent\">\r\n                                <C_DatePicker\r\n                                    placeholder=\"Enter BatchDate\"\r\n                                    onChange={(e, date) => {\r\n                                        row.BatchDate = _cfunc.date_ymd_func(date)\r\n                                    }}\r\n                                />\r\n                            </div>\r\n\r\n                        </div>\r\n\r\n                    </>\r\n                );\r\n            },\r\n\r\n        },\r\n        {\r\n            text: \"Return Reason\",\r\n            dataField: \"\",\r\n            classes: () => \"sales-return-row\",\r\n            formatter: (cellContent, row) => {\r\n                return (<>\r\n                    <div className=\"parent mb-1\">\r\n                        <div className=\"child\">\r\n                            <Select\r\n                                isSearchable={true}\r\n                                className=\"react-dropdown\"\r\n                                classNamePrefix=\"dropdown\"\r\n                                defaultValue={row.defaultReason}\r\n                                styles={{\r\n                                    menu: provided => ({ ...provided, zIndex: 2 })\r\n                                }}\r\n                                options={ReturnReasonOptions}\r\n                                onChange={event => {\r\n\r\n                                    row[\"defaultReason\"] = event\r\n                                }}\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"parent\">\r\n                        <div className=\"child\">\r\n                            <Input\r\n                                placeholder=\"Enter Comment\"\r\n                                defaultChecked={row.ItemComment}\r\n                                type=\"text\"\r\n                                onChange={(event) => { row.ItemComment = event.target.value }}\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                </>\r\n                )\r\n            }\r\n        },\r\n\r\n        {\r\n            text: \"Image\",\r\n            dataField: \"\",\r\n            classes: () => \"sales-return-Image-row\",\r\n            formatter: (cellContent, row, key) => {\r\n                return (<span style={{ justifyContent: 'center', width: \"100px\" }}>\r\n                    <div>\r\n                        <div className=\"btn-group btn-group-example mb-3\" role=\"group\">\r\n                            <Input\r\n                                type=\"file\"\r\n                                className=\"form-control \"\r\n                                name=\"image\"\r\n                                id=\"file\"\r\n                                accept=\".jpg, .jpeg, .png ,.pdf\"\r\n                                onChange={(event) => { imageSelectHandler(event, row) }}\r\n                            />\r\n                            <button name=\"image\"\r\n                                accept=\".jpg, .jpeg, .png ,.pdf\"\r\n                                onClick={() => { imageShowHandler(row) }}\r\n                                id=\"ImageId\" type=\"button\" className=\"btn btn-primary \">Show</button>\r\n                        </div>\r\n                    </div>\r\n\r\n\r\n                </span>)\r\n            }\r\n        },\r\n        {\r\n            text: \"Action \",\r\n            dataField: \"\",\r\n            hidden: returnMode === 1 ? true : false,\r\n            formatExtraData: { TableArr },\r\n            formatter: (cellContent, row, key, { TableArr }) => (\r\n                <>\r\n                    <div style={{ justifyContent: 'center' }} >\r\n                        <Col>\r\n                            <FormGroup className=\" col col-sm-4 \">\r\n                                <Button\r\n                                    id={\"deleteid\"}\r\n                                    type=\"button\"\r\n                                    className=\"badge badge-soft-danger font-size-12 btn btn-danger waves-effect waves-light w-xxs border border-light\"\r\n                                    data-mdb-toggle=\"tooltip\" data-mdb-placement=\"top\" title='Delete MRP'\r\n                                    onClick={(e) => { deleteButtonAction(row, TableArr) }}>\r\n                                    <i className=\"mdi mdi-delete font-size-18\"></i>\r\n                                </Button>\r\n                            </FormGroup>\r\n                        </Col>\r\n                    </div>\r\n                </>\r\n            ),\r\n        },\r\n    ];\r\n\r\n    const totalAmountCalcuationFunc = (row, TablelistArray = []) => {\r\n        debugger\r\n        const caculate = return_discountCalculate_Func(row)\r\n        row.roundedTotalAmount = caculate.roundedTotalAmount;\r\n\r\n        let sumOfGrandTotal = TablelistArray.reduce((accumulator, currentObject) => accumulator + Number(currentObject[\"roundedTotalAmount\"]) || 0, 0);\r\n        let count_label = `${\"Total Amount\"} :${Number(sumOfGrandTotal).toLocaleString()}`\r\n        dispatch(BreadcrumbShowCountlabel(count_label))\r\n    }\r\n\r\n    const deleteButtonAction = (row, TablelistArray = []) => {\r\n        const newArr = TablelistArray.filter((index) => !(index.id === row.id))\r\n        let sumOfGrandTotal = newArr.reduce((accumulator, currentObject) => accumulator + Number(currentObject[\"roundedTotalAmount\"]) || 0, 0);\r\n        let count_label = `${\"Total Amount\"} :${Number(sumOfGrandTotal).toLocaleString()}`\r\n        dispatch(BreadcrumbShowCountlabel(count_label));\r\n        setTableArr(newArr)\r\n    }\r\n\r\n    const ReturnDate_Onchange = (e, date) => {\r\n        setState((i) => {\r\n            const a = { ...i }\r\n            a.values.ReturnDate = date;\r\n            a.hasValid.ReturnDate.valid = true\r\n            return a\r\n        })\r\n    }\r\n\r\n    const AddPartyHandler = async (e, type) => {\r\n\r\n        const invalidMsg1 = []\r\n        if ((values.ItemName === '') && (type === 'add')) {\r\n            invalidMsg1.push(`Select Item Name`)\r\n        }\r\n        if ((values.InvoiceNumber === '') && (values.Customer === '') && (type === 'Select')) {\r\n            invalidMsg1.push(`Select Retailer.`)\r\n        }\r\n        else if ((values.InvoiceNumber === '') && (type === 'Select')) {\r\n            invalidMsg1.push(`Select Invoice No.`)\r\n        }\r\n\r\n        if (invalidMsg1.length > 0) {\r\n            customAlert({\r\n                Type: 4,\r\n                Message: JSON.stringify(invalidMsg1)\r\n            })\r\n            return\r\n        }\r\n\r\n        let apiResponse;\r\n        try {\r\n\r\n            if (returnMode === 2) {\r\n\r\n                apiResponse = await SalesReturn_add_button_api_For_Item({//Post API Method\r\n                    \"ItemID\": values.ItemName.value,\r\n                    \"BatchCode\": values.BatchCode\r\n                })\r\n\r\n            }\r\n            else {\r\n                apiResponse = await SalesReturn_add_button_api_For_Invoice(values.InvoiceNumber.value)\r\n                apiResponse.Data = apiResponse.Data.InvoiceItems\r\n            }\r\n            if (apiResponse.StatusCode == 204) {\r\n                customAlert({\r\n                    Type: 3,\r\n                    Message: JSON.stringify(apiResponse.Message)\r\n                })\r\n                return\r\n            }\r\n            const updateItemArr = [...TableArr];\r\n            let existingIds = updateItemArr.map(item => item.id);\r\n            let nextId = existingIds.length > 0 ? Math.max(...existingIds) + 1 : 1;\r\n\r\n\r\n            apiResponse.Data.forEach((i, keyIndex) => {\r\n                const MRPOptions = i.ItemMRPDetails.map(i => ({ label: i.MRPValue, value: i.MRP }));\r\n                const GSTOptions = i.ItemGSTDetails.map(i => ({ label: i.GSTPercentage, value: i.GST }));\r\n                const defaultGST = { value: i.GST, label: i.GSTPercentage }\r\n                const defaultMRP = { value: i.MRP, label: i.MRPValue }\r\n                const InvoiceQuantity = i.Quantity\r\n\r\n                const newItemRow = {\r\n                    ...i,\r\n                    Quantity: '',\r\n                    InvoiceQuantity,\r\n                    id: nextId,\r\n                    MRPOptions: MRPOptions,\r\n                    GSTOptions: GSTOptions,\r\n                    defaultGST: defaultGST,\r\n                    defaultMRP: defaultMRP,\r\n                    gstPercentage: i.GSTPercentage,\r\n                }\r\n                const caculate = return_discountCalculate_Func(newItemRow)\r\n                newItemRow[\"roundedTotalAmount\"] = caculate.roundedTotalAmount;\r\n                updateItemArr.push(newItemRow);\r\n                nextId++;\r\n            });\r\n\r\n            let sumOfGrandTotal = updateItemArr.reduce((accumulator, currentObject) => accumulator + Number(currentObject[\"roundedTotalAmount\"]) || 0, 0);\r\n            let count_label = `${\"Total Amount\"} :${Number(sumOfGrandTotal).toLocaleString()}`\r\n            dispatch(BreadcrumbShowCountlabel(count_label));\r\n\r\n            setTableArr(updateItemArr);\r\n            setState((i) => {\r\n                let a = { ...i }\r\n                a.values.ItemName = \"\"\r\n                a.hasValid.ItemName.valid = true;\r\n                return a\r\n            })\r\n        } catch (error) { _cfunc.CommonConsole(error) }\r\n    }\r\n\r\n    const RetailerHandler = (event) => {\r\n        setState((i) => {\r\n            let a = { ...i }\r\n            a.values.ItemName = \"\"\r\n            a.values.InvoiceNumber = \"\"\r\n            a.values.Customer = event\r\n\r\n            a.hasValid.Customer.valid = true;\r\n            a.hasValid.ItemName.valid = true;\r\n            a.hasValid.InvoiceNumber.valid = true;\r\n\r\n            return a\r\n        })\r\n        setTableArr([])\r\n\r\n        const jsonBody = JSON.stringify({\r\n            PartyID: _cfunc.loginPartyID(),\r\n            CustomerID: event.value\r\n        });\r\n\r\n        dispatch(InvoiceNumber(jsonBody));\r\n    }\r\n\r\n    const itemNameOnChangeHandler = (hasSelect, evn) => {\r\n        if (values.Customer === \"\") {\r\n            customAlert({ Type: 3, Message: \"Please select Retailer\" })\r\n            return\r\n        }\r\n        onChangeSelect({ hasSelect, evn, state, setState, })\r\n        setrRturnMode(2)\r\n    }\r\n    // image onchange handler\r\n    const imageSelectHandler = async (event, row) => {\r\n\r\n        const file = event.target.files[0]\r\n        const base64 = await convertBase64(file);\r\n        let ImageUpload = base64\r\n        row.Image = ImageUpload\r\n        setImageTable(ImageUpload)\r\n    }\r\n\r\n    // image convert in string\r\n    const convertBase64 = (file) => {\r\n        return new Promise((resolve, reject) => {\r\n            const fileReader = new FileReader()\r\n            fileReader.readAsDataURL(file);\r\n\r\n            fileReader.onload = () => {\r\n                resolve(fileReader.result)\r\n            };\r\n            fileReader.onerror = (error) => {\r\n                reject(error)\r\n            }\r\n        })\r\n    }\r\n\r\n    const imageShowHandler = (row) => {\r\n\r\n        var x = document.getElementById(\"add-img\");\r\n        if (x.style.display === \"none\") {\r\n            x.src = imageTable\r\n            if (imageTable != \"\") {\r\n                x.style.display = \"block\";\r\n\r\n            }\r\n\r\n        } else {\r\n            x.style.display = \"none\";\r\n        }\r\n    }\r\n\r\n    const SaveHandler = async (event) => {\r\n\r\n        event.preventDefault();\r\n        const btnId = event.target.id;\r\n        let grand_total = 0;\r\n        const invalidMessages = [];\r\n\r\n        const ReturnItems = TableArr.map((i) => {\r\n            if (!i.defaultReason) {\r\n                invalidMessages.push({ [i.ItemName]: 'Select Return Reason' });\r\n            }\r\n\r\n            const calculate = return_discountCalculate_Func(i);\r\n            grand_total += Number(calculate.roundedTotalAmount);\r\n\r\n            return {\r\n                \"Item\": i.Item,\r\n                \"ItemName\": i.ItemName,\r\n                \"Quantity\": i.Quantity,\r\n                \"Unit\": i.Unit,\r\n                \"BaseUnitQuantity\": i.BaseUnitQuantity,\r\n                \"BatchCode\": i.BatchCode,\r\n                \"BatchDate\": i.BatchDate,\r\n                \"MRP\": i.MRP,\r\n                \"MRPValue\": i.MRPValue,\r\n                \"Rate\": i.Rate,\r\n                \"GST\": i.GST,\r\n                \"ItemReason\": i.defaultReason ? i.defaultReason.value : \"\",\r\n                \"Comment\": i.ItemComment,\r\n                \"CGST\": Number(calculate.CGST_Amount).toFixed(2),\r\n                \"SGST\": Number(calculate.SGST_Amount).toFixed(2),\r\n                \"IGST\": Number(calculate.IGST_Amount).toFixed(2),\r\n                \"GSTPercentage\": calculate.GST_Percentage,\r\n                \"CGSTPercentage\": calculate.CGST_Percentage,\r\n                \"SGSTPercentage\": calculate.SGST_Percentage,\r\n                \"IGSTPercentage\": calculate.IGST_Percentage,\r\n                \"BasicAmount\": Number(calculate.discountBaseAmt).toFixed(2),\r\n                \"GSTAmount\": Number(calculate.roundedGstAmount).toFixed(2),\r\n                \"Amount\": Number(calculate.roundedTotalAmount).toFixed(2),\r\n                \"TaxType\": 'GST',\r\n                \"DiscountType\": calculate.discountType,\r\n                \"Discount\": calculate.discount,\r\n                \"DiscountAmount\": Number(calculate.disCountAmt).toFixed(2),\r\n                \"ReturnItemImages\": [],\r\n            };\r\n        });\r\n\r\n        const filterData = ReturnItems.filter((i) => i.Quantity > 0);\r\n\r\n        if (invalidMessages.length > 0) {\r\n            customAlert({\r\n                Type: 4,\r\n                Message: invalidMessages,\r\n            });\r\n            return;\r\n        }\r\n\r\n        if (filterData.length === 0) {\r\n            customAlert({\r\n                Type: 4,\r\n                Message: \"Please Enter One Item Quantity\",\r\n            });\r\n            return;\r\n        }\r\n\r\n        try {\r\n            const jsonBody = JSON.stringify({\r\n                ReturnDate: values.ReturnDate,\r\n                ReturnReason: '',\r\n                BatchCode: values.BatchCode,\r\n                Customer: values.Customer.value,\r\n                Comment: values.Comment,\r\n                GrandTotal: grand_total,\r\n                Party: _cfunc.loginPartyID(),\r\n                RoundOffAmount: (grand_total - Math.trunc(grand_total)).toFixed(2),\r\n                CreatedBy: _cfunc.loginUserID(),\r\n                UpdatedBy: _cfunc.loginUserID(),\r\n                ReturnItems: filterData,\r\n            });\r\n\r\n            dispatch(saveSalesReturnMaster({ jsonBody, btnId }));\r\n\r\n        } catch (e) { _cfunc.CommonConsole(e) }\r\n    };\r\n\r\n    if (!(userPageAccessState === '')) {\r\n        return (\r\n            <React.Fragment>\r\n                <MetaTags>{_cfunc.metaTagLabel(userPageAccessState)}</MetaTags>\r\n\r\n                <div className=\"page-content\" style={{ marginBottom: \"5cm\" }}>\r\n\r\n                    <form noValidate>\r\n                        <div className=\"px-2 c_card_filter header text-black mb-1\" >\r\n                            {/* < img id='add-img' className='abc1' src={''} style={{ top: \"400px\" }} /> */}\r\n\r\n                            <Row>\r\n                                <Col sm=\"6\">\r\n                                    <FormGroup className=\"row mt-2\" >\r\n                                        <Label className=\"col-sm-1 p-2\"\r\n                                            style={{ width: \"115px\", marginRight: \"0.4cm\" }}>{fieldLabel.ReturnDate}  </Label>\r\n                                        <Col sm=\"7\">\r\n                                            <C_DatePicker\r\n                                                name='ReturnDate'\r\n                                                value={values.ReturnDate}\r\n                                                onChange={ReturnDate_Onchange}\r\n                                            />\r\n                                        </Col>\r\n                                    </FormGroup>\r\n                                </Col >\r\n\r\n                                <Col sm=\"6\">\r\n                                    <FormGroup className=\" row mt-2 \" >\r\n                                        <Label className=\"col-sm-1 p-2\"\r\n                                            style={{ width: \"115px\", marginRight: \"0.4cm\" }}>{fieldLabel.Customer} </Label>\r\n                                        <Col sm=\"7\">\r\n                                            <Select\r\n                                                id=\"Customer \"\r\n                                                name=\"Customer\"\r\n                                                value={values.Customer}\r\n                                                isSearchable={true}\r\n                                                className=\"react-dropdown\"\r\n                                                classNamePrefix=\"dropdown\"\r\n                                                options={customerOptions}\r\n                                                styles={{\r\n                                                    menu: provided => ({ ...provided, zIndex: 2 })\r\n                                                }}\r\n                                                onChange={RetailerHandler}\r\n                                            />\r\n                                            {isError.Customer.length > 0 && (\r\n                                                <span className=\"text-danger f-8\"><small>{isError.Customer}</small></span>\r\n                                            )}\r\n                                        </Col>\r\n\r\n                                    </FormGroup>\r\n                                </Col >\r\n                            </Row>\r\n\r\n                            <Row>\r\n                                <Col sm=\"6\">\r\n                                    <FormGroup className=\" row mt-1 \" >\r\n                                        <Label className=\"col-sm-1 p-2\"\r\n                                            style={{ width: \"115px\", marginRight: \"0.4cm\" }}>{fieldLabel.ItemName} </Label>\r\n                                        <Col sm=\"7\">\r\n                                            <Select\r\n                                                id=\"ItemName \"\r\n                                                name=\"ItemName\"\r\n                                                value={values.ItemName}\r\n                                                isDisabled={(returnMode === 1) ? true : false}\r\n                                                isSearchable={true}\r\n                                                className=\"react-dropdown\"\r\n                                                classNamePrefix=\"dropdown\"\r\n                                                styles={{\r\n                                                    menu: provided => ({ ...provided, zIndex: 2 })\r\n                                                }}\r\n                                                options={ItemList_Options}\r\n                                                onChange={itemNameOnChangeHandler}\r\n                                            />\r\n                                        </Col>\r\n                                    </FormGroup>\r\n                                </Col >\r\n\r\n                                <Col sm=\"6\">\r\n                                    <FormGroup className=\" row mt-1 \" >\r\n                                        <Label className=\"col-sm-1 p-2\"\r\n                                            style={{ width: \"115px\", marginRight: \"0.4cm\" }}>{fieldLabel.Comment} </Label>\r\n                                        <Col sm=\"7\">\r\n                                            <Input\r\n                                                name=\"Comment\"\r\n                                                id=\"Comment\"\r\n                                                value={values.Comment}\r\n                                                type=\"text\"\r\n                                                className={isError.Comment.length > 0 ? \"is-invalid form-control\" : \"form-control\"}\r\n                                                placeholder=\"Enter Comment\"\r\n                                                autoComplete='off'\r\n                                                onChange={(event) => {\r\n                                                    onChangeText({ event, state, setState })\r\n                                                }}\r\n                                            />\r\n                                            {isError.Comment.length > 0 && (\r\n                                                <span className=\"invalid-feedback\">{isError.Comment}</span>\r\n                                            )}\r\n                                        </Col>\r\n\r\n                                    </FormGroup>\r\n                                </Col >\r\n                            </Row>\r\n\r\n                            <Row>\r\n                                <Col sm=\"6\">\r\n                                    <FormGroup className=\" row mt-1 \" >\r\n                                        <Label className=\"col-sm-1 p-2\"\r\n                                            style={{ width: \"115px\", marginRight: \"0.4cm\" }}>{fieldLabel.BatchCode}</Label>\r\n                                        <Col sm=\"7\">\r\n                                            <Input\r\n                                                name=\"BatchCode\"\r\n                                                value={values.BatchCode}\r\n                                                placeholder=\"Enter BatchCode\"\r\n                                                type='text'\r\n                                                onChange={(event) => {\r\n                                                    onChangeText({ event, state, setState })\r\n                                                }}\r\n                                            />\r\n                                            {isError.BatchCode.length > 0 && (\r\n                                                <span className=\"text-danger f-8\"><small>{isError.BatchCode}</small></span>\r\n                                            )}\r\n\r\n\r\n                                        </Col>\r\n\r\n                                        <Col sm=\"1\" className=\"mx-6 mt-1\">\r\n                                            {\r\n                                                (!(returnMode === 1)) &&\r\n                                                < Button type=\"button\" color=\"btn btn-outline-primary border-1 font-size-11 text-center\"\r\n                                                    onClick={(e,) => AddPartyHandler(e, \"add\")}\r\n                                                > Add</Button>\r\n                                            }\r\n\r\n                                        </Col>\r\n                                    </FormGroup>\r\n                                </Col >\r\n                                <Col sm=\"6\">\r\n                                    <FormGroup className=\" row mt-1 \" >\r\n                                        <Label className=\"col-sm-1 p-2\"\r\n                                            style={{ width: \"115px\", marginRight: \"0.4cm\" }}>  {fieldLabel.InvoiceNumber}</Label>\r\n                                        <Col sm=\"7\">\r\n                                            <Select\r\n                                                id=\"InvoiceNumber \"\r\n                                                name=\"InvoiceNumber\"\r\n                                                value={values.InvoiceNumber}\r\n                                                isDisabled={((returnMode === 2) || (TableArr.length > 0)) ? true : false}\r\n                                                isSearchable={true}\r\n                                                className=\"react-dropdown\"\r\n                                                classNamePrefix=\"dropdown\"\r\n                                                styles={{\r\n                                                    menu: provided => ({ ...provided, zIndex: 2 })\r\n                                                }}\r\n                                                options={InvoiceNo_Options}\r\n                                                onChange={(hasSelect, evn) => {\r\n                                                    onChangeSelect({ hasSelect, evn, state, setState, })\r\n                                                    setrRturnMode(1)\r\n                                                }}\r\n                                            />\r\n\r\n                                        </Col>\r\n                                        <Col sm=\"1\" className=\"mx-6 mt-1 \">\r\n                                            {((TableArr.length > 0) || (!(values.ItemName === \"\"))) ?\r\n                                                <Change_Button onClick={(e) => {\r\n                                                    setTableArr([])\r\n                                                    setState((i) => {\r\n                                                        let a = { ...i }\r\n                                                        a.values.ItemName = \"\"\r\n                                                        a.values.InvoiceNumber = \"\"\r\n                                                        return a\r\n                                                    })\r\n                                                }} />\r\n                                                :\r\n                                                (!(returnMode === 2)) &&\r\n                                                <Button type=\"button\" color=\"btn btn-outline-primary border-1 font-size-11 text-center\"\r\n                                                    onClick={(e,) => AddPartyHandler(e, \"Select\")}\r\n                                                >        <i > </i>Select</Button>\r\n\r\n                                            }\r\n                                        </Col>\r\n                                    </FormGroup>\r\n                                </Col >\r\n\r\n                            </Row>\r\n                        </div>\r\n\r\n                        <div>\r\n                            <ToolkitProvider\r\n                                keyField={\"id\"}\r\n                                data={TableArr}\r\n                                columns={pagesListColumns}\r\n                                search\r\n                            >\r\n                                {(toolkitProps) => (\r\n                                    <React.Fragment>\r\n                                        <Row>\r\n                                            <Col xl=\"12\">\r\n                                                <div className=\"table-responsive table\" style={{ minHeight: \"60vh\" }}>\r\n                                                    <BootstrapTable\r\n                                                        keyField={\"id\"}\r\n                                                        key={`table-key-${returnMode}`}\r\n                                                        id=\"table_Arrow\"\r\n                                                        classes={\"table  table-bordered \"}\r\n                                                        noDataIndication={\r\n                                                            <div className=\"text-danger text-center \">\r\n                                                                Items Not available\r\n                                                            </div>\r\n                                                        }\r\n                                                        {...toolkitProps.baseProps}\r\n                                                        onDataSizeChange={(e) => {\r\n                                                            _cfunc.tableInputArrowUpDounFunc(\"#table_Arrow\")\r\n                                                        }}\r\n                                                    />\r\n                                                </div>\r\n                                            </Col>\r\n                                            {mySearchProps(toolkitProps.searchProps,)}\r\n                                        </Row>\r\n\r\n                                    </React.Fragment>\r\n                                )}\r\n                            </ToolkitProvider>\r\n                        </div>\r\n\r\n                        {\r\n                            TableArr.length > 0 ?\r\n                                <FormGroup>\r\n                                    <Col sm={2} style={{ marginLeft: \"-40px\" }} className={\"row save1\"}>\r\n                                        <SaveButton pageMode={pageMode}\r\n                                            loading={saveBtnloading}\r\n                                            onClick={SaveHandler}\r\n                                            userAcc={userPageAccessState}\r\n                                            module={\"SalesReturn\"}\r\n                                        />\r\n\r\n                                    </Col>\r\n                                </FormGroup >\r\n                                : null\r\n                        }\r\n\r\n                    </form >\r\n                </div >\r\n            </React.Fragment >\r\n        );\r\n    }\r\n    else {\r\n        return (\r\n            <React.Fragment></React.Fragment>\r\n        )\r\n    }\r\n};\r\n\r\nexport default SalesReturn\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}